[{"path":"e2e/page-objects/bugReporting.po.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { by, element } from \u0027protractor\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":2,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"export class BugReportingPage {","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  async getPhaseDescription() {","lastModifiedDate":"2021-01-25"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    return element(by.css(\u0027app-root\u0027)).element(by.id(\u0027phase-descriptor\u0027)).getText();","lastModifiedDate":"2021-01-25"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":8,"author":{"gitId":"ptvrajsk"},"content":"  async accessNewBugReportingPage() {","lastModifiedDate":"2021-03-31"},{"lineNumber":9,"author":{"gitId":"ptvrajsk"},"content":"    return element(by.className(\u0027create-new-bug-report-button\u0027)).click();","lastModifiedDate":"2021-03-31"},{"lineNumber":10,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":11,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":12,"author":{"gitId":"ptvrajsk"},"content":"  /**","lastModifiedDate":"2021-03-31"},{"lineNumber":13,"author":{"gitId":"ptvrajsk"},"content":"   * Identifies a Bug-Report based on the provided parameters.","lastModifiedDate":"2021-03-31"},{"lineNumber":14,"author":{"gitId":"ptvrajsk"},"content":"   * @param title Title of Bug-Report.","lastModifiedDate":"2021-03-31"},{"lineNumber":15,"author":{"gitId":"ptvrajsk"},"content":"   * @param severityLabel Severity assigned to Bug-Report.","lastModifiedDate":"2021-03-31"},{"lineNumber":16,"author":{"gitId":"ptvrajsk"},"content":"   * @param bugTypeLabel Bug-Report\u0027s Type.","lastModifiedDate":"2021-03-31"},{"lineNumber":17,"author":{"gitId":"ptvrajsk"},"content":"   * @returns true if a unique Bug-Report is present, false otherwise.","lastModifiedDate":"2021-03-31"},{"lineNumber":18,"author":{"gitId":"ptvrajsk"},"content":"   */","lastModifiedDate":"2021-03-31"},{"lineNumber":19,"author":{"gitId":"ptvrajsk"},"content":"  async isBugReportPresent({ title, severityLabel, bugTypeLabel }: { title: string; severityLabel?: string; bugTypeLabel?: string }) {","lastModifiedDate":"2021-03-31"},{"lineNumber":20,"author":{"gitId":"ptvrajsk"},"content":"    return element","lastModifiedDate":"2021-03-31"},{"lineNumber":21,"author":{"gitId":"ptvrajsk"},"content":"      .all(by.className(\u0027mat-row\u0027))","lastModifiedDate":"2021-03-31"},{"lineNumber":22,"author":{"gitId":"ptvrajsk"},"content":"      .filter(async (element, index) \u003d\u003e {","lastModifiedDate":"2021-03-31"},{"lineNumber":23,"author":{"gitId":"ptvrajsk"},"content":"        // Obtain Bug-Report Element\u0027s data","lastModifiedDate":"2021-03-31"},{"lineNumber":24,"author":{"gitId":"ptvrajsk"},"content":"        const titleText: string \u003d await element.getText();","lastModifiedDate":"2021-03-31"},{"lineNumber":25,"author":{"gitId":"ptvrajsk"},"content":"        const severityText \u003d await element.element(by.className(\u0027mat-column-severity\u0027)).getText();","lastModifiedDate":"2021-03-31"},{"lineNumber":26,"author":{"gitId":"ptvrajsk"},"content":"        const responseText \u003d await element.element(by.className(\u0027mat-column-type\u0027)).getText();","lastModifiedDate":"2021-03-31"},{"lineNumber":27,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":28,"author":{"gitId":"ptvrajsk"},"content":"        // Compare based on provided information","lastModifiedDate":"2021-03-31"},{"lineNumber":29,"author":{"gitId":"ptvrajsk"},"content":"        return (","lastModifiedDate":"2021-03-31"},{"lineNumber":30,"author":{"gitId":"ptvrajsk"},"content":"          titleText.includes(title) \u0026\u0026","lastModifiedDate":"2021-03-31"},{"lineNumber":31,"author":{"gitId":"ptvrajsk"},"content":"          (severityLabel \u003d\u003d null ? severityText.includes(severityLabel) : true) \u0026\u0026","lastModifiedDate":"2021-03-31"},{"lineNumber":32,"author":{"gitId":"ptvrajsk"},"content":"          (bugTypeLabel \u003d\u003d null ? responseText.includes(bugTypeLabel) : true)","lastModifiedDate":"2021-03-31"},{"lineNumber":33,"author":{"gitId":"ptvrajsk"},"content":"        );","lastModifiedDate":"2021-03-31"},{"lineNumber":34,"author":{"gitId":"ptvrajsk"},"content":"      })","lastModifiedDate":"2021-03-31"},{"lineNumber":35,"author":{"gitId":"ptvrajsk"},"content":"      .count()","lastModifiedDate":"2021-03-31"},{"lineNumber":36,"author":{"gitId":"ptvrajsk"},"content":"      .then((count: number) \u003d\u003e count \u003d\u003d\u003d 1);","lastModifiedDate":"2021-03-31"},{"lineNumber":37,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":38,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-25"}],"authorContributionMap":{"ptvrajsk":31,"-":7}},{"path":"e2e/page-objects/header.po.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"ptvrajsk"},"content":"import { by, element } from \u0027protractor\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":2,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":3,"author":{"gitId":"ptvrajsk"},"content":"export class Header {","lastModifiedDate":"2021-03-31"},{"lineNumber":4,"author":{"gitId":"ptvrajsk"},"content":"  async clickBackButton() {","lastModifiedDate":"2021-03-31"},{"lineNumber":5,"author":{"gitId":"ptvrajsk"},"content":"    return element(by.className(\u0027back-button\u0027)).click();","lastModifiedDate":"2021-03-31"},{"lineNumber":6,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":7,"author":{"gitId":"ptvrajsk"},"content":"}","lastModifiedDate":"2021-03-31"}],"authorContributionMap":{"ptvrajsk":7}},{"path":"e2e/page-objects/newIssue.po.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"ptvrajsk"},"content":"import { browser, by, element, ExpectedConditions } from \u0027protractor\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":2,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":3,"author":{"gitId":"ptvrajsk"},"content":"export class NewIssuePage {","lastModifiedDate":"2021-03-31"},{"lineNumber":4,"author":{"gitId":"ptvrajsk"},"content":"  async enterNewIssueTitle(title: string) {","lastModifiedDate":"2021-03-31"},{"lineNumber":5,"author":{"gitId":"ptvrajsk"},"content":"    return element(by.id(\u0027title\u0027)).sendKeys(title);","lastModifiedDate":"2021-03-31"},{"lineNumber":6,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":7,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":8,"author":{"gitId":"ptvrajsk"},"content":"  async enterNewBugReportDescription(desc: string) {","lastModifiedDate":"2021-03-31"},{"lineNumber":9,"author":{"gitId":"ptvrajsk"},"content":"    const textArea \u003d element(by.className(\u0027text-input-area\u0027));","lastModifiedDate":"2021-03-31"},{"lineNumber":10,"author":{"gitId":"ptvrajsk"},"content":"    await textArea.clear();","lastModifiedDate":"2021-03-31"},{"lineNumber":11,"author":{"gitId":"ptvrajsk"},"content":"    return textArea.sendKeys(desc);","lastModifiedDate":"2021-03-31"},{"lineNumber":12,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":13,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":14,"author":{"gitId":"ptvrajsk"},"content":"  async selectSeverityDropdown() {","lastModifiedDate":"2021-03-31"},{"lineNumber":15,"author":{"gitId":"ptvrajsk"},"content":"    return element(by.className(\u0027severity-dropdown\u0027)).click();","lastModifiedDate":"2021-03-31"},{"lineNumber":16,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":17,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":18,"author":{"gitId":"ptvrajsk"},"content":"  async selectBugTypeDropdown() {","lastModifiedDate":"2021-03-31"},{"lineNumber":19,"author":{"gitId":"ptvrajsk"},"content":"    return element(by.className(\u0027bug-dropdown\u0027)).click();","lastModifiedDate":"2021-03-31"},{"lineNumber":20,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":21,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":22,"author":{"gitId":"ptvrajsk"},"content":"  /**","lastModifiedDate":"2021-03-31"},{"lineNumber":23,"author":{"gitId":"ptvrajsk"},"content":"   * Selects dropdown option from Severity or Bug Type.","lastModifiedDate":"2021-03-31"},{"lineNumber":24,"author":{"gitId":"ptvrajsk"},"content":"   * NOTE: There is an issue where the page data isn\u0027t updated in","lastModifiedDate":"2021-03-31"},{"lineNumber":25,"author":{"gitId":"ptvrajsk"},"content":"   * realtime when dealing with drop-down clicks and option selection.","lastModifiedDate":"2021-03-31"},{"lineNumber":26,"author":{"gitId":"ptvrajsk"},"content":"   * As such stringing multiple of these actions (i.e. Select Severity Dropdown,","lastModifiedDate":"2021-03-31"},{"lineNumber":27,"author":{"gitId":"ptvrajsk"},"content":"   * Select Severity Option, Select BugType Dropdown, Select BugType option)","lastModifiedDate":"2021-03-31"},{"lineNumber":28,"author":{"gitId":"ptvrajsk"},"content":"   * can result in the test failing as the page does not update quickly and","lastModifiedDate":"2021-03-31"},{"lineNumber":29,"author":{"gitId":"ptvrajsk"},"content":"   * the driver receives stale data on the elements present on screen. Due","lastModifiedDate":"2021-03-31"},{"lineNumber":30,"author":{"gitId":"ptvrajsk"},"content":"   * to the fact that mat-option is a generic classname (which we have abstracted)","lastModifiedDate":"2021-03-31"},{"lineNumber":31,"author":{"gitId":"ptvrajsk"},"content":"   * the ExpectCondition would not accurately wait for the right dropdown list.","lastModifiedDate":"2021-03-31"},{"lineNumber":32,"author":{"gitId":"ptvrajsk"},"content":"   * But it has still been left in the function as a precautionary measure.","lastModifiedDate":"2021-03-31"},{"lineNumber":33,"author":{"gitId":"ptvrajsk"},"content":"   * A work-around to this is to place other actions in-between a dropdown option","lastModifiedDate":"2021-03-31"},{"lineNumber":34,"author":{"gitId":"ptvrajsk"},"content":"   * selection action. See \u0027creates new bug report\u0027 for example.","lastModifiedDate":"2021-03-31"},{"lineNumber":35,"author":{"gitId":"ptvrajsk"},"content":"   * @param optionNumber Position of Dropdown Option","lastModifiedDate":"2021-03-31"},{"lineNumber":36,"author":{"gitId":"ptvrajsk"},"content":"   * @param dropdownText Text within Dropdown Option","lastModifiedDate":"2021-03-31"},{"lineNumber":37,"author":{"gitId":"ptvrajsk"},"content":"   */","lastModifiedDate":"2021-03-31"},{"lineNumber":38,"author":{"gitId":"ptvrajsk"},"content":"  async selectDropDownOption({ optionNumber, dropdownText }: { optionNumber?: number; dropdownText?: string }) {","lastModifiedDate":"2021-03-31"},{"lineNumber":39,"author":{"gitId":"ptvrajsk"},"content":"    if (optionNumber !\u003d null \u0026\u0026 dropdownText !\u003d null) {","lastModifiedDate":"2021-03-31"},{"lineNumber":40,"author":{"gitId":"ptvrajsk"},"content":"      throw new Error(\u0027Supply either Dropdown option number or text, not both.\u0027);","lastModifiedDate":"2021-03-31"},{"lineNumber":41,"author":{"gitId":"ptvrajsk"},"content":"    } else if (optionNumber \u003d\u003d null \u0026\u0026 dropdownText \u003d\u003d null) {","lastModifiedDate":"2021-03-31"},{"lineNumber":42,"author":{"gitId":"ptvrajsk"},"content":"      throw new Error(\u0027No Dropdown identification parameters supplied.\u0027);","lastModifiedDate":"2021-03-31"},{"lineNumber":43,"author":{"gitId":"ptvrajsk"},"content":"    }","lastModifiedDate":"2021-03-31"},{"lineNumber":44,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":45,"author":{"gitId":"ptvrajsk"},"content":"    await browser.wait(ExpectedConditions.presenceOf(element(by.className(\u0027mat-option\u0027))));","lastModifiedDate":"2021-03-31"},{"lineNumber":46,"author":{"gitId":"ptvrajsk"},"content":"    const selectedOption \u003d optionNumber !\u003d null ? this.selectDropwdownByOption(optionNumber) : this.selectDropdownByText(dropdownText);","lastModifiedDate":"2021-03-31"},{"lineNumber":47,"author":{"gitId":"ptvrajsk"},"content":"    return selectedOption.click();","lastModifiedDate":"2021-03-31"},{"lineNumber":48,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":49,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":50,"author":{"gitId":"ptvrajsk"},"content":"  private selectDropwdownByOption(optionNumber: number) {","lastModifiedDate":"2021-03-31"},{"lineNumber":51,"author":{"gitId":"ptvrajsk"},"content":"    return element.all(by.className(\u0027mat-option\u0027)).get(optionNumber);","lastModifiedDate":"2021-03-31"},{"lineNumber":52,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":53,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":54,"author":{"gitId":"ptvrajsk"},"content":"  private selectDropdownByText(dropdownText: string) {","lastModifiedDate":"2021-03-31"},{"lineNumber":55,"author":{"gitId":"ptvrajsk"},"content":"    return element.all(by.className(\u0027mat-option\u0027)).filter(async (element, index) \u003d\u003e {","lastModifiedDate":"2021-03-31"},{"lineNumber":56,"author":{"gitId":"ptvrajsk"},"content":"      const labelName: string \u003d await element.getText();","lastModifiedDate":"2021-03-31"},{"lineNumber":57,"author":{"gitId":"ptvrajsk"},"content":"      return labelName.includes(dropdownText);","lastModifiedDate":"2021-03-31"},{"lineNumber":58,"author":{"gitId":"ptvrajsk"},"content":"    });","lastModifiedDate":"2021-03-31"},{"lineNumber":59,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":60,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":61,"author":{"gitId":"ptvrajsk"},"content":"  async submitBugReport() {","lastModifiedDate":"2021-03-31"},{"lineNumber":62,"author":{"gitId":"ptvrajsk"},"content":"    return element(by.className(\u0027submit-new-bug-report\u0027)).click();","lastModifiedDate":"2021-03-31"},{"lineNumber":63,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-31"},{"lineNumber":64,"author":{"gitId":"ptvrajsk"},"content":"}","lastModifiedDate":"2021-03-31"}],"authorContributionMap":{"ptvrajsk":64}},{"path":"e2e/spec/bugReporting/bugReportingPhase.e2e-spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"ptvrajsk"},"content":"import { BugReportingPage } from \u0027../../page-objects/bugReporting.po\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":2,"author":{"gitId":"ptvrajsk"},"content":"import { PhaseDescription } from \u0027../../../src/app/core/services/phase.service\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":3,"author":{"gitId":"ptvrajsk"},"content":"import { Phase } from \u0027../../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":4,"author":{"gitId":"ptvrajsk"},"content":"import { LoginPage } from \u0027../../page-objects/login.po\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":5,"author":{"gitId":"ptvrajsk"},"content":"import { Header } from \u0027../../page-objects/header.po\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":6,"author":{"gitId":"ptvrajsk"},"content":"import { NewIssuePage } from \u0027../../page-objects/newIssue.po\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":7,"author":{"gitId":"ptvrajsk"},"content":"import { SEVERITY_MEDIUM, TYPE_DOCUMENTATION_BUG } from \u0027../../../tests/constants/label.constants\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":8,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":9,"author":{"gitId":"ptvrajsk"},"content":"describe(\"CATcher\u0027s Bug Reporting Phase\", () \u003d\u003e {","lastModifiedDate":"2021-03-31"},{"lineNumber":10,"author":{"gitId":"ptvrajsk"},"content":"  let bugReportingPage: BugReportingPage;","lastModifiedDate":"2021-03-31"},{"lineNumber":11,"author":{"gitId":"ptvrajsk"},"content":"  let loginPage: LoginPage;","lastModifiedDate":"2021-03-31"},{"lineNumber":12,"author":{"gitId":"ptvrajsk"},"content":"  let headerComponent: Header;","lastModifiedDate":"2021-03-31"},{"lineNumber":13,"author":{"gitId":"ptvrajsk"},"content":"  let newIssuePage: NewIssuePage;","lastModifiedDate":"2021-03-31"},{"lineNumber":14,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":15,"author":{"gitId":"ptvrajsk"},"content":"  beforeEach(async () \u003d\u003e {","lastModifiedDate":"2021-03-31"},{"lineNumber":16,"author":{"gitId":"ptvrajsk"},"content":"    loginPage \u003d new LoginPage();","lastModifiedDate":"2021-03-31"},{"lineNumber":17,"author":{"gitId":"ptvrajsk"},"content":"    headerComponent \u003d new Header();","lastModifiedDate":"2021-03-31"},{"lineNumber":18,"author":{"gitId":"ptvrajsk"},"content":"    bugReportingPage \u003d new BugReportingPage();","lastModifiedDate":"2021-03-31"},{"lineNumber":19,"author":{"gitId":"ptvrajsk"},"content":"    newIssuePage \u003d new NewIssuePage();","lastModifiedDate":"2021-03-31"},{"lineNumber":20,"author":{"gitId":"ptvrajsk"},"content":"    await loginPage.navigateToRoot();","lastModifiedDate":"2021-03-31"},{"lineNumber":21,"author":{"gitId":"ptvrajsk"},"content":"    await loginPage.bypassAuthentication();","lastModifiedDate":"2021-03-31"},{"lineNumber":22,"author":{"gitId":"ptvrajsk"},"content":"  });","lastModifiedDate":"2021-03-31"},{"lineNumber":23,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":24,"author":{"gitId":"ptvrajsk"},"content":"  it(`displays \"${PhaseDescription[Phase.phaseBugReporting]}\" in header bar`, async () \u003d\u003e {","lastModifiedDate":"2021-03-31"},{"lineNumber":25,"author":{"gitId":"ptvrajsk"},"content":"    expect(await bugReportingPage.getPhaseDescription()).toContain(PhaseDescription[Phase.phaseBugReporting]);","lastModifiedDate":"2021-03-31"},{"lineNumber":26,"author":{"gitId":"ptvrajsk"},"content":"  });","lastModifiedDate":"2021-03-31"},{"lineNumber":27,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":28,"author":{"gitId":"ptvrajsk"},"content":"  it(\u0027creates new bug report\u0027, async () \u003d\u003e {","lastModifiedDate":"2021-03-31"},{"lineNumber":29,"author":{"gitId":"ptvrajsk"},"content":"    const testIssueCreationTitle \u003d \u0027Test Issue Creation Title\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":30,"author":{"gitId":"ptvrajsk"},"content":"    const testIssueCreationDescription \u003d \u0027Test Issue Creation Text\u0027;","lastModifiedDate":"2021-03-31"},{"lineNumber":31,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":32,"author":{"gitId":"ptvrajsk"},"content":"    await bugReportingPage","lastModifiedDate":"2021-03-31"},{"lineNumber":33,"author":{"gitId":"ptvrajsk"},"content":"      .accessNewBugReportingPage()","lastModifiedDate":"2021-03-31"},{"lineNumber":34,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.enterNewIssueTitle(testIssueCreationTitle))","lastModifiedDate":"2021-03-31"},{"lineNumber":35,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.selectSeverityDropdown())","lastModifiedDate":"2021-03-31"},{"lineNumber":36,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.selectDropDownOption({ dropdownText: SEVERITY_MEDIUM }))","lastModifiedDate":"2021-03-31"},{"lineNumber":37,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.enterNewBugReportDescription(testIssueCreationDescription))","lastModifiedDate":"2021-03-31"},{"lineNumber":38,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.selectBugTypeDropdown())","lastModifiedDate":"2021-03-31"},{"lineNumber":39,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.selectDropDownOption({ dropdownText: TYPE_DOCUMENTATION_BUG }))","lastModifiedDate":"2021-03-31"},{"lineNumber":40,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e newIssuePage.submitBugReport())","lastModifiedDate":"2021-03-31"},{"lineNumber":41,"author":{"gitId":"ptvrajsk"},"content":"      .then(() \u003d\u003e headerComponent.clickBackButton());","lastModifiedDate":"2021-03-31"},{"lineNumber":42,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-31"},{"lineNumber":43,"author":{"gitId":"ptvrajsk"},"content":"    const isBugReportCorrectlyCreated: boolean \u003d await bugReportingPage.isBugReportPresent({","lastModifiedDate":"2021-03-31"},{"lineNumber":44,"author":{"gitId":"ptvrajsk"},"content":"      title: testIssueCreationTitle,","lastModifiedDate":"2021-03-31"},{"lineNumber":45,"author":{"gitId":"ptvrajsk"},"content":"      severityLabel: SEVERITY_MEDIUM,","lastModifiedDate":"2021-03-31"},{"lineNumber":46,"author":{"gitId":"ptvrajsk"},"content":"      bugTypeLabel: TYPE_DOCUMENTATION_BUG","lastModifiedDate":"2021-03-31"},{"lineNumber":47,"author":{"gitId":"ptvrajsk"},"content":"    });","lastModifiedDate":"2021-03-31"},{"lineNumber":48,"author":{"gitId":"ptvrajsk"},"content":"    expect(isBugReportCorrectlyCreated).toEqual(true); // Confirm that new issue has been added to list of existing issues.","lastModifiedDate":"2021-03-31"},{"lineNumber":49,"author":{"gitId":"ptvrajsk"},"content":"  });","lastModifiedDate":"2021-03-31"},{"lineNumber":50,"author":{"gitId":"ptvrajsk"},"content":"});","lastModifiedDate":"2021-03-31"}],"authorContributionMap":{"ptvrajsk":50}},{"path":"e2e/spec/login/login.e2e-spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { AppConfig } from \u0027../../../src/environments/environment\u0027;","lastModifiedDate":"2021-03-29"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { LoginPage } from \u0027../../page-objects/login.po\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"describe(\"CATcher\u0027s Login Page\", () \u003d\u003e {","lastModifiedDate":"2021-03-03"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  let page: LoginPage;","lastModifiedDate":"2021-01-25"},{"lineNumber":6,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  beforeAll(() \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    page \u003d new LoginPage();","lastModifiedDate":"2021-01-25"},{"lineNumber":9,"author":{"gitId":"-"},"content":"    page.navigateToRoot();","lastModifiedDate":"2021-01-25"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-01-25"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  it(\u0027displays \"CATcher\" in header bar\u0027, async () \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    expect(await page.getTitle()).toEqual(`CATcher v${AppConfig.version}`);","lastModifiedDate":"2021-03-29"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-01-25"},{"lineNumber":15,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  it(\u0027allows users to authenticate themselves\u0027, async () \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    await page.login();","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    expect(await page.getConfirmationScreenTitle()).toEqual(\u0027Confirm Login Account\u0027);","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    await page.confirmUser();","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-01-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-01-25"}],"authorContributionMap":{"Low Jun Kai, Sean":2,"-":19}},{"path":"electron-utils/menu-bar.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Anubhav"},"content":"import { app, MenuItemConstructorOptions, MenuItem, Menu, BrowserWindow } from \u0027electron\u0027;","lastModifiedDate":"2021-06-28"},{"lineNumber":2,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-20"},{"lineNumber":3,"author":{"gitId":"-"},"content":"// Edited version of a template menu-bar provided by the electron API,","lastModifiedDate":"2021-01-20"},{"lineNumber":4,"author":{"gitId":"-"},"content":"// refer to https://electronjs.org/docs/api/menu for more information.","lastModifiedDate":"2021-01-20"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const fileMenu: MenuItemConstructorOptions \u003d {","lastModifiedDate":"2021-01-23"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  label: \u0027File\u0027,","lastModifiedDate":"2021-01-20"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  submenu: [","lastModifiedDate":"2021-01-20"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    {","lastModifiedDate":"2021-01-20"},{"lineNumber":9,"author":{"gitId":"-"},"content":"      label: \u0027Quit CATcher\u0027, accelerator: \u0027CmdOrCtrl+Q\u0027, click() { app.quit(); }","lastModifiedDate":"2021-01-20"},{"lineNumber":10,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-20"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  ]","lastModifiedDate":"2021-01-20"},{"lineNumber":12,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-20"},{"lineNumber":13,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-20"},{"lineNumber":14,"author":{"gitId":"-"},"content":"const editMenu: MenuItemConstructorOptions \u003d {","lastModifiedDate":"2021-01-23"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  label: \u0027Edit\u0027,","lastModifiedDate":"2021-01-20"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  submenu: [","lastModifiedDate":"2021-01-20"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    { role: \u0027undo\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    { role: \u0027redo\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    { type: \u0027separator\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    { role: \u0027selectAll\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    { role: \u0027cut\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    { role: \u0027copy\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    { role: \u0027paste\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    { role: \u0027delete\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  ]","lastModifiedDate":"2021-01-20"},{"lineNumber":26,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-20"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-20"},{"lineNumber":28,"author":{"gitId":"-"},"content":"const viewMenu: MenuItemConstructorOptions \u003d {","lastModifiedDate":"2021-01-23"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  label: \u0027View\u0027,","lastModifiedDate":"2021-01-20"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  submenu: [","lastModifiedDate":"2021-01-20"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    { role: \u0027resetZoom\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    { role: \u0027zoomIn\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    { role: \u0027zoomOut\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    { type: \u0027separator\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    { role: \u0027togglefullscreen\u0027 }","lastModifiedDate":"2021-01-20"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  ]","lastModifiedDate":"2021-01-20"},{"lineNumber":37,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-20"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-20"},{"lineNumber":39,"author":{"gitId":"-"},"content":"export function createMenuOptions(isDevMode: boolean): MenuItemConstructorOptions[] {","lastModifiedDate":"2021-01-20"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  const mainMenuTemplate: MenuItemConstructorOptions[] \u003d [fileMenu, editMenu, viewMenu];","lastModifiedDate":"2021-01-20"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-20"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  if (isDevMode) {","lastModifiedDate":"2021-01-20"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    let viewSubMenu: MenuItemConstructorOptions[];","lastModifiedDate":"2021-01-20"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    viewSubMenu \u003d mainMenuTemplate[2].submenu as MenuItemConstructorOptions[];","lastModifiedDate":"2021-01-20"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    viewSubMenu.push(","lastModifiedDate":"2021-01-20"},{"lineNumber":46,"author":{"gitId":"-"},"content":"      { type: \u0027separator\u0027 },","lastModifiedDate":"2021-01-20"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      { role: \u0027toggleDevTools\u0027}","lastModifiedDate":"2021-01-20"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2021-01-20"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-20"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  return mainMenuTemplate;","lastModifiedDate":"2021-01-20"},{"lineNumber":51,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-20"},{"lineNumber":52,"author":{"gitId":"Anubhav"},"content":"","lastModifiedDate":"2021-06-28"},{"lineNumber":53,"author":{"gitId":"Anubhav"},"content":"function createInspectElementMenuItem(contextMenuCoords: {x, y}): MenuItem {","lastModifiedDate":"2021-06-28"},{"lineNumber":54,"author":{"gitId":"Anubhav"},"content":"   return new MenuItem({","lastModifiedDate":"2021-06-28"},{"lineNumber":55,"author":{"gitId":"Anubhav"},"content":"    label: \u0027Inspect Element\u0027,","lastModifiedDate":"2021-06-28"},{"lineNumber":56,"author":{"gitId":"Anubhav"},"content":"    click:  (menuItem, window, event) \u003d\u003e {","lastModifiedDate":"2021-06-28"},{"lineNumber":57,"author":{"gitId":"Anubhav"},"content":"      window.webContents.inspectElement(contextMenuCoords.x, contextMenuCoords.y);","lastModifiedDate":"2021-06-28"},{"lineNumber":58,"author":{"gitId":"Anubhav"},"content":"    }","lastModifiedDate":"2021-06-28"},{"lineNumber":59,"author":{"gitId":"Anubhav"},"content":"  });","lastModifiedDate":"2021-06-28"},{"lineNumber":60,"author":{"gitId":"Anubhav"},"content":"}","lastModifiedDate":"2021-06-28"},{"lineNumber":61,"author":{"gitId":"Anubhav"},"content":"","lastModifiedDate":"2021-06-28"},{"lineNumber":62,"author":{"gitId":"Anubhav"},"content":"/**","lastModifiedDate":"2021-06-28"},{"lineNumber":63,"author":{"gitId":"Anubhav"},"content":" * Creates a menu that is displayed when the context-menu event fires on the","lastModifiedDate":"2021-06-28"},{"lineNumber":64,"author":{"gitId":"Anubhav"},"content":" * given BrowserWindow (i.e. usually when user right-clicks on the window).","lastModifiedDate":"2021-06-28"},{"lineNumber":65,"author":{"gitId":"Anubhav"},"content":" * This menu will contain an \u0027Inspect Element\u0027 MenuItem.","lastModifiedDate":"2021-06-28"},{"lineNumber":66,"author":{"gitId":"Anubhav"},"content":" */","lastModifiedDate":"2021-06-28"},{"lineNumber":67,"author":{"gitId":"Anubhav"},"content":"export function createContextMenu(win: BrowserWindow): void {","lastModifiedDate":"2021-06-28"},{"lineNumber":68,"author":{"gitId":"Anubhav"},"content":"  const contextMenuCoords \u003d {x: null, y: null};","lastModifiedDate":"2021-06-28"},{"lineNumber":69,"author":{"gitId":"Anubhav"},"content":"  const contextMenu \u003d new Menu();","lastModifiedDate":"2021-06-28"},{"lineNumber":70,"author":{"gitId":"Anubhav"},"content":"  contextMenu.append(createInspectElementMenuItem(contextMenuCoords));","lastModifiedDate":"2021-06-28"},{"lineNumber":71,"author":{"gitId":"Anubhav"},"content":"","lastModifiedDate":"2021-06-28"},{"lineNumber":72,"author":{"gitId":"Anubhav"},"content":"  win.webContents.on(\u0027context-menu\u0027,  (event, contextMenuParams) \u003d\u003e {","lastModifiedDate":"2021-06-28"},{"lineNumber":73,"author":{"gitId":"Anubhav"},"content":"    // record the mouse position, when context-menu event is fired","lastModifiedDate":"2021-06-28"},{"lineNumber":74,"author":{"gitId":"Anubhav"},"content":"    contextMenuCoords.x \u003d contextMenuParams.x;","lastModifiedDate":"2021-06-28"},{"lineNumber":75,"author":{"gitId":"Anubhav"},"content":"    contextMenuCoords.y \u003d contextMenuParams.y;","lastModifiedDate":"2021-06-28"},{"lineNumber":76,"author":{"gitId":"Anubhav"},"content":"    contextMenu.popup({window: win});","lastModifiedDate":"2021-06-28"},{"lineNumber":77,"author":{"gitId":"Anubhav"},"content":"  });","lastModifiedDate":"2021-06-28"},{"lineNumber":78,"author":{"gitId":"Anubhav"},"content":"}","lastModifiedDate":"2021-06-28"}],"authorContributionMap":{"Anubhav":28,"-":50}},{"path":"electron-utils/oauth.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { BrowserWindow, shell } from \u0027electron\u0027;","lastModifiedDate":"2020-02-08"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { v4 as uuid } from \u0027uuid\u0027;","lastModifiedDate":"2021-03-07"},{"lineNumber":3,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const nodeUrl \u003d require(\u0027url\u0027);","lastModifiedDate":"2020-02-03"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const fetch \u003d require(\u0027node-fetch\u0027);","lastModifiedDate":"2020-02-03"},{"lineNumber":6,"author":{"gitId":"-"},"content":"const Logger \u003d require(\u0027electron-log\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":7,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":8,"author":{"gitId":"-"},"content":"const CLIENT_ID \u003d \u00276750652c0c9001314434\u0027;","lastModifiedDate":"2020-02-03"},{"lineNumber":9,"author":{"gitId":"-"},"content":"const BASE_URL \u003d \u0027https://github.com\u0027;","lastModifiedDate":"2020-02-03"},{"lineNumber":10,"author":{"gitId":"-"},"content":"const ACCESS_TOKEN_URL \u003d \u0027https://catcher-proxy.herokuapp.com/authenticate\u0027;","lastModifiedDate":"2020-02-03"},{"lineNumber":11,"author":{"gitId":"-"},"content":"const CALLBACK_URL \u003d \u0027http://localhost:4200\u0027;","lastModifiedDate":"2020-02-03"},{"lineNumber":12,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":13,"author":{"gitId":"-"},"content":"let authWindow;","lastModifiedDate":"2020-02-03"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":15,"author":{"gitId":"-"},"content":"/**","lastModifiedDate":"2020-02-03"},{"lineNumber":16,"author":{"gitId":"-"},"content":" * Will retrieve the access token from a proxy server which acts as a intermediary to retrieve the tokens from Github.","lastModifiedDate":"2020-02-03"},{"lineNumber":17,"author":{"gitId":"-"},"content":" * @param window - The main window of CATcher.","lastModifiedDate":"2020-02-03"},{"lineNumber":18,"author":{"gitId":"-"},"content":" * @param repoPermissionLevel - The level of permission required to be granted by the user to use CATcher.","lastModifiedDate":"2020-03-04"},{"lineNumber":19,"author":{"gitId":"-"},"content":" */","lastModifiedDate":"2020-02-03"},{"lineNumber":20,"author":{"gitId":"-"},"content":"export function getAccessToken(window: BrowserWindow, repoPermissionLevel: string): Promise\u003cany\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  return getAuthorizationCode(window, repoPermissionLevel).then((code) \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    Logger.info(\u0027Obtained authorization code from Github\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    const accessTokenUrl \u003d `${ACCESS_TOKEN_URL}/${code}`;","lastModifiedDate":"2020-02-03"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    return fetch(accessTokenUrl).then(res \u003d\u003e res.json()).then(data \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":25,"author":{"gitId":"-"},"content":"      if (data.error) {","lastModifiedDate":"2020-02-03"},{"lineNumber":26,"author":{"gitId":"-"},"content":"        throw(new Error(data.error));","lastModifiedDate":"2020-02-03"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-02-03"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      return data;","lastModifiedDate":"2020-02-03"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-03"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  }).catch(error \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    throw(error);","lastModifiedDate":"2020-02-03"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-02-03"},{"lineNumber":33,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2020-02-03"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":35,"author":{"gitId":"-"},"content":"/**","lastModifiedDate":"2020-02-03"},{"lineNumber":36,"author":{"gitId":"-"},"content":" * Get the authorization code from Github after success login.","lastModifiedDate":"2020-02-03"},{"lineNumber":37,"author":{"gitId":"-"},"content":" * @param parentWindow - The main window of CATcher","lastModifiedDate":"2020-02-03"},{"lineNumber":38,"author":{"gitId":"-"},"content":" * @param repoPermissionLevel - The level of permission required to be granted by the user to use CATcher.","lastModifiedDate":"2020-03-04"},{"lineNumber":39,"author":{"gitId":"-"},"content":" */","lastModifiedDate":"2020-02-03"},{"lineNumber":40,"author":{"gitId":"-"},"content":"function getAuthorizationCode(parentWindow: BrowserWindow, repoPermissionLevel: string) {","lastModifiedDate":"2021-01-09"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  let state: string;","lastModifiedDate":"2021-03-07"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  state \u003d generateStateString();","lastModifiedDate":"2021-03-07"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  const oauthUrl \u003d encodeURI(`${BASE_URL}/login/oauth/authorize?client_id\u003d${CLIENT_ID}\u0026scope\u003d${repoPermissionLevel},read:user\u0026state\u003d${state}`);","lastModifiedDate":"2021-03-07"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  return new Promise(function (resolve, reject) {","lastModifiedDate":"2020-02-03"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    const windowParams \u003d {","lastModifiedDate":"2020-02-03"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      autoHideMenuBar: true,","lastModifiedDate":"2020-02-03"},{"lineNumber":48,"author":{"gitId":"-"},"content":"      alwaysOnTop: false,","lastModifiedDate":"2020-02-05"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      fullscreenable: false,","lastModifiedDate":"2020-02-03"},{"lineNumber":50,"author":{"gitId":"-"},"content":"      parent: parentWindow,","lastModifiedDate":"2020-02-03"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      webPreferences: {","lastModifiedDate":"2020-02-03"},{"lineNumber":52,"author":{"gitId":"-"},"content":"        nodeIntegration: true","lastModifiedDate":"2020-02-03"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-02-03"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2020-02-03"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    authWindow \u003d new BrowserWindow(windowParams);","lastModifiedDate":"2020-02-03"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    authWindow.loadURL(oauthUrl);","lastModifiedDate":"2020-02-03"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    authWindow.show();","lastModifiedDate":"2020-02-03"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    Logger.info(\u0027Opening authentication window\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":59,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    authWindow.on(\u0027closed\u0027, (event) \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":61,"author":{"gitId":"-"},"content":"      reject(new Error(\u0027WINDOW_CLOSED\u0027));","lastModifiedDate":"2020-02-03"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-03"},{"lineNumber":63,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    authWindow.webContents.on(\u0027will-navigate\u0027, (event, newUrl) \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":65,"author":{"gitId":"-"},"content":"      if (newUrl.startsWith(CALLBACK_URL)) {","lastModifiedDate":"2020-02-03"},{"lineNumber":66,"author":{"gitId":"-"},"content":"        onCallback(newUrl);","lastModifiedDate":"2020-02-03"},{"lineNumber":67,"author":{"gitId":"Anubhav"},"content":"      } else if (newUrl.startsWith(`${BASE_URL}/session`) || (newUrl.startsWith(`${BASE_URL}/login`))) {","lastModifiedDate":"2021-06-28"},{"lineNumber":68,"author":{"gitId":"Anubhav"},"content":"        // continue navigation within the auth window","lastModifiedDate":"2021-06-28"},{"lineNumber":69,"author":{"gitId":"Anubhav"},"content":"        return;","lastModifiedDate":"2021-06-28"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      } else {","lastModifiedDate":"2020-02-08"},{"lineNumber":71,"author":{"gitId":"Anubhav"},"content":"        // do not navigate to external links in the auth window","lastModifiedDate":"2021-06-28"},{"lineNumber":72,"author":{"gitId":"Anubhav"},"content":"        // instead, navigate to them in the user\u0027s browser","lastModifiedDate":"2021-06-28"},{"lineNumber":73,"author":{"gitId":"-"},"content":"        event.preventDefault();","lastModifiedDate":"2020-02-08"},{"lineNumber":74,"author":{"gitId":"-"},"content":"        shell.openExternal(newUrl).then(() \u003d\u003e Logger.info(\u0027External link is clicked on auth window, opening system browser...\u0027));","lastModifiedDate":"2020-10-15"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-02-03"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-03"},{"lineNumber":77,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    authWindow.webContents.on(\u0027new-window\u0027, (event, url, frameName, disposition, options) \u003d\u003e {","lastModifiedDate":"2020-02-08"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      event.preventDefault();","lastModifiedDate":"2020-02-08"},{"lineNumber":80,"author":{"gitId":"-"},"content":"      shell.openExternal(url).then(() \u003d\u003e Logger.info(\u0027External link is clicked on auth window, opening system browser...\u0027));","lastModifiedDate":"2020-10-15"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-08"},{"lineNumber":82,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-08"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    authWindow.webContents.on(\u0027will-redirect\u0027, (event, newUrl) \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      Logger.info(\u0027Received redirect in auth window\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":85,"author":{"gitId":"-"},"content":"      if (newUrl.startsWith(CALLBACK_URL)) {","lastModifiedDate":"2020-02-03"},{"lineNumber":86,"author":{"gitId":"-"},"content":"        onCallback(newUrl);","lastModifiedDate":"2020-02-03"},{"lineNumber":87,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-02-03"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-03"},{"lineNumber":89,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    function onCallback(callbackUrl: string) {","lastModifiedDate":"2020-02-03"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      const url_parts \u003d nodeUrl.parse(callbackUrl, true);","lastModifiedDate":"2020-02-03"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      const query \u003d url_parts.query;","lastModifiedDate":"2020-02-03"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      const code \u003d query.code;","lastModifiedDate":"2020-02-03"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      const error \u003d query.error;","lastModifiedDate":"2020-02-03"},{"lineNumber":95,"author":{"gitId":"-"},"content":"      const returnedState \u003d query.state;","lastModifiedDate":"2021-03-07"},{"lineNumber":96,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":97,"author":{"gitId":"-"},"content":"      if (error !\u003d\u003d undefined) {","lastModifiedDate":"2021-03-07"},{"lineNumber":98,"author":{"gitId":"-"},"content":"        reject(error);","lastModifiedDate":"2020-02-03"},{"lineNumber":99,"author":{"gitId":"-"},"content":"      } else if (isReturnedStateSame(state, returnedState) \u0026\u0026 code) {","lastModifiedDate":"2021-03-07"},{"lineNumber":100,"author":{"gitId":"-"},"content":"        resolve(code);","lastModifiedDate":"2020-02-03"},{"lineNumber":101,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-02-03"},{"lineNumber":102,"author":{"gitId":"-"},"content":"      setImmediate(function () {","lastModifiedDate":"2020-02-03"},{"lineNumber":103,"author":{"gitId":"-"},"content":"        authWindow.close();","lastModifiedDate":"2020-02-03"},{"lineNumber":104,"author":{"gitId":"-"},"content":"        authWindow.on(\u0027closed\u0027, () \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":105,"author":{"gitId":"-"},"content":"          Logger.info(\u0027Closing authentication window\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":106,"author":{"gitId":"-"},"content":"          authWindow \u003d null;","lastModifiedDate":"2020-02-03"},{"lineNumber":107,"author":{"gitId":"-"},"content":"        });","lastModifiedDate":"2020-02-03"},{"lineNumber":108,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2020-02-03"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-02-03"},{"lineNumber":110,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-02-03"},{"lineNumber":111,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2020-02-03"},{"lineNumber":112,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":113,"author":{"gitId":"-"},"content":"/**","lastModifiedDate":"2021-03-07"},{"lineNumber":114,"author":{"gitId":"-"},"content":" * Generates and assigns an unguessable random \u0027state\u0027 string to pass to Github for protection against cross-site request forgery attacks","lastModifiedDate":"2021-03-07"},{"lineNumber":115,"author":{"gitId":"-"},"content":" */","lastModifiedDate":"2021-03-07"},{"lineNumber":116,"author":{"gitId":"-"},"content":"function generateStateString(): string {","lastModifiedDate":"2021-03-07"},{"lineNumber":117,"author":{"gitId":"-"},"content":"  return uuid();","lastModifiedDate":"2021-03-07"},{"lineNumber":118,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-03-07"},{"lineNumber":119,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":120,"author":{"gitId":"-"},"content":"function isReturnedStateSame(state: string, returnedState: string): boolean {","lastModifiedDate":"2021-03-07"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  return state \u003d\u003d\u003d returnedState;","lastModifiedDate":"2021-03-07"},{"lineNumber":122,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-03-07"}],"authorContributionMap":{"Anubhav":5,"-":117}},{"path":"main.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Anubhav"},"content":"import { app, BrowserWindow, screen, Menu, nativeTheme, MenuItemConstructorOptions, ipcMain, shell } from \u0027electron\u0027;","lastModifiedDate":"2021-06-28"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import * as path from \u0027path\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import * as url from \u0027url\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":4,"author":{"gitId":"Anubhav"},"content":"import { createMenuOptions, createContextMenu } from \u0027./electron-utils/menu-bar\u0027;","lastModifiedDate":"2021-06-28"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { isDeveloperMode, isLinuxOs, isMacOs, appTitle } from \u0027./electron-utils/supporting-logic\u0027;","lastModifiedDate":"2021-02-15"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { getAccessToken } from \u0027./electron-utils/oauth\u0027;","lastModifiedDate":"2021-01-27"},{"lineNumber":7,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":8,"author":{"gitId":"-"},"content":"const Logger \u003d require(\u0027electron-log\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":9,"author":{"gitId":"-"},"content":"const ICON_PATH \u003d path.join(__dirname, \u0027dist/favicon.512x512.png\u0027);","lastModifiedDate":"2020-09-17"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-17"},{"lineNumber":11,"author":{"gitId":"-"},"content":"let win: BrowserWindow \u003d null;","lastModifiedDate":"2020-01-18"},{"lineNumber":12,"author":{"gitId":"-"},"content":"const isDevMode \u003d isDeveloperMode();","lastModifiedDate":"2021-01-23"},{"lineNumber":13,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":14,"author":{"gitId":"-"},"content":"/**","lastModifiedDate":"2020-02-03"},{"lineNumber":15,"author":{"gitId":"-"},"content":" * Will start the OAuth Web Flow and obtain the access token from Github.","lastModifiedDate":"2020-02-03"},{"lineNumber":16,"author":{"gitId":"-"},"content":" */","lastModifiedDate":"2020-02-03"},{"lineNumber":17,"author":{"gitId":"-"},"content":"ipcMain.on(\u0027github-oauth\u0027, (event, repoPermissionLevel) \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  Logger.info(\u0027Starting authentication\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  getAccessToken(win, repoPermissionLevel).then((data) \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    Logger.info(\u0027Obtained access token from Github\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    event.sender.send(\u0027github-oauth-reply\u0027, {token: data.token});","lastModifiedDate":"2020-03-04"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  }).catch(error \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    event.sender.send(\u0027github-oauth-reply\u0027, {","lastModifiedDate":"2020-02-03"},{"lineNumber":24,"author":{"gitId":"-"},"content":"      error: error.message,","lastModifiedDate":"2020-02-03"},{"lineNumber":25,"author":{"gitId":"-"},"content":"      isWindowClosed: error.message \u003d\u003d\u003d \u0027WINDOW_CLOSED\u0027});","lastModifiedDate":"2020-02-03"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-02-03"},{"lineNumber":27,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-02-03"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":29,"author":{"gitId":"Anubhav"},"content":"ipcMain.handle(\u0027clear-storage\u0027, () \u003d\u003e {","lastModifiedDate":"2021-06-28"},{"lineNumber":30,"author":{"gitId":"Anubhav"},"content":"    return win.webContents.session.clearStorageData();","lastModifiedDate":"2021-06-28"},{"lineNumber":31,"author":{"gitId":"Anubhav"},"content":"});","lastModifiedDate":"2021-06-28"},{"lineNumber":32,"author":{"gitId":"Anubhav"},"content":"","lastModifiedDate":"2021-06-28"},{"lineNumber":33,"author":{"gitId":"Anubhav"},"content":"ipcMain.handle(\u0027open-link\u0027, (e, address) \u003d\u003e {","lastModifiedDate":"2021-06-28"},{"lineNumber":34,"author":{"gitId":"Anubhav"},"content":"    shell.openExternal(address);","lastModifiedDate":"2021-06-28"},{"lineNumber":35,"author":{"gitId":"Anubhav"},"content":"});","lastModifiedDate":"2021-06-28"},{"lineNumber":36,"author":{"gitId":"Anubhav"},"content":"","lastModifiedDate":"2021-06-28"},{"lineNumber":37,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":38,"author":{"gitId":"-"},"content":"function createWindow() {","lastModifiedDate":"2019-01-13"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  Logger.info(\u0027Creating primary window.\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  const size \u003d screen.getPrimaryDisplay().workAreaSize;","lastModifiedDate":"2020-01-18"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  const windowOptions \u003d {","lastModifiedDate":"2020-09-17"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    x: 0,","lastModifiedDate":"2019-01-13"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    y: 0,","lastModifiedDate":"2019-01-13"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    width: size.width,","lastModifiedDate":"2019-01-13"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    height: size.height,","lastModifiedDate":"2020-01-18"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    webPreferences: {","lastModifiedDate":"2020-01-18"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      nodeIntegration: true,","lastModifiedDate":"2020-01-18"},{"lineNumber":48,"author":{"gitId":"-"},"content":"      allowRunningInsecureContent: !isDevMode,","lastModifiedDate":"2020-01-18"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2020-01-18"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  };","lastModifiedDate":"2020-09-17"},{"lineNumber":51,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-17"},{"lineNumber":52,"author":{"gitId":"-"},"content":"  if (isLinuxOs()) {","lastModifiedDate":"2021-01-23"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    // app icon needs to be set manually on Linux platforms","lastModifiedDate":"2020-09-17"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    windowOptions[\u0027icon\u0027] \u003d ICON_PATH;","lastModifiedDate":"2020-09-17"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-17"},{"lineNumber":56,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-17"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  // Create the browser window.","lastModifiedDate":"2020-09-17"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  win \u003d new BrowserWindow(windowOptions);","lastModifiedDate":"2020-09-17"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  win.setTitle(appTitle);","lastModifiedDate":"2021-01-23"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-18"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  nativeTheme.themeSource \u003d \u0027light\u0027;","lastModifiedDate":"2020-01-18"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-18"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  if (isDevMode) {","lastModifiedDate":"2021-01-23"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    require(\u0027electron-reload\u0027)(__dirname, {","lastModifiedDate":"2019-01-13"},{"lineNumber":65,"author":{"gitId":"-"},"content":"      electron: require(`${__dirname}/node_modules/electron`)","lastModifiedDate":"2019-01-13"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-01-13"},{"lineNumber":67,"author":{"gitId":"Anubhav"},"content":"","lastModifiedDate":"2021-06-28"},{"lineNumber":68,"author":{"gitId":"Anubhav"},"content":"    createContextMenu(win);","lastModifiedDate":"2021-06-28"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    win.loadURL(\u0027http://localhost:4200\u0027);","lastModifiedDate":"2019-01-13"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    win.webContents.openDevTools();","lastModifiedDate":"2021-01-23"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  } else {","lastModifiedDate":"2019-01-13"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    win.loadURL(url.format({","lastModifiedDate":"2019-01-13"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      pathname: path.join(__dirname, \u0027dist/index.html\u0027),","lastModifiedDate":"2019-01-13"},{"lineNumber":74,"author":{"gitId":"-"},"content":"      protocol: \u0027file:\u0027,","lastModifiedDate":"2019-01-13"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      slashes: true","lastModifiedDate":"2019-01-13"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    }));","lastModifiedDate":"2019-01-13"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-13"},{"lineNumber":78,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  // Emitted when the window is closed.","lastModifiedDate":"2019-01-13"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  win.on(\u0027closed\u0027, () \u003d\u003e {","lastModifiedDate":"2019-01-13"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    // Dereference the window object, usually you would store window","lastModifiedDate":"2019-01-13"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    // in an array if your app supports multi windows, this is the time","lastModifiedDate":"2019-01-13"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    // when you should delete the corresponding element.","lastModifiedDate":"2019-01-13"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    win \u003d null;","lastModifiedDate":"2019-01-13"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2019-01-13"},{"lineNumber":86,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":87,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-13"},{"lineNumber":88,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":89,"author":{"gitId":"-"},"content":"try {","lastModifiedDate":"2019-01-13"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  Logger.info(\u0027Initializing Electron app.\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  // This method will be called when Electron has finished","lastModifiedDate":"2019-01-13"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  // initialization and is ready to create browser windows.","lastModifiedDate":"2019-01-13"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  // Some APIs can only be used after this event occurs.","lastModifiedDate":"2019-01-13"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  app.on(\u0027ready\u0027, () \u003d\u003e {","lastModifiedDate":"2019-04-04"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    Logger.info(\u0027Electron app in ready state.\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    // Build and Attach Menu-bar template to application.","lastModifiedDate":"2019-05-15"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    const mainMenuTemplate: MenuItemConstructorOptions[] \u003d createMenuOptions(isDevMode);","lastModifiedDate":"2021-01-20"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    const mainMenu \u003d Menu.buildFromTemplate(mainMenuTemplate);","lastModifiedDate":"2019-05-15"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    Menu.setApplicationMenu(mainMenu);","lastModifiedDate":"2019-05-15"},{"lineNumber":100,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-15"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    createWindow();","lastModifiedDate":"2019-04-04"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2019-04-04"},{"lineNumber":103,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  // Quit when all windows are closed.","lastModifiedDate":"2019-01-13"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  app.on(\u0027window-all-closed\u0027, () \u003d\u003e {","lastModifiedDate":"2019-01-13"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    Logger.info(\u0027Closing all windows in Electron.\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    // On OS X it is common for applications and their menu bar","lastModifiedDate":"2019-01-13"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    // to stay active until the user quits explicitly with Cmd + Q","lastModifiedDate":"2019-01-13"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    if (!isMacOs()) {","lastModifiedDate":"2021-01-23"},{"lineNumber":110,"author":{"gitId":"-"},"content":"      app.quit();","lastModifiedDate":"2019-01-13"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-13"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2019-01-13"},{"lineNumber":113,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  app.on(\u0027activate\u0027, () \u003d\u003e {","lastModifiedDate":"2019-01-13"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    Logger.info(\u0027Electron app is activated.\u0027);","lastModifiedDate":"2020-10-15"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    // On OS X it\u0027s common to re-create a window in the app when the","lastModifiedDate":"2019-01-13"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    // dock icon is clicked and there are no other windows open.","lastModifiedDate":"2019-01-13"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    if (win \u003d\u003d\u003d null) {","lastModifiedDate":"2019-01-13"},{"lineNumber":119,"author":{"gitId":"-"},"content":"      createWindow();","lastModifiedDate":"2019-01-13"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-13"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2019-01-13"},{"lineNumber":122,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":123,"author":{"gitId":"-"},"content":"} catch (e) {","lastModifiedDate":"2019-01-13"},{"lineNumber":124,"author":{"gitId":"-"},"content":"  Logger.error(\u0027Something went wrong in Electron.\u0027, e);","lastModifiedDate":"2020-10-15"},{"lineNumber":125,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-13"}],"authorContributionMap":{"Anubhav":12,"-":113}},{"path":"src/app/app.module.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import \u0027reflect-metadata\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import \u0027../polyfills\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { BrowserModule, Title } from \u0027@angular/platform-browser\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { ErrorHandler, NgModule, NgZone } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-03-14"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { AppRoutingModule } from \u0027./app-routing.module\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { MarkdownModule, MarkedOptions } from \u0027ngx-markdown\u0027;","lastModifiedDate":"2019-01-24"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { AppComponent } from \u0027./app.component\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { SharedModule } from \u0027./shared/shared.module\u0027;","lastModifiedDate":"2019-01-16"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { HeaderComponent } from \u0027./shared/layout\u0027;","lastModifiedDate":"2019-01-16"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { AuthModule } from \u0027./auth/auth.module\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { HttpClient, HttpClientModule } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { PhaseTeamResponseModule } from \u0027./phase-team-response/phase-team-response.module\u0027;","lastModifiedDate":"2019-07-23"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { PhaseModerationModule } from \u0027./phase-moderation/phase-moderation.module\u0027;","lastModifiedDate":"2019-07-23"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { PhaseBugReportingModule } from \u0027./phase-bug-reporting/phase-bug-reporting.module\u0027;","lastModifiedDate":"2019-07-23"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { BrowserAnimationsModule } from \u0027@angular/platform-browser/animations\u0027;","lastModifiedDate":"2019-02-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { UserConfirmationComponent } from \u0027./core/guards/user-confirmation/user-confirmation.component\u0027;","lastModifiedDate":"2019-05-20"},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { PhaseTesterResponseModule } from \u0027./phase-tester-response/phase-tester-response.module\u0027;","lastModifiedDate":"2019-07-20"},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { SessionFixConfirmationComponent } from \u0027./core/services/session-fix-confirmation/session-fix-confirmation.component\u0027;","lastModifiedDate":"2019-09-09"},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { HttpLink, HttpLinkModule } from \u0027apollo-angular-link-http\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":20,"author":{"gitId":"-"},"content":"import { AuthService } from \u0027./core/services/auth.service\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":21,"author":{"gitId":"-"},"content":"import { setContext } from \u0027apollo-link-context\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":22,"author":{"gitId":"-"},"content":"import { ApolloLink } from \u0027apollo-link\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":23,"author":{"gitId":"-"},"content":"import { InMemoryCache, IntrospectionFragmentMatcher } from \u0027apollo-cache-inmemory\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":24,"author":{"gitId":"-"},"content":"import { Apollo, ApolloModule } from \u0027apollo-angular\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":25,"author":{"gitId":"-"},"content":"import graphqlTypes from \u0027../../graphql/graphql-types\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":26,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./core/services/github.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":27,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027./core/services/error-handling.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027./core/services/electron.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":29,"author":{"gitId":"-"},"content":"import { GithubServiceFactory } from \u0027./core/services/factories/factory.github.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":30,"author":{"gitId":"-"},"content":"import { AuthServiceFactory } from \u0027./core/services/factories/factory.auth.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":31,"author":{"gitId":"-"},"content":"import { Router } from \u0027@angular/router\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":32,"author":{"gitId":"-"},"content":"import { UserService } from \u0027./core/services/user.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":33,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027./core/services/issue.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":34,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027./core/services/phase.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":35,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027./core/services/label.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":36,"author":{"gitId":"-"},"content":"import { DataService } from \u0027./core/services/data.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":37,"author":{"gitId":"-"},"content":"import { GithubEventService } from \u0027./core/services/githubevent.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":38,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027./core/services/logging.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":39,"author":{"gitId":"-"},"content":"import { IssueServiceFactory } from \u0027./core/services/factories/factory.issue.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":40,"author":{"gitId":"-"},"content":"import { PermissionService } from \u0027./core/services/permission.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":41,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { markedOptionsFactory } from \u0027./shared/lib/marked\u0027;","lastModifiedDate":"2021-06-01"},{"lineNumber":42,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":43,"author":{"gitId":"-"},"content":"@NgModule({","lastModifiedDate":"2019-01-13"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  declarations: [","lastModifiedDate":"2019-01-13"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    AppComponent,","lastModifiedDate":"2019-07-20"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    HeaderComponent,","lastModifiedDate":"2019-07-20"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    UserConfirmationComponent,","lastModifiedDate":"2019-09-09"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    SessionFixConfirmationComponent","lastModifiedDate":"2019-09-09"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  ],","lastModifiedDate":"2019-01-13"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  imports: [","lastModifiedDate":"2019-01-13"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    BrowserModule,","lastModifiedDate":"2019-01-13"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    PhaseTesterResponseModule,","lastModifiedDate":"2019-07-20"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    BrowserAnimationsModule,","lastModifiedDate":"2019-02-25"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    AuthModule,","lastModifiedDate":"2019-02-25"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    PhaseBugReportingModule,","lastModifiedDate":"2019-07-23"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    PhaseTeamResponseModule,","lastModifiedDate":"2019-07-23"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    PhaseModerationModule,","lastModifiedDate":"2019-07-23"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    SharedModule,","lastModifiedDate":"2019-02-25"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    HttpClientModule,","lastModifiedDate":"2019-02-25"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    MarkdownModule.forRoot({","lastModifiedDate":"2019-01-24"},{"lineNumber":61,"author":{"gitId":"-"},"content":"      markedOptions: {","lastModifiedDate":"2019-01-24"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        provide: MarkedOptions,","lastModifiedDate":"2019-01-24"},{"lineNumber":63,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        useFactory: markedOptionsFactory","lastModifiedDate":"2021-06-01"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      },","lastModifiedDate":"2019-01-24"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    }),","lastModifiedDate":"2019-01-24"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    AppRoutingModule,","lastModifiedDate":"2019-01-13"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    ApolloModule,","lastModifiedDate":"2020-09-12"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    HttpLinkModule,","lastModifiedDate":"2020-09-12"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  ],","lastModifiedDate":"2019-01-13"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  providers: [","lastModifiedDate":"2021-01-25"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    {","lastModifiedDate":"2021-01-25"},{"lineNumber":72,"author":{"gitId":"-"},"content":"      provide: GithubService,","lastModifiedDate":"2021-01-25"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      useFactory: GithubServiceFactory,","lastModifiedDate":"2021-01-25"},{"lineNumber":74,"author":{"gitId":"-"},"content":"      deps: [ErrorHandlingService, Apollo, ElectronService]","lastModifiedDate":"2021-03-05"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2021-01-25"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    {","lastModifiedDate":"2021-01-25"},{"lineNumber":77,"author":{"gitId":"-"},"content":"      provide: AuthService,","lastModifiedDate":"2021-01-25"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      useFactory: AuthServiceFactory,","lastModifiedDate":"2021-01-25"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      deps: [ElectronService, Router, NgZone, HttpClient,","lastModifiedDate":"2021-01-25"},{"lineNumber":80,"author":{"gitId":"-"},"content":"      ErrorHandlingService, GithubService, UserService,","lastModifiedDate":"2021-01-25"},{"lineNumber":81,"author":{"gitId":"-"},"content":"      IssueService, PhaseService, LabelService, DataService,","lastModifiedDate":"2021-01-25"},{"lineNumber":82,"author":{"gitId":"-"},"content":"      GithubEventService, Title, LoggingService]","lastModifiedDate":"2021-01-25"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2021-01-25"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    {","lastModifiedDate":"2021-01-25"},{"lineNumber":85,"author":{"gitId":"-"},"content":"      provide: IssueService,","lastModifiedDate":"2021-01-25"},{"lineNumber":86,"author":{"gitId":"-"},"content":"      useFactory: IssueServiceFactory,","lastModifiedDate":"2021-01-25"},{"lineNumber":87,"author":{"gitId":"-"},"content":"      deps: [GithubService, UserService, PhaseService,","lastModifiedDate":"2021-01-25"},{"lineNumber":88,"author":{"gitId":"Ding YuChen"},"content":"      PermissionService, ErrorHandlingService, ElectronService, DataService]","lastModifiedDate":"2021-03-24"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2021-03-14"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    {","lastModifiedDate":"2021-03-14"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      provide: ErrorHandler,","lastModifiedDate":"2021-03-14"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      useClass: ErrorHandlingService","lastModifiedDate":"2021-03-14"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-25"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  ],","lastModifiedDate":"2021-01-25"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  bootstrap: [AppComponent],","lastModifiedDate":"2019-05-20"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  entryComponents: [","lastModifiedDate":"2019-05-20"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    UserConfirmationComponent,","lastModifiedDate":"2019-09-09"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    SessionFixConfirmationComponent","lastModifiedDate":"2019-09-09"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  ]","lastModifiedDate":"2019-05-20"},{"lineNumber":100,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-13"},{"lineNumber":101,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":102,"author":{"gitId":"-"},"content":"export class AppModule {","lastModifiedDate":"2020-09-12"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  constructor(private apollo: Apollo, private httpLink: HttpLink, private authService: AuthService) {","lastModifiedDate":"2020-09-12"},{"lineNumber":104,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":105,"author":{"gitId":"-"},"content":"    const URI \u003d \u0027https://api.github.com/graphql\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    const basic \u003d setContext(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":107,"author":{"gitId":"-"},"content":"      return { headers: {Accept: \u0027charset\u003dutf-8\u0027 }};","lastModifiedDate":"2020-09-12"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-09-12"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    const auth \u003d setContext(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":110,"author":{"gitId":"-"},"content":"      return { headers: { Authorization: `Token ${this.authService.accessToken.getValue()}` } };","lastModifiedDate":"2021-01-09"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-09-12"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    const link \u003d ApolloLink.from([basic, auth, this.httpLink.create({ uri: URI })]);","lastModifiedDate":"2020-09-12"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    const fragmentMatcher \u003d new IntrospectionFragmentMatcher({","lastModifiedDate":"2020-09-12"},{"lineNumber":114,"author":{"gitId":"-"},"content":"      introspectionQueryResultData: graphqlTypes","lastModifiedDate":"2020-09-12"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-09-12"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    const cache \u003d new InMemoryCache({ fragmentMatcher });","lastModifiedDate":"2020-09-12"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    apollo.create({","lastModifiedDate":"2020-09-12"},{"lineNumber":118,"author":{"gitId":"-"},"content":"      link: link,","lastModifiedDate":"2020-09-12"},{"lineNumber":119,"author":{"gitId":"-"},"content":"      cache: cache,","lastModifiedDate":"2020-09-12"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-09-12"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":122,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2020-09-12"}],"authorContributionMap":{"Low Jun Kai, Sean":2,"Ding YuChen":1,"-":119}},{"path":"src/app/auth/auth.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, HostListener, NgZone, OnDestroy, OnInit } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { AuthService, AuthState } from \u0027../core/services/auth.service\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Subscription } from \u0027rxjs\u0027;","lastModifiedDate":"2020-08-30"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { FormBuilder, FormGroup, Validators } from \u0027@angular/forms\u0027;","lastModifiedDate":"2020-08-30"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../core/services/error-handling.service\u0027;","lastModifiedDate":"2019-02-07"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ActivatedRoute, Router } from \u0027@angular/router\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../core/services/github.service\u0027;","lastModifiedDate":"2019-02-16"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../core/services/phase.service\u0027;","lastModifiedDate":"2019-02-24"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { Title } from \u0027@angular/platform-browser\u0027;","lastModifiedDate":"2019-05-17"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { Profile } from \u0027../core/models/profile.model\u0027;","lastModifiedDate":"2021-03-12"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { filter, flatMap } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../core/services/user.service\u0027;","lastModifiedDate":"2019-07-10"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { GithubEventService } from \u0027../core/services/githubevent.service\u0027;","lastModifiedDate":"2019-07-10"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027../core/services/electron.service\u0027;","lastModifiedDate":"2020-02-03"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { ApplicationService } from \u0027../core/services/application.service\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { throwIfFalse } from \u0027../shared/lib/custom-ops\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { AppConfig } from \u0027../../environments/environment\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { GithubUser } from \u0027../core/models/github-user.model\u0027;","lastModifiedDate":"2020-03-04"},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../core/services/logging.service\u0027;","lastModifiedDate":"2021-03-13"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":21,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-01-14"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  selector: \u0027app-auth\u0027,","lastModifiedDate":"2019-01-18"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./auth.component.html\u0027,","lastModifiedDate":"2019-01-18"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./auth.component.css\u0027]","lastModifiedDate":"2019-01-18"},{"lineNumber":25,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-14"},{"lineNumber":26,"author":{"gitId":"-"},"content":"export class AuthComponent implements OnInit, OnDestroy {","lastModifiedDate":"2019-01-18"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  // isReady is used to indicate whether the pre-processing of application is done.","lastModifiedDate":"2020-03-04"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  isReady: boolean;","lastModifiedDate":"2019-12-17"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  // isSettingUpSession is used to indicate whether CATcher is in the midst of setting up the session.","lastModifiedDate":"2020-03-04"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  isSettingUpSession: boolean;","lastModifiedDate":"2020-03-04"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  // Errors","lastModifiedDate":"2020-03-04"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  isAppOutdated: boolean;","lastModifiedDate":"2019-12-17"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  versionCheckingError: boolean;","lastModifiedDate":"2019-12-17"},{"lineNumber":35,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  authState: AuthState;","lastModifiedDate":"2019-01-16"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  accessTokenSubscription: Subscription;","lastModifiedDate":"2021-01-09"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  authStateSubscription: Subscription;","lastModifiedDate":"2019-01-16"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  profileForm: FormGroup;","lastModifiedDate":"2020-02-03"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  currentUserName: string;","lastModifiedDate":"2020-02-03"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  constructor(public appService: ApplicationService,","lastModifiedDate":"2021-01-09"},{"lineNumber":43,"author":{"gitId":"-"},"content":"              public electronService: ElectronService,","lastModifiedDate":"2021-01-09"},{"lineNumber":44,"author":{"gitId":"-"},"content":"              private githubService: GithubService,","lastModifiedDate":"2019-07-10"},{"lineNumber":45,"author":{"gitId":"-"},"content":"              private authService: AuthService,","lastModifiedDate":"2021-01-09"},{"lineNumber":46,"author":{"gitId":"-"},"content":"              private githubEventService: GithubEventService,","lastModifiedDate":"2019-07-10"},{"lineNumber":47,"author":{"gitId":"-"},"content":"              private userService: UserService,","lastModifiedDate":"2019-07-10"},{"lineNumber":48,"author":{"gitId":"-"},"content":"              private formBuilder: FormBuilder,","lastModifiedDate":"2019-02-07"},{"lineNumber":49,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2019-02-07"},{"lineNumber":50,"author":{"gitId":"-"},"content":"              private router: Router,","lastModifiedDate":"2019-02-24"},{"lineNumber":51,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService,","lastModifiedDate":"2019-04-19"},{"lineNumber":52,"author":{"gitId":"-"},"content":"              private titleService: Title,","lastModifiedDate":"2019-12-17"},{"lineNumber":53,"author":{"gitId":"-"},"content":"              private ngZone: NgZone,","lastModifiedDate":"2020-02-03"},{"lineNumber":54,"author":{"gitId":"-"},"content":"              private activatedRoute: ActivatedRoute,","lastModifiedDate":"2021-03-14"},{"lineNumber":55,"author":{"gitId":"-"},"content":"              private logger: LoggingService","lastModifiedDate":"2021-03-14"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  ) {","lastModifiedDate":"2021-01-09"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    this.electronService.registerIpcListener(\u0027github-oauth-reply\u0027,","lastModifiedDate":"2021-01-09"},{"lineNumber":58,"author":{"gitId":"-"},"content":"      (event, {token, error, isWindowClosed}) \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      this.ngZone.run(() \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":60,"author":{"gitId":"-"},"content":"        if (error) {","lastModifiedDate":"2020-03-04"},{"lineNumber":61,"author":{"gitId":"-"},"content":"          if (!isWindowClosed) {","lastModifiedDate":"2020-03-04"},{"lineNumber":62,"author":{"gitId":"-"},"content":"            this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-02-03"},{"lineNumber":63,"author":{"gitId":"-"},"content":"          }","lastModifiedDate":"2020-02-03"},{"lineNumber":64,"author":{"gitId":"-"},"content":"          this.goToSessionSelect();","lastModifiedDate":"2020-08-30"},{"lineNumber":65,"author":{"gitId":"-"},"content":"          return;","lastModifiedDate":"2020-02-03"},{"lineNumber":66,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-02-03"},{"lineNumber":67,"author":{"gitId":"-"},"content":"        this.authService.storeOAuthAccessToken(token);","lastModifiedDate":"2020-09-12"},{"lineNumber":68,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2020-02-03"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-03"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":71,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2019-01-14"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    this.logger.startSession();","lastModifiedDate":"2021-03-14"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    this.isReady \u003d false;","lastModifiedDate":"2021-01-09"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    const oauthCode \u003d this.activatedRoute.snapshot.queryParamMap.get(\u0027code\u0027);","lastModifiedDate":"2021-01-09"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    const state \u003d this.activatedRoute.snapshot.queryParamMap.get(\u0027state\u0027);","lastModifiedDate":"2021-03-07"},{"lineNumber":77,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    if (this.authService.isAuthenticated()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      this.router.navigate([this.phaseService.currentPhase]);","lastModifiedDate":"2021-01-09"},{"lineNumber":80,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2021-01-09"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":82,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    if (oauthCode) { // In the web\u0027s oauth window","lastModifiedDate":"2021-01-09"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      this.logger.info(\u0027Obtained authorisation code from Github\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":85,"author":{"gitId":"-"},"content":"      window.opener.postMessage({ oauthCode, state }, AppConfig.origin);","lastModifiedDate":"2021-03-07"},{"lineNumber":86,"author":{"gitId":"-"},"content":"      this.logger.info(\u0027Sent authorisation code and state to main application window, waiting to close\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":87,"author":{"gitId":"-"},"content":"      this.listenForCloseOAuthWindowMessage();","lastModifiedDate":"2021-01-09"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    } else { // In the main app window","lastModifiedDate":"2021-01-09"},{"lineNumber":89,"author":{"gitId":"-"},"content":"      this.checkAppIsOutdated();","lastModifiedDate":"2019-12-17"},{"lineNumber":90,"author":{"gitId":"-"},"content":"      this.initAccessTokenSubscription();","lastModifiedDate":"2021-01-09"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      this.initAuthStateSubscription();","lastModifiedDate":"2021-01-09"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      this.initProfileForm();","lastModifiedDate":"2021-01-09"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":95,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-09"},{"lineNumber":97,"author":{"gitId":"-"},"content":"   * A listener for receiving the oauthCode from the oauth window.","lastModifiedDate":"2021-01-09"},{"lineNumber":98,"author":{"gitId":"-"},"content":"   * With the oauth code, we can retrieve the accessToken from the proxy.","lastModifiedDate":"2021-01-09"},{"lineNumber":99,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-09"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  @HostListener(\u0027window:message\u0027, [\u0027$event\u0027])","lastModifiedDate":"2021-01-09"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  onMessage(event: MessageEvent) {","lastModifiedDate":"2021-01-09"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    if (event.origin !\u003d\u003d AppConfig.origin) {","lastModifiedDate":"2021-01-09"},{"lineNumber":103,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2021-01-09"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":105,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    const { oauthCode, state } \u003d event.data;","lastModifiedDate":"2021-03-07"},{"lineNumber":107,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    if (!oauthCode) {","lastModifiedDate":"2021-01-09"},{"lineNumber":109,"author":{"gitId":"-"},"content":"        return;","lastModifiedDate":"2021-01-09"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":111,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    if (!this.authService.isReturnedStateSame(state)) {","lastModifiedDate":"2021-03-07"},{"lineNumber":113,"author":{"gitId":"-"},"content":"      this.logger.info(`Received incorrect state ${state}, continue waiting for correct state`);","lastModifiedDate":"2021-03-14"},{"lineNumber":114,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2021-03-07"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-07"},{"lineNumber":116,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    this.logger.info(\u0027Retrieving access token from Github\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":118,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-14"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    const accessTokenUrl \u003d `${AppConfig.accessTokenUrl}/${oauthCode}/client_id/${AppConfig.clientId}`;","lastModifiedDate":"2021-01-09"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    fetch(accessTokenUrl).then(res \u003d\u003e res.json())","lastModifiedDate":"2021-01-09"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      .then(data \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":122,"author":{"gitId":"-"},"content":"          if (data.error) {","lastModifiedDate":"2021-01-09"},{"lineNumber":123,"author":{"gitId":"-"},"content":"            throw(new Error(data.error));","lastModifiedDate":"2021-01-09"},{"lineNumber":124,"author":{"gitId":"-"},"content":"          }","lastModifiedDate":"2021-01-09"},{"lineNumber":125,"author":{"gitId":"-"},"content":"          this.authService.storeOAuthAccessToken(data.token);","lastModifiedDate":"2021-01-09"},{"lineNumber":126,"author":{"gitId":"-"},"content":"          this.logger.info(\u0027Sucessfully obtained access token\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":127,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2021-01-09"},{"lineNumber":128,"author":{"gitId":"-"},"content":"      )","lastModifiedDate":"2021-01-09"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      .catch(err \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":130,"author":{"gitId":"-"},"content":"        this.logger.info(`Error in data fetched from access token URL: ${err}`);","lastModifiedDate":"2021-03-14"},{"lineNumber":131,"author":{"gitId":"-"},"content":"        this.errorHandlingService.handleError(err);","lastModifiedDate":"2021-01-09"},{"lineNumber":132,"author":{"gitId":"-"},"content":"        this.authService.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2021-01-09"},{"lineNumber":133,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2021-01-09"},{"lineNumber":134,"author":{"gitId":"-"},"content":"      .finally(() \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":135,"author":{"gitId":"-"},"content":"        if (!(event.source instanceof MessagePort) \u0026\u0026 !(event.source instanceof ServiceWorker)) {","lastModifiedDate":"2021-01-09"},{"lineNumber":136,"author":{"gitId":"-"},"content":"          event.source.postMessage(\u0027close\u0027, AppConfig.origin);","lastModifiedDate":"2021-01-09"},{"lineNumber":137,"author":{"gitId":"-"},"content":"          this.logger.info(\u0027Closing authentication window\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":138,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2021-01-09"},{"lineNumber":139,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2020-02-03"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-16"},{"lineNumber":141,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-16"},{"lineNumber":142,"author":{"gitId":"-"},"content":"  ngOnDestroy() {","lastModifiedDate":"2019-01-16"},{"lineNumber":143,"author":{"gitId":"-"},"content":"    this.electronService.removeIpcListeners(\u0027github-oauth-reply\u0027);","lastModifiedDate":"2021-01-09"},{"lineNumber":144,"author":{"gitId":"-"},"content":"    if (this.authStateSubscription) {","lastModifiedDate":"2021-01-09"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      this.authStateSubscription.unsubscribe();","lastModifiedDate":"2019-01-16"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-14"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    if (this.accessTokenSubscription) {","lastModifiedDate":"2021-01-09"},{"lineNumber":148,"author":{"gitId":"-"},"content":"      this.accessTokenSubscription.unsubscribe();","lastModifiedDate":"2021-01-09"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":151,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":152,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-12-17"},{"lineNumber":153,"author":{"gitId":"-"},"content":"   * Checks whether the current version of CATcher is outdated.","lastModifiedDate":"2019-12-17"},{"lineNumber":154,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-12-17"},{"lineNumber":155,"author":{"gitId":"-"},"content":"  checkAppIsOutdated(): void {","lastModifiedDate":"2019-12-17"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    this.appService.isApplicationOutdated().subscribe((isOutdated: boolean) \u003d\u003e {","lastModifiedDate":"2019-12-17"},{"lineNumber":157,"author":{"gitId":"-"},"content":"      this.isAppOutdated \u003d isOutdated;","lastModifiedDate":"2019-12-17"},{"lineNumber":158,"author":{"gitId":"-"},"content":"      this.isReady \u003d true;","lastModifiedDate":"2019-12-17"},{"lineNumber":159,"author":{"gitId":"-"},"content":"      this.versionCheckingError \u003d false;","lastModifiedDate":"2019-12-17"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    }, (error) \u003d\u003e {","lastModifiedDate":"2019-12-17"},{"lineNumber":161,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":162,"author":{"gitId":"-"},"content":"      this.isReady \u003d true;","lastModifiedDate":"2019-12-17"},{"lineNumber":163,"author":{"gitId":"-"},"content":"      this.versionCheckingError \u003d true;","lastModifiedDate":"2019-12-17"},{"lineNumber":164,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-12-17"},{"lineNumber":165,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":166,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":167,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-23"},{"lineNumber":168,"author":{"gitId":"-"},"content":"   * Fills the login form with data from the given Profile.","lastModifiedDate":"2019-06-06"},{"lineNumber":169,"author":{"gitId":"-"},"content":"   * @param profile - Profile selected by the user.","lastModifiedDate":"2019-06-06"},{"lineNumber":170,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-23"},{"lineNumber":171,"author":{"gitId":"-"},"content":"  onProfileSelect(profile: Profile): void {","lastModifiedDate":"2019-05-23"},{"lineNumber":172,"author":{"gitId":"-"},"content":"    this.profileForm.get(\u0027session\u0027).setValue(profile.encodedText);","lastModifiedDate":"2020-03-04"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-22"},{"lineNumber":174,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-22"},{"lineNumber":175,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-03-04"},{"lineNumber":176,"author":{"gitId":"-"},"content":"   * Will complete the process of logging in the given user.","lastModifiedDate":"2020-03-04"},{"lineNumber":177,"author":{"gitId":"-"},"content":"   * @param username - The user to log in.","lastModifiedDate":"2020-03-04"},{"lineNumber":178,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-03-04"},{"lineNumber":179,"author":{"gitId":"-"},"content":"  completeLoginProcess(username: string): void {","lastModifiedDate":"2020-03-04"},{"lineNumber":180,"author":{"gitId":"-"},"content":"    this.authService.changeAuthState(AuthState.AwaitingAuthentication);","lastModifiedDate":"2021-01-09"},{"lineNumber":181,"author":{"gitId":"-"},"content":"    this.phaseService.setPhaseOwners(this.currentSessionOrg, username);","lastModifiedDate":"2020-03-04"},{"lineNumber":182,"author":{"gitId":"-"},"content":"    this.userService.createUserModel(username).pipe(","lastModifiedDate":"2020-03-04"},{"lineNumber":183,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e this.phaseService.sessionSetup()),","lastModifiedDate":"2020-10-15"},{"lineNumber":184,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e this.githubEventService.setLatestChangeEvent()),","lastModifiedDate":"2020-10-15"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    ).subscribe(() \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":186,"author":{"gitId":"-"},"content":"      this.handleAuthSuccess();","lastModifiedDate":"2020-03-04"},{"lineNumber":187,"author":{"gitId":"-"},"content":"    }, (error) \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":188,"author":{"gitId":"-"},"content":"      this.authService.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2021-01-09"},{"lineNumber":189,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":190,"author":{"gitId":"-"},"content":"      this.logger.info(`Completion of login process failed with an error: ${error}`);","lastModifiedDate":"2021-03-14"},{"lineNumber":191,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-03-04"},{"lineNumber":192,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-29"},{"lineNumber":193,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":194,"author":{"gitId":"-"},"content":"  setupSession() {","lastModifiedDate":"2020-03-04"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    if (this.profileForm.invalid) {","lastModifiedDate":"2020-02-03"},{"lineNumber":196,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2020-02-03"},{"lineNumber":197,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-02-03"},{"lineNumber":198,"author":{"gitId":"-"},"content":"    this.isSettingUpSession \u003d true;","lastModifiedDate":"2020-03-04"},{"lineNumber":199,"author":{"gitId":"-"},"content":"    const sessionInformation: string \u003d this.profileForm.get(\u0027session\u0027).value;","lastModifiedDate":"2020-02-03"},{"lineNumber":200,"author":{"gitId":"-"},"content":"    const org: string \u003d this.getOrgDetails(sessionInformation);","lastModifiedDate":"2020-02-03"},{"lineNumber":201,"author":{"gitId":"-"},"content":"    const dataRepo: string \u003d this.getDataRepoDetails(sessionInformation);","lastModifiedDate":"2020-02-03"},{"lineNumber":202,"author":{"gitId":"-"},"content":"    this.githubService.storeOrganizationDetails(org, dataRepo);","lastModifiedDate":"2020-02-03"},{"lineNumber":203,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":204,"author":{"gitId":"Dylan Ghee"},"content":"    this.logger.info(`Selected Settings Repo: ${sessionInformation}`);","lastModifiedDate":"2021-06-26"},{"lineNumber":205,"author":{"gitId":"Dylan Ghee"},"content":"","lastModifiedDate":"2021-06-26"},{"lineNumber":206,"author":{"gitId":"Dylan Ghee"},"content":"    this.phaseService.storeSessionData().subscribe(() \u003d\u003e {","lastModifiedDate":"2021-07-04"},{"lineNumber":207,"author":{"gitId":"Dylan Ghee"},"content":"","lastModifiedDate":"2021-07-04"},{"lineNumber":208,"author":{"gitId":"-"},"content":"      try {","lastModifiedDate":"2021-03-14"},{"lineNumber":209,"author":{"gitId":"-"},"content":"        this.authService.startOAuthProcess();","lastModifiedDate":"2021-01-09"},{"lineNumber":210,"author":{"gitId":"-"},"content":"      } catch (error) {","lastModifiedDate":"2021-03-14"},{"lineNumber":211,"author":{"gitId":"-"},"content":"        this.errorHandlingService.handleError(error);","lastModifiedDate":"2021-03-14"},{"lineNumber":212,"author":{"gitId":"-"},"content":"        this.authService.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2021-03-14"},{"lineNumber":213,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-03-14"},{"lineNumber":214,"author":{"gitId":"-"},"content":"    }, (error) \u003d\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":215,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-02-03"},{"lineNumber":216,"author":{"gitId":"-"},"content":"      this.isSettingUpSession \u003d false;","lastModifiedDate":"2020-03-12"},{"lineNumber":217,"author":{"gitId":"-"},"content":"    }, () \u003d\u003e this.isSettingUpSession \u003d false);","lastModifiedDate":"2020-08-30"},{"lineNumber":218,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":219,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":220,"author":{"gitId":"-"},"content":"  logIntoAnotherAccount() {","lastModifiedDate":"2020-03-04"},{"lineNumber":221,"author":{"gitId":"-"},"content":"    this.logger.info(\u0027Logging into another account\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":222,"author":{"gitId":"-"},"content":"    this.electronService.clearCookies();","lastModifiedDate":"2021-01-09"},{"lineNumber":223,"author":{"gitId":"-"},"content":"    this.authService.startOAuthProcess();","lastModifiedDate":"2021-01-09"},{"lineNumber":224,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":225,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":226,"author":{"gitId":"-"},"content":"  onGithubWebsiteClicked() {","lastModifiedDate":"2021-01-09"},{"lineNumber":227,"author":{"gitId":"-"},"content":"    window.open(\u0027https://github.com/\u0027, \u0027_blank\u0027);","lastModifiedDate":"2021-01-09"},{"lineNumber":228,"author":{"gitId":"-"},"content":"    window.location.reload();","lastModifiedDate":"2021-01-09"},{"lineNumber":229,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-03-04"},{"lineNumber":230,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":231,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-03"},{"lineNumber":232,"author":{"gitId":"-"},"content":"   * Handles the clean up required after authentication and setting up of user data is completed.","lastModifiedDate":"2020-02-03"},{"lineNumber":233,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-03"},{"lineNumber":234,"author":{"gitId":"-"},"content":"  handleAuthSuccess() {","lastModifiedDate":"2020-03-04"},{"lineNumber":235,"author":{"gitId":"-"},"content":"    this.authService.setTitleWithPhaseDetail();","lastModifiedDate":"2021-02-05"},{"lineNumber":236,"author":{"gitId":"-"},"content":"    this.router.navigateByUrl(this.phaseService.currentPhase);","lastModifiedDate":"2020-02-03"},{"lineNumber":237,"author":{"gitId":"-"},"content":"    this.authService.changeAuthState(AuthState.Authenticated);","lastModifiedDate":"2020-02-03"},{"lineNumber":238,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-22"},{"lineNumber":239,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":240,"author":{"gitId":"-"},"content":"  goToSessionSelect() {","lastModifiedDate":"2020-03-04"},{"lineNumber":241,"author":{"gitId":"-"},"content":"    this.authService.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2020-08-30"},{"lineNumber":242,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":243,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":244,"author":{"gitId":"-"},"content":"  isUserNotAuthenticated(): boolean {","lastModifiedDate":"2020-02-03"},{"lineNumber":245,"author":{"gitId":"-"},"content":"    return this.authState \u003d\u003d\u003d AuthState.NotAuthenticated;","lastModifiedDate":"2019-10-01"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-10-01"},{"lineNumber":247,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-01"},{"lineNumber":248,"author":{"gitId":"-"},"content":"  isUserAuthenticating(): boolean {","lastModifiedDate":"2020-02-03"},{"lineNumber":249,"author":{"gitId":"-"},"content":"    return this.authState \u003d\u003d\u003d AuthState.AwaitingAuthentication;","lastModifiedDate":"2020-02-03"},{"lineNumber":250,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":251,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":252,"author":{"gitId":"-"},"content":"  isAwaitingOAuthUserConfirm(): boolean {","lastModifiedDate":"2020-08-30"},{"lineNumber":253,"author":{"gitId":"-"},"content":"    return this.authState \u003d\u003d\u003d AuthState.ConfirmOAuthUser;","lastModifiedDate":"2020-08-30"},{"lineNumber":254,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-08-30"},{"lineNumber":255,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-08-30"},{"lineNumber":256,"author":{"gitId":"-"},"content":"  get currentSessionOrg(): string {","lastModifiedDate":"2020-03-04"},{"lineNumber":257,"author":{"gitId":"-"},"content":"    const sessionInformation: string \u003d this.profileForm.get(\u0027session\u0027).value;","lastModifiedDate":"2020-03-04"},{"lineNumber":258,"author":{"gitId":"-"},"content":"    return this.getOrgDetails(sessionInformation);","lastModifiedDate":"2020-03-04"},{"lineNumber":259,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":260,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":261,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-09"},{"lineNumber":262,"author":{"gitId":"-"},"content":"   * Will wait for the message from parent window to close the window.","lastModifiedDate":"2021-01-09"},{"lineNumber":263,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-09"},{"lineNumber":264,"author":{"gitId":"-"},"content":"  private listenForCloseOAuthWindowMessage() {","lastModifiedDate":"2021-01-09"},{"lineNumber":265,"author":{"gitId":"-"},"content":"    window.addEventListener(\u0027message\u0027, (event) \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":266,"author":{"gitId":"-"},"content":"      if (event.origin !\u003d\u003d AppConfig.origin) {","lastModifiedDate":"2021-01-09"},{"lineNumber":267,"author":{"gitId":"-"},"content":"        return;","lastModifiedDate":"2021-01-09"},{"lineNumber":268,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-01-09"},{"lineNumber":269,"author":{"gitId":"-"},"content":"      if (event.data \u003d\u003d\u003d \u0027close\u0027) {","lastModifiedDate":"2021-01-09"},{"lineNumber":270,"author":{"gitId":"-"},"content":"        window.opener.focus();","lastModifiedDate":"2021-01-09"},{"lineNumber":271,"author":{"gitId":"-"},"content":"        window.close();","lastModifiedDate":"2021-01-09"},{"lineNumber":272,"author":{"gitId":"-"},"content":"        this.logger.info(\u0027Closed authentication window\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":273,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-01-09"},{"lineNumber":274,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-09"},{"lineNumber":275,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":276,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":277,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":278,"author":{"gitId":"-"},"content":"   * Extracts the Organization Details from the input sessionInformation.","lastModifiedDate":"2019-07-10"},{"lineNumber":279,"author":{"gitId":"-"},"content":"   * @param sessionInformation - string in the format of \u0027orgName/dataRepo\u0027","lastModifiedDate":"2019-07-10"},{"lineNumber":280,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":281,"author":{"gitId":"-"},"content":"  private getOrgDetails(sessionInformation: string) {","lastModifiedDate":"2019-07-10"},{"lineNumber":282,"author":{"gitId":"-"},"content":"    return sessionInformation.split(\u0027/\u0027)[0];","lastModifiedDate":"2019-07-10"},{"lineNumber":283,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":284,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":285,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":286,"author":{"gitId":"-"},"content":"   * Extracts the Data Repository Details from the input sessionInformation.","lastModifiedDate":"2019-07-10"},{"lineNumber":287,"author":{"gitId":"-"},"content":"   * @param sessionInformation - string in the format of \u0027orgName/dataRepo\u0027","lastModifiedDate":"2019-07-10"},{"lineNumber":288,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":289,"author":{"gitId":"-"},"content":"  private getDataRepoDetails(sessionInformation: string) {","lastModifiedDate":"2019-07-10"},{"lineNumber":290,"author":{"gitId":"-"},"content":"    return sessionInformation.split(\u0027/\u0027)[1];","lastModifiedDate":"2019-07-10"},{"lineNumber":291,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":292,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":293,"author":{"gitId":"-"},"content":"  private initProfileForm() {","lastModifiedDate":"2021-01-09"},{"lineNumber":294,"author":{"gitId":"-"},"content":"    this.profileForm \u003d this.formBuilder.group({","lastModifiedDate":"2021-01-09"},{"lineNumber":295,"author":{"gitId":"-"},"content":"      session: [\u0027\u0027, Validators.required],","lastModifiedDate":"2021-01-09"},{"lineNumber":296,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-09"},{"lineNumber":297,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":298,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":299,"author":{"gitId":"-"},"content":"  private initAuthStateSubscription() {","lastModifiedDate":"2021-01-09"},{"lineNumber":300,"author":{"gitId":"-"},"content":"    this.authStateSubscription \u003d this.authService.currentAuthState.subscribe((state) \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":301,"author":{"gitId":"-"},"content":"      this.ngZone.run(() \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":302,"author":{"gitId":"-"},"content":"        this.authState \u003d state;","lastModifiedDate":"2021-01-09"},{"lineNumber":303,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2021-01-09"},{"lineNumber":304,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-09"},{"lineNumber":305,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":306,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":307,"author":{"gitId":"-"},"content":"  private initAccessTokenSubscription() {","lastModifiedDate":"2021-01-09"},{"lineNumber":308,"author":{"gitId":"-"},"content":"    this.accessTokenSubscription \u003d this.authService.accessToken.pipe(","lastModifiedDate":"2021-01-09"},{"lineNumber":309,"author":{"gitId":"-"},"content":"      filter((token: string) \u003d\u003e !!token),","lastModifiedDate":"2021-01-09"},{"lineNumber":310,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e this.userService.getAuthenticatedUser())","lastModifiedDate":"2021-01-09"},{"lineNumber":311,"author":{"gitId":"-"},"content":"    ).subscribe((user: GithubUser) \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":312,"author":{"gitId":"-"},"content":"      this.ngZone.run(() \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":313,"author":{"gitId":"-"},"content":"        this.currentUserName \u003d user.login;","lastModifiedDate":"2021-01-09"},{"lineNumber":314,"author":{"gitId":"-"},"content":"        this.authService.changeAuthState(AuthState.ConfirmOAuthUser);","lastModifiedDate":"2021-01-09"},{"lineNumber":315,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2021-01-09"},{"lineNumber":316,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-09"},{"lineNumber":317,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":318,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-14"}],"authorContributionMap":{"Dylan Ghee":4,"-":314}},{"path":"src/app/auth/profiles/profiles.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, EventEmitter, OnInit, Output } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-05-22"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { MatDialog } from \u0027@angular/material\u0027;","lastModifiedDate":"2019-06-11"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { JsonParseErrorDialogComponent } from \u0027./json-parse-error-dialog/json-parse-error-dialog.component\u0027;","lastModifiedDate":"2019-06-04"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2019-06-12"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  trigger,","lastModifiedDate":"2019-06-12"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  state,","lastModifiedDate":"2019-06-12"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  style,","lastModifiedDate":"2019-06-12"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  animate,","lastModifiedDate":"2019-06-12"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  transition","lastModifiedDate":"2019-06-12"},{"lineNumber":10,"author":{"gitId":"-"},"content":"} from \u0027@angular/animations\u0027;","lastModifiedDate":"2019-06-12"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { Profile, isValidProfile } from \u0027../../core/models/profile.model\u0027;","lastModifiedDate":"2021-03-12"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { MALFORMED_PROFILES_ERROR, ProfileService } from \u0027../../core/services/profile.service\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-22"},{"lineNumber":15,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-05-22"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  selector: \u0027app-profiles\u0027,","lastModifiedDate":"2019-05-22"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./profiles.component.html\u0027,","lastModifiedDate":"2019-05-22"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./profiles.component.css\u0027],","lastModifiedDate":"2019-06-12"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  animations: [","lastModifiedDate":"2019-06-12"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    // animation triggers go here","lastModifiedDate":"2019-06-12"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    trigger(\u0027triggerFileInput\u0027, [","lastModifiedDate":"2019-06-12"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      state(\u0027normal\u0027, style({})),","lastModifiedDate":"2019-06-12"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      state(\u0027pressed\u0027, style({","lastModifiedDate":"2019-06-12"},{"lineNumber":24,"author":{"gitId":"-"},"content":"        color: \u0027orange\u0027","lastModifiedDate":"2019-06-12"},{"lineNumber":25,"author":{"gitId":"-"},"content":"      })),","lastModifiedDate":"2019-06-12"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      transition(\u0027normal \u003d\u003e pressed\u0027, [","lastModifiedDate":"2019-06-12"},{"lineNumber":27,"author":{"gitId":"-"},"content":"        animate(\u00270.25s ease\u0027)","lastModifiedDate":"2019-06-12"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      ]),","lastModifiedDate":"2019-06-12"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      transition(\u0027pressed \u003d\u003e normal\u0027, [","lastModifiedDate":"2019-06-12"},{"lineNumber":30,"author":{"gitId":"-"},"content":"        animate(\u00270.25s ease\u0027)","lastModifiedDate":"2019-06-12"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      ])","lastModifiedDate":"2019-06-12"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    ])","lastModifiedDate":"2019-06-12"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  ]","lastModifiedDate":"2019-06-12"},{"lineNumber":34,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-05-22"},{"lineNumber":35,"author":{"gitId":"-"},"content":"export class ProfilesComponent implements OnInit {","lastModifiedDate":"2019-05-22"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  private readonly ANIMATION_DURATION: number \u003d 250;","lastModifiedDate":"2019-06-12"},{"lineNumber":37,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-12"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  profiles: Profile[] \u003d []; // List of profiles taken from profiles.json","lastModifiedDate":"2021-01-09"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  blankProfile: Profile \u003d {profileName: \u0027\u0027, encodedText: \u0027\u0027}; // A blank profile to reset values","lastModifiedDate":"2021-01-09"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  animationActivated \u003d false; // Assists color change animations.","lastModifiedDate":"2019-10-04"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-04"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  selectedProfile: Profile \u003d this.blankProfile;","lastModifiedDate":"2020-03-25"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  @Output() selectedProfileEmitter: EventEmitter\u003cProfile\u003e \u003d new EventEmitter\u003cProfile\u003e();","lastModifiedDate":"2019-06-14"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-12"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  profilesData \u003d {","lastModifiedDate":"2019-06-12"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    isDirectoryMessageVisible: false,","lastModifiedDate":"2019-06-24"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    fileName: null,","lastModifiedDate":"2019-06-24"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    fileDirectory: null","lastModifiedDate":"2019-06-24"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  };","lastModifiedDate":"2019-06-12"},{"lineNumber":50,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-22"},{"lineNumber":51,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  constructor(","lastModifiedDate":"2021-04-19"},{"lineNumber":52,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    public errorDialog: MatDialog,","lastModifiedDate":"2021-04-19"},{"lineNumber":53,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    public profileService: ProfileService,","lastModifiedDate":"2021-04-19"},{"lineNumber":54,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    public errorHandlingService: ErrorHandlingService","lastModifiedDate":"2021-04-19"},{"lineNumber":55,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  ) { }","lastModifiedDate":"2021-04-19"},{"lineNumber":56,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-23"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2019-05-23"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    this.initProfiles();","lastModifiedDate":"2021-02-15"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-12"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-10"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-06-12"},{"lineNumber":62,"author":{"gitId":"-"},"content":"   * Activates the button selection animation and opens the file selector.","lastModifiedDate":"2019-06-12"},{"lineNumber":63,"author":{"gitId":"-"},"content":"   * @param fileInput - OS default file selector.","lastModifiedDate":"2019-06-12"},{"lineNumber":64,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-06-12"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  fileSelectorInitiation(fileInput: HTMLInputElement): void {","lastModifiedDate":"2019-06-12"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    this.animationActivated \u003d true;","lastModifiedDate":"2019-06-12"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    setTimeout(() \u003d\u003e {","lastModifiedDate":"2019-06-12"},{"lineNumber":68,"author":{"gitId":"-"},"content":"      this.animationActivated \u003d false;","lastModifiedDate":"2019-06-12"},{"lineNumber":69,"author":{"gitId":"-"},"content":"      fileInput.click();","lastModifiedDate":"2019-06-12"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    }, this.ANIMATION_DURATION);","lastModifiedDate":"2019-06-12"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-06"},{"lineNumber":72,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-06"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-06-12"},{"lineNumber":74,"author":{"gitId":"-"},"content":"   * Reads the user selected file","lastModifiedDate":"2019-06-12"},{"lineNumber":75,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-06-12"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  fileSelected(event: Event): void {","lastModifiedDate":"2021-01-09"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    const target \u003d event.target as HTMLInputElement;","lastModifiedDate":"2021-01-09"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    const file \u003d target.files[0];","lastModifiedDate":"2021-01-09"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    const reader \u003d new FileReader();","lastModifiedDate":"2021-01-09"},{"lineNumber":80,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    reader.onload \u003d () \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":82,"author":{"gitId":"-"},"content":"      if (!(reader.result instanceof ArrayBuffer)) {","lastModifiedDate":"2021-01-09"},{"lineNumber":83,"author":{"gitId":"-"},"content":"        try {","lastModifiedDate":"2021-01-09"},{"lineNumber":84,"author":{"gitId":"-"},"content":"          const { profiles } \u003d JSON.parse(reader.result);","lastModifiedDate":"2021-03-12"},{"lineNumber":85,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          this.profileService.validateProfiles(profiles);","lastModifiedDate":"2021-04-19"},{"lineNumber":86,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          this.profiles \u003d profiles.concat(this.profiles).filter((p) \u003d\u003e !!p);","lastModifiedDate":"2021-04-19"},{"lineNumber":87,"author":{"gitId":"-"},"content":"          target.value \u003d \u0027\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":88,"author":{"gitId":"-"},"content":"        } catch (e) {","lastModifiedDate":"2021-01-09"},{"lineNumber":89,"author":{"gitId":"-"},"content":"          this.openErrorDialog();","lastModifiedDate":"2021-01-09"},{"lineNumber":90,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2021-01-09"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-01-09"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2021-01-09"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    reader.readAsText(file);","lastModifiedDate":"2021-01-09"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-12"},{"lineNumber":95,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-12"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-06-12"},{"lineNumber":97,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * Processes available Profiles information from the external repository.","lastModifiedDate":"2021-04-19"},{"lineNumber":98,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-06-12"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  initProfiles(): void {","lastModifiedDate":"2021-02-15"},{"lineNumber":100,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    this.profileService.fetchExternalProfiles().then(externalProfiles \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":101,"author":{"gitId":"-"},"content":"      this.profiles \u003d this.profiles","lastModifiedDate":"2021-01-09"},{"lineNumber":102,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      .concat(externalProfiles)","lastModifiedDate":"2021-04-19"},{"lineNumber":103,"author":{"gitId":"-"},"content":"      .filter((p) \u003d\u003e !!p);","lastModifiedDate":"2021-03-12"},{"lineNumber":104,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    })","lastModifiedDate":"2021-04-19"},{"lineNumber":105,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    .catch(e \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":106,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      if (e \u003d\u003d\u003d MALFORMED_PROFILES_ERROR) {","lastModifiedDate":"2021-04-19"},{"lineNumber":107,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        this.openErrorDialog();","lastModifiedDate":"2021-04-19"},{"lineNumber":108,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      } else {","lastModifiedDate":"2021-04-19"},{"lineNumber":109,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        this.errorHandlingService.handleError(e);","lastModifiedDate":"2021-04-19"},{"lineNumber":110,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      }","lastModifiedDate":"2021-04-19"},{"lineNumber":111,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-19"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-14"},{"lineNumber":113,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-14"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-23"},{"lineNumber":115,"author":{"gitId":"-"},"content":"   * Makes Error dialog visible to the user.","lastModifiedDate":"2019-05-23"},{"lineNumber":116,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-23"},{"lineNumber":117,"author":{"gitId":"-"},"content":"  openErrorDialog(): void {","lastModifiedDate":"2019-05-23"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    this.errorDialog.open(JsonParseErrorDialogComponent);","lastModifiedDate":"2019-05-23"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-23"},{"lineNumber":120,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-23"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-23"},{"lineNumber":122,"author":{"gitId":"-"},"content":"   * Sends the selected profile information to listening component.","lastModifiedDate":"2019-05-23"},{"lineNumber":123,"author":{"gitId":"-"},"content":"   * @param profile - Profile selected by user.","lastModifiedDate":"2019-05-23"},{"lineNumber":124,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-23"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  selectProfile(profile: Profile): void {","lastModifiedDate":"2019-05-23"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    if (profile \u003d\u003d\u003d this.blankProfile || isValidProfile(profile)) {","lastModifiedDate":"2021-03-12"},{"lineNumber":127,"author":{"gitId":"-"},"content":"      this.selectedProfileEmitter.emit(profile);","lastModifiedDate":"2019-06-14"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2021-03-12"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      this.openErrorDialog();","lastModifiedDate":"2021-03-12"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-12"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-22"},{"lineNumber":132,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-05-22"}],"authorContributionMap":{"Low Jun Kai, Sean":20,"-":112}},{"path":"src/app/core/models/issue.model.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Team } from \u0027./team.model\u0027;","lastModifiedDate":"2019-03-19"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { TesterResponse } from \u0027./tester-response.model\u0027;","lastModifiedDate":"2019-07-20"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { IssueComment } from \u0027./comment.model\u0027;","lastModifiedDate":"2019-09-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { IssueDispute } from \u0027./issue-dispute.model\u0027;","lastModifiedDate":"2019-08-02"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { GithubIssue } from \u0027./github/github-issue.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { GithubLabel } from \u0027./github/github-label.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { GithubComment } from \u0027./github/github-comment.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { TeamResponseTemplate } from \u0027./templates/team-response-template.model\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { TesterResponseTemplate } from \u0027./templates/tester-response-template.model\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { TutorModerationIssueTemplate } from \u0027./templates/tutor-moderation-issue-template.model\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { TutorModerationTodoTemplate } from \u0027./templates/tutor-moderation-todo-template.model\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import * as moment from \u0027moment\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { HiddenData } from \u0027./hidden-data.model\u0027;","lastModifiedDate":"2020-09-27"},{"lineNumber":15,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-19"},{"lineNumber":16,"author":{"gitId":"-"},"content":"export class Issue {","lastModifiedDate":"2019-12-17"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  /** Basic Fields */","lastModifiedDate":"2019-12-17"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  readonly globalId: string;","lastModifiedDate":"2020-09-12"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  readonly id: number;","lastModifiedDate":"2019-02-16"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  readonly created_at: string;","lastModifiedDate":"2019-02-16"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  readonly githubIssue: GithubIssue;","lastModifiedDate":"2020-01-14"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  githubComments: GithubComment[];","lastModifiedDate":"2020-01-14"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  title: string;","lastModifiedDate":"2019-01-18"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  description: string;","lastModifiedDate":"2019-12-17"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  hiddenDataInDescription: HiddenData;","lastModifiedDate":"2020-09-27"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  /** Fields derived from Labels */","lastModifiedDate":"2019-12-17"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  severity: string;","lastModifiedDate":"2019-01-18"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  type: string;","lastModifiedDate":"2019-12-17"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  responseTag?: string;","lastModifiedDate":"2019-02-16"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  duplicated?: boolean;","lastModifiedDate":"2019-02-20"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  status?: string;","lastModifiedDate":"2019-04-05"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  pending?: string;","lastModifiedDate":"2019-12-17"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  unsure?: boolean;","lastModifiedDate":"2019-12-17"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  teamAssigned?: Team;","lastModifiedDate":"2019-03-19"},{"lineNumber":37,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  /** Depending on the phase, assignees attribute can be derived from Github\u0027s assignee feature OR from the Github\u0027s issue description */","lastModifiedDate":"2019-12-17"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  assignees?: string[];","lastModifiedDate":"2019-12-17"},{"lineNumber":40,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  /** Fields derived from parsing of Github\u0027s issue description */","lastModifiedDate":"2019-12-17"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  duplicateOf?: number;","lastModifiedDate":"2019-12-17"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  teamResponse?: string;","lastModifiedDate":"2019-05-20"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  testerResponses?: TesterResponse[];","lastModifiedDate":"2019-07-20"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  issueComment?: IssueComment; // Issue comment is used for Tutor Response and Tester Response","lastModifiedDate":"2019-08-02"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  issueDisputes?: IssueDispute[];","lastModifiedDate":"2019-08-02"},{"lineNumber":47,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-10-24"},{"lineNumber":49,"author":{"gitId":"-"},"content":"   * Formats the text to create space at the end of the user input to prevent any issues with","lastModifiedDate":"2020-10-24"},{"lineNumber":50,"author":{"gitId":"-"},"content":"   * the markdown interpretation.","lastModifiedDate":"2020-10-24"},{"lineNumber":51,"author":{"gitId":"-"},"content":"   *","lastModifiedDate":"2020-10-24"},{"lineNumber":52,"author":{"gitId":"-"},"content":"   * Brought over from comment-editor.component.ts","lastModifiedDate":"2020-10-24"},{"lineNumber":53,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-10-24"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  static formatText(text: string): string {","lastModifiedDate":"2020-10-24"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    if (text \u003d\u003d\u003d null) {","lastModifiedDate":"2020-10-24"},{"lineNumber":56,"author":{"gitId":"-"},"content":"      return null;","lastModifiedDate":"2020-10-24"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-10-24"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-24"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    if (text \u003d\u003d\u003d undefined) {","lastModifiedDate":"2020-10-24"},{"lineNumber":60,"author":{"gitId":"-"},"content":"      return undefined;","lastModifiedDate":"2020-10-24"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-10-24"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-24"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    const newLinesRegex \u003d /[\\n\\r]/gi;","lastModifiedDate":"2020-10-24"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    const textSplitArray \u003d text.split(newLinesRegex);","lastModifiedDate":"2020-10-24"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    if (textSplitArray.filter(split \u003d\u003e split.trim() !\u003d\u003d \u0027\u0027).length \u003e 0) {","lastModifiedDate":"2020-10-24"},{"lineNumber":66,"author":{"gitId":"-"},"content":"      return `${text}\\n\\n`;","lastModifiedDate":"2020-10-24"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2020-10-24"},{"lineNumber":68,"author":{"gitId":"-"},"content":"      return text;","lastModifiedDate":"2020-10-24"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-10-24"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-10-24"},{"lineNumber":71,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-24"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-28"},{"lineNumber":73,"author":{"gitId":"-"},"content":"   * Processes and cleans a raw issue description obtained from user input.","lastModifiedDate":"2020-02-28"},{"lineNumber":74,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-28"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  static updateDescription(description: string): string {","lastModifiedDate":"2020-02-28"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    const defaultString \u003d \u0027No details provided by bug reporter.\u0027;","lastModifiedDate":"2020-03-02"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    return Issue.orDefaultString(Issue.formatText(description), defaultString);","lastModifiedDate":"2020-10-24"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-28"},{"lineNumber":79,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-28"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-28"},{"lineNumber":81,"author":{"gitId":"-"},"content":"   * Processes and cleans a raw team response obtained from user input.","lastModifiedDate":"2020-02-28"},{"lineNumber":82,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-28"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  static updateTeamResponse(teamResponse: string): string {","lastModifiedDate":"2020-02-28"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    const defaultString \u003d \u0027No details provided by team.\u0027;","lastModifiedDate":"2020-03-02"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    return Issue.orDefaultString(Issue.formatText(teamResponse), defaultString);","lastModifiedDate":"2020-10-24"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-28"},{"lineNumber":87,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-28"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-28"},{"lineNumber":89,"author":{"gitId":"-"},"content":"   * Given two strings, returns the first if it is not an empty string or a false value such as null/undefined.","lastModifiedDate":"2020-03-02"},{"lineNumber":90,"author":{"gitId":"-"},"content":"   * Returns the second string if the first is an empty string.","lastModifiedDate":"2020-02-28"},{"lineNumber":91,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-28"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  private static orDefaultString(stringA: string, def: string): string {","lastModifiedDate":"2020-02-28"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    if (!stringA) {","lastModifiedDate":"2020-03-02"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      return def;","lastModifiedDate":"2020-03-02"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-03-02"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    return stringA.length !\u003d\u003d 0 ? stringA : def;","lastModifiedDate":"2020-02-28"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-28"},{"lineNumber":98,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-28"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  protected constructor(githubIssue: GithubIssue) {","lastModifiedDate":"2019-12-17"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    /** Basic Fields */","lastModifiedDate":"2019-12-17"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    this.globalId \u003d githubIssue.id;","lastModifiedDate":"2020-09-12"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    this.id \u003d +githubIssue.number;","lastModifiedDate":"2019-12-17"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    this.created_at \u003d moment(githubIssue.created_at).format(\u0027lll\u0027);","lastModifiedDate":"2019-12-17"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    this.title \u003d githubIssue.title;","lastModifiedDate":"2019-12-17"},{"lineNumber":105,"author":{"gitId":"-"},"content":"    this.hiddenDataInDescription \u003d new HiddenData(githubIssue.body);","lastModifiedDate":"2020-09-27"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    this.description \u003d Issue.updateDescription(this.hiddenDataInDescription.originalStringWithoutHiddenData);","lastModifiedDate":"2020-09-27"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    this.githubIssue \u003d githubIssue;","lastModifiedDate":"2020-01-14"},{"lineNumber":108,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    /** Fields derived from Labels */","lastModifiedDate":"2019-12-17"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    this.severity \u003d githubIssue.findLabel(GithubLabel.LABELS.severity);","lastModifiedDate":"2019-12-17"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    this.type \u003d githubIssue.findLabel(GithubLabel.LABELS.type);","lastModifiedDate":"2019-12-17"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    this.responseTag \u003d githubIssue.findLabel(GithubLabel.LABELS.response);","lastModifiedDate":"2019-12-17"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    this.duplicated \u003d !!githubIssue.findLabel(GithubLabel.LABELS.duplicated, false);","lastModifiedDate":"2019-12-17"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    this.status \u003d githubIssue.findLabel(GithubLabel.LABELS.status);","lastModifiedDate":"2019-12-17"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    this.pending \u003d githubIssue.findLabel(GithubLabel.LABELS.pending);","lastModifiedDate":"2019-12-17"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":117,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  public static createPhaseBugReportingIssue(githubIssue: GithubIssue): Issue {","lastModifiedDate":"2019-12-17"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    return new Issue(githubIssue);","lastModifiedDate":"2019-12-17"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":121,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  public static createPhaseTeamResponseIssue(githubIssue: GithubIssue, teamData: Team): Issue {","lastModifiedDate":"2020-09-12"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    const issue \u003d new Issue(githubIssue);","lastModifiedDate":"2019-12-17"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    const template \u003d new TeamResponseTemplate(githubIssue.comments);","lastModifiedDate":"2020-09-12"},{"lineNumber":125,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    issue.githubComments \u003d githubIssue.comments;","lastModifiedDate":"2020-09-12"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    issue.teamAssigned \u003d teamData;","lastModifiedDate":"2019-12-17"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    issue.issueComment \u003d template.comment;","lastModifiedDate":"2019-12-17"},{"lineNumber":129,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    issue.teamResponse \u003d template.teamResponse \u0026\u0026 Issue.updateTeamResponse(template.teamResponse.content);","lastModifiedDate":"2021-06-30"},{"lineNumber":130,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    issue.duplicateOf \u003d template.duplicateOf \u0026\u0026 template.duplicateOf.issueNumber;","lastModifiedDate":"2021-06-30"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    issue.duplicated \u003d issue.duplicateOf !\u003d\u003d undefined \u0026\u0026 issue.duplicateOf !\u003d\u003d null;","lastModifiedDate":"2019-12-17"},{"lineNumber":132,"author":{"gitId":"-"},"content":"    issue.assignees \u003d githubIssue.assignees.map(assignee \u003d\u003e assignee.login);","lastModifiedDate":"2019-12-17"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    return issue;","lastModifiedDate":"2019-12-17"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":135,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  public static createPhaseTesterResponseIssue(githubIssue: GithubIssue): Issue {","lastModifiedDate":"2020-09-12"},{"lineNumber":137,"author":{"gitId":"-"},"content":"    const issue \u003d new Issue(githubIssue);","lastModifiedDate":"2019-12-17"},{"lineNumber":138,"author":{"gitId":"-"},"content":"    const template \u003d new TesterResponseTemplate(githubIssue.comments);","lastModifiedDate":"2020-09-12"},{"lineNumber":139,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":140,"author":{"gitId":"-"},"content":"    issue.githubComments \u003d githubIssue.comments;","lastModifiedDate":"2020-09-12"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    issue.issueComment \u003d template.comment;","lastModifiedDate":"2019-12-17"},{"lineNumber":142,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    issue.teamResponse \u003d template.teamResponse \u0026\u0026 Issue.updateTeamResponse(template.teamResponse.content);","lastModifiedDate":"2021-06-30"},{"lineNumber":143,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    issue.testerResponses \u003d template.testerResponse \u0026\u0026 template.testerResponse.testerResponses;","lastModifiedDate":"2021-06-30"},{"lineNumber":144,"author":{"gitId":"-"},"content":"    return issue;","lastModifiedDate":"2019-12-17"},{"lineNumber":145,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":146,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  public static createPhaseModerationIssue(githubIssue: GithubIssue, teamData: Team): Issue {","lastModifiedDate":"2020-09-12"},{"lineNumber":148,"author":{"gitId":"-"},"content":"    const issue \u003d new Issue(githubIssue);","lastModifiedDate":"2019-12-17"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    const issueTemplate \u003d new TutorModerationIssueTemplate(githubIssue);","lastModifiedDate":"2019-12-17"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    const todoTemplate \u003d new TutorModerationTodoTemplate(githubIssue.comments);","lastModifiedDate":"2020-09-12"},{"lineNumber":151,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    issue.githubComments \u003d githubIssue.comments;","lastModifiedDate":"2020-09-12"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    issue.teamAssigned \u003d teamData;","lastModifiedDate":"2019-12-17"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    issue.description \u003d issueTemplate.description.content;","lastModifiedDate":"2019-12-17"},{"lineNumber":155,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    issue.teamResponse \u003d issueTemplate.teamResponse \u0026\u0026 Issue.updateTeamResponse(issueTemplate.teamResponse.content);","lastModifiedDate":"2021-06-30"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    issue.issueDisputes \u003d issueTemplate.dispute.disputes;","lastModifiedDate":"2019-12-17"},{"lineNumber":157,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    if (todoTemplate.moderation \u0026\u0026 todoTemplate.comment) {","lastModifiedDate":"2019-12-17"},{"lineNumber":159,"author":{"gitId":"-"},"content":"      issue.issueDisputes \u003d todoTemplate.moderation.disputesToResolve.map((dispute, i) \u003d\u003e {","lastModifiedDate":"2019-12-17"},{"lineNumber":160,"author":{"gitId":"-"},"content":"        dispute.description \u003d issueTemplate.dispute.disputes[i].description;","lastModifiedDate":"2019-12-17"},{"lineNumber":161,"author":{"gitId":"-"},"content":"        return dispute;","lastModifiedDate":"2019-12-17"},{"lineNumber":162,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2019-12-17"},{"lineNumber":163,"author":{"gitId":"-"},"content":"      issue.issueComment \u003d todoTemplate.comment;","lastModifiedDate":"2019-12-17"},{"lineNumber":164,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-12-17"},{"lineNumber":165,"author":{"gitId":"-"},"content":"    return issue;","lastModifiedDate":"2019-12-17"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":167,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":168,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":169,"author":{"gitId":"-"},"content":"   * Creates a new copy of an exact same issue.","lastModifiedDate":"2020-01-14"},{"lineNumber":170,"author":{"gitId":"-"},"content":"   * This would come useful in the event when you want to update the issue but not the actual","lastModifiedDate":"2020-01-14"},{"lineNumber":171,"author":{"gitId":"-"},"content":"   * state of the application.","lastModifiedDate":"2020-01-14"},{"lineNumber":172,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  clone(phase: Phase): Issue {","lastModifiedDate":"2020-01-14"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    switch (phase) {","lastModifiedDate":"2020-01-14"},{"lineNumber":175,"author":{"gitId":"-"},"content":"      case Phase.phaseBugReporting:","lastModifiedDate":"2020-01-14"},{"lineNumber":176,"author":{"gitId":"-"},"content":"        return Issue.createPhaseBugReportingIssue(this.githubIssue);","lastModifiedDate":"2020-01-14"},{"lineNumber":177,"author":{"gitId":"-"},"content":"      case Phase.phaseTeamResponse:","lastModifiedDate":"2020-01-14"},{"lineNumber":178,"author":{"gitId":"-"},"content":"        return Issue.createPhaseTeamResponseIssue(this.githubIssue, this.teamAssigned);","lastModifiedDate":"2020-09-12"},{"lineNumber":179,"author":{"gitId":"-"},"content":"      case Phase.phaseTesterResponse:","lastModifiedDate":"2020-01-14"},{"lineNumber":180,"author":{"gitId":"-"},"content":"        return Issue.createPhaseTesterResponseIssue(this.githubIssue);","lastModifiedDate":"2020-09-12"},{"lineNumber":181,"author":{"gitId":"-"},"content":"      case Phase.phaseModeration:","lastModifiedDate":"2020-01-14"},{"lineNumber":182,"author":{"gitId":"-"},"content":"        return Issue.createPhaseModerationIssue(this.githubIssue, this.teamAssigned);","lastModifiedDate":"2020-09-12"},{"lineNumber":183,"author":{"gitId":"-"},"content":"      default:","lastModifiedDate":"2020-01-14"},{"lineNumber":184,"author":{"gitId":"-"},"content":"        return Issue.createPhaseBugReportingIssue(this.githubIssue);","lastModifiedDate":"2020-01-14"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":186,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":187,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":188,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":189,"author":{"gitId":"-"},"content":"   * Depending on the phase of the peer testing, each phase will have a response associated to them.","lastModifiedDate":"2020-01-14"},{"lineNumber":190,"author":{"gitId":"-"},"content":"   * This function will allow the current instance of issue to retain the state of response of the given `issue`.","lastModifiedDate":"2020-01-14"},{"lineNumber":191,"author":{"gitId":"-"},"content":"   *","lastModifiedDate":"2020-01-14"},{"lineNumber":192,"author":{"gitId":"-"},"content":"   * @param phase - The phase in which you want to retain your responses.","lastModifiedDate":"2020-01-14"},{"lineNumber":193,"author":{"gitId":"-"},"content":"   * @param issue - The issue which you want your current instance to retain from.","lastModifiedDate":"2020-01-14"},{"lineNumber":194,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":195,"author":{"gitId":"-"},"content":"  retainResponses(phase: Phase, issue: Issue) {","lastModifiedDate":"2020-01-14"},{"lineNumber":196,"author":{"gitId":"-"},"content":"    this.issueComment \u003d issue.issueComment;","lastModifiedDate":"2020-01-14"},{"lineNumber":197,"author":{"gitId":"-"},"content":"    this.githubComments \u003d issue.githubComments;","lastModifiedDate":"2020-01-14"},{"lineNumber":198,"author":{"gitId":"-"},"content":"    switch (phase) {","lastModifiedDate":"2020-01-14"},{"lineNumber":199,"author":{"gitId":"-"},"content":"      case Phase.phaseBugReporting:","lastModifiedDate":"2020-01-14"},{"lineNumber":200,"author":{"gitId":"-"},"content":"        this.description \u003d issue.description;","lastModifiedDate":"2020-01-14"},{"lineNumber":201,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2020-01-14"},{"lineNumber":202,"author":{"gitId":"-"},"content":"      case Phase.phaseTeamResponse:","lastModifiedDate":"2020-01-14"},{"lineNumber":203,"author":{"gitId":"-"},"content":"        this.teamResponse \u003d issue.teamResponse;","lastModifiedDate":"2020-01-14"},{"lineNumber":204,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2020-01-14"},{"lineNumber":205,"author":{"gitId":"-"},"content":"      case Phase.phaseTesterResponse:","lastModifiedDate":"2020-01-14"},{"lineNumber":206,"author":{"gitId":"-"},"content":"        this.testerResponses \u003d issue.testerResponses;","lastModifiedDate":"2020-01-14"},{"lineNumber":207,"author":{"gitId":"-"},"content":"        this.teamResponse \u003d issue.teamResponse;","lastModifiedDate":"2020-01-14"},{"lineNumber":208,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2020-01-14"},{"lineNumber":209,"author":{"gitId":"-"},"content":"      case Phase.phaseModeration:","lastModifiedDate":"2020-01-14"},{"lineNumber":210,"author":{"gitId":"-"},"content":"        this.issueDisputes \u003d issue.issueDisputes;","lastModifiedDate":"2020-01-14"},{"lineNumber":211,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2020-01-14"},{"lineNumber":212,"author":{"gitId":"-"},"content":"      default:","lastModifiedDate":"2020-01-14"},{"lineNumber":213,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2020-01-14"},{"lineNumber":214,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":215,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":216,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":217,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":218,"author":{"gitId":"-"},"content":"   * Updates the tester\u0027s responses and team response based on the given githubComment.","lastModifiedDate":"2020-01-14"},{"lineNumber":219,"author":{"gitId":"-"},"content":"   * @param githubComment - A version of githubComment to update the issue with.","lastModifiedDate":"2020-01-14"},{"lineNumber":220,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":221,"author":{"gitId":"-"},"content":"  updateTesterResponse(githubComment: GithubComment): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":222,"author":{"gitId":"-"},"content":"    const template \u003d new TesterResponseTemplate([githubComment]);","lastModifiedDate":"2020-01-14"},{"lineNumber":223,"author":{"gitId":"-"},"content":"    this.issueComment \u003d template.comment;","lastModifiedDate":"2020-01-14"},{"lineNumber":224,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    this.teamResponse \u003d template.teamResponse \u0026\u0026 template.teamResponse.content;","lastModifiedDate":"2021-06-30"},{"lineNumber":225,"author":{"gitId":"Audrey Felicio Anwar"},"content":"    this.testerResponses \u003d template.testerResponse \u0026\u0026 template.testerResponse.testerResponses;","lastModifiedDate":"2021-06-30"},{"lineNumber":226,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":227,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":228,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":229,"author":{"gitId":"-"},"content":"   * Updates the tutor\u0027s resolution of the disputes with a new version of githubComment.","lastModifiedDate":"2020-01-14"},{"lineNumber":230,"author":{"gitId":"-"},"content":"   * @param githubComment - A version of githubComment to update the dispute with.","lastModifiedDate":"2020-01-14"},{"lineNumber":231,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":232,"author":{"gitId":"-"},"content":"  updateDispute(githubComment: GithubComment): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":233,"author":{"gitId":"-"},"content":"    const todoTemplate \u003d new TutorModerationTodoTemplate([githubComment]);","lastModifiedDate":"2020-01-14"},{"lineNumber":234,"author":{"gitId":"-"},"content":"    this.issueComment \u003d todoTemplate.comment;","lastModifiedDate":"2020-01-14"},{"lineNumber":235,"author":{"gitId":"-"},"content":"    this.issueDisputes \u003d todoTemplate.moderation.disputesToResolve.map((dispute, i) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":236,"author":{"gitId":"-"},"content":"      dispute.description \u003d this.issueDisputes[i].description;","lastModifiedDate":"2020-01-14"},{"lineNumber":237,"author":{"gitId":"-"},"content":"      return dispute;","lastModifiedDate":"2020-01-14"},{"lineNumber":238,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":239,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":240,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":241,"author":{"gitId":"-"},"content":"  createGithubIssueDescription(): string {","lastModifiedDate":"2020-09-27"},{"lineNumber":242,"author":{"gitId":"-"},"content":"    return `${this.description}\\n${this.hiddenDataInDescription.toString()}`;","lastModifiedDate":"2020-09-27"},{"lineNumber":243,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-27"},{"lineNumber":244,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-27"},{"lineNumber":245,"author":{"gitId":"-"},"content":"  // Template url: https://github.com/CATcher-org/templates#dev-response-phase","lastModifiedDate":"2020-01-14"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  createGithubTeamResponse(): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":247,"author":{"gitId":"-"},"content":"    return `# Team\\\u0027s Response\\n${this.teamResponse}\\n` +","lastModifiedDate":"2020-01-14"},{"lineNumber":248,"author":{"gitId":"-"},"content":"      `## Duplicate status (if any):\\n${this.duplicateOf ? `Duplicate of #${this.duplicateOf}` : `--`}`;","lastModifiedDate":"2020-01-14"},{"lineNumber":249,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":250,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":251,"author":{"gitId":"-"},"content":"  // Template url: https://github.com/CATcher-org/templates#tutor-moderation","lastModifiedDate":"2020-01-14"},{"lineNumber":252,"author":{"gitId":"-"},"content":"  createGithubTutorResponse(): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":253,"author":{"gitId":"-"},"content":"    let tutorResponseString \u003d \u0027# Tutor Moderation\\n\\n\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":254,"author":{"gitId":"-"},"content":"    for (const issueDispute of this.issueDisputes) {","lastModifiedDate":"2020-01-14"},{"lineNumber":255,"author":{"gitId":"-"},"content":"      tutorResponseString +\u003d issueDispute.toTutorResponseString();","lastModifiedDate":"2020-01-14"},{"lineNumber":256,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":257,"author":{"gitId":"-"},"content":"    return tutorResponseString;","lastModifiedDate":"2020-01-14"},{"lineNumber":258,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":259,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":260,"author":{"gitId":"-"},"content":"  // Template url: https://github.com/CATcher-org/templates#teams-response-1","lastModifiedDate":"2020-01-14"},{"lineNumber":261,"author":{"gitId":"-"},"content":"  createGithubTesterResponse(): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":262,"author":{"gitId":"-"},"content":"    return `# Team\\\u0027s Response\\n${this.teamResponse}\\n` +","lastModifiedDate":"2020-01-14"},{"lineNumber":263,"author":{"gitId":"-"},"content":"      `# Items for the Tester to Verify\\n${this.getTesterResponsesString(this.testerResponses)}`;","lastModifiedDate":"2020-01-14"},{"lineNumber":264,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":265,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":266,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-19"},{"lineNumber":267,"author":{"gitId":"-"},"content":"   * Gets the number of unresolved disputes in an Issue.","lastModifiedDate":"2020-02-19"},{"lineNumber":268,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-19"},{"lineNumber":269,"author":{"gitId":"-"},"content":"  numOfUnresolvedDisputes(): number {","lastModifiedDate":"2020-02-19"},{"lineNumber":270,"author":{"gitId":"-"},"content":"    if (!this.issueDisputes) {","lastModifiedDate":"2020-02-19"},{"lineNumber":271,"author":{"gitId":"-"},"content":"      return 0;","lastModifiedDate":"2020-02-19"},{"lineNumber":272,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-02-19"},{"lineNumber":273,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-19"},{"lineNumber":274,"author":{"gitId":"-"},"content":"    return this.issueDisputes.reduce((prev, current) \u003d\u003e prev + Number(!current.isDone()), 0);","lastModifiedDate":"2020-03-04"},{"lineNumber":275,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-19"},{"lineNumber":276,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-19"},{"lineNumber":277,"author":{"gitId":"-"},"content":"  private getTesterResponsesString(testerResponses: TesterResponse[]): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":278,"author":{"gitId":"-"},"content":"    let testerResponsesString \u003d \u0027\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":279,"author":{"gitId":"-"},"content":"    for (const testerResponse of testerResponses) {","lastModifiedDate":"2020-01-14"},{"lineNumber":280,"author":{"gitId":"-"},"content":"      testerResponsesString +\u003d testerResponse.toString();","lastModifiedDate":"2020-01-14"},{"lineNumber":281,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":282,"author":{"gitId":"-"},"content":"    return testerResponsesString;","lastModifiedDate":"2020-01-14"},{"lineNumber":283,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":284,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-18"},{"lineNumber":285,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":286,"author":{"gitId":"-"},"content":"export interface Issues {","lastModifiedDate":"2019-03-05"},{"lineNumber":287,"author":{"gitId":"-"},"content":"  [id: number]: Issue;","lastModifiedDate":"2019-03-05"},{"lineNumber":288,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-03-05"},{"lineNumber":289,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-05"},{"lineNumber":290,"author":{"gitId":"-"},"content":"export const SEVERITY_ORDER \u003d { \u0027-\u0027: 0 , VeryLow: 1, Low: 2, Medium: 3, High: 4 };","lastModifiedDate":"2020-02-25"},{"lineNumber":291,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":292,"author":{"gitId":"-"},"content":"export const ISSUE_TYPE_ORDER \u003d { \u0027-\u0027: 0 , DocumentationBug: 1, FeatureFlaw: 2, FunctionalityBug: 3  };","lastModifiedDate":"2020-01-20"},{"lineNumber":293,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-05"},{"lineNumber":294,"author":{"gitId":"-"},"content":"export enum STATUS {","lastModifiedDate":"2019-04-05"},{"lineNumber":295,"author":{"gitId":"-"},"content":"  Incomplete \u003d \u0027Incomplete\u0027,","lastModifiedDate":"2019-04-05"},{"lineNumber":296,"author":{"gitId":"-"},"content":"  Done \u003d \u0027Done\u0027,","lastModifiedDate":"2019-04-05"},{"lineNumber":297,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-04-05"},{"lineNumber":298,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-05"},{"lineNumber":299,"author":{"gitId":"-"},"content":"export const IssuesFilter \u003d {","lastModifiedDate":"2019-02-26"},{"lineNumber":300,"author":{"gitId":"-"},"content":"  phaseBugReporting: {","lastModifiedDate":"2019-07-23"},{"lineNumber":301,"author":{"gitId":"-"},"content":"    Student: \u0027FILTER_BY_CREATOR\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":302,"author":{"gitId":"-"},"content":"    Tutor: \u0027NO_FILTER\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":303,"author":{"gitId":"-"},"content":"    Admin: \u0027NO_FILTER\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":304,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2019-02-26"},{"lineNumber":305,"author":{"gitId":"-"},"content":"  phaseTeamResponse: {","lastModifiedDate":"2019-07-23"},{"lineNumber":306,"author":{"gitId":"-"},"content":"    Student: \u0027FILTER_BY_TEAM\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":307,"author":{"gitId":"-"},"content":"    Tutor: \u0027FILTER_BY_TEAM_ASSIGNED\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":308,"author":{"gitId":"-"},"content":"    Admin: \u0027NO_FILTER\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":309,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2019-02-26"},{"lineNumber":310,"author":{"gitId":"-"},"content":"  phaseTesterResponse: {","lastModifiedDate":"2019-07-20"},{"lineNumber":311,"author":{"gitId":"-"},"content":"    Student: \u0027NO_FILTER\u0027,","lastModifiedDate":"2019-07-20"},{"lineNumber":312,"author":{"gitId":"-"},"content":"    Tutor: \u0027NO_ACCESS\u0027,","lastModifiedDate":"2019-07-20"},{"lineNumber":313,"author":{"gitId":"-"},"content":"    Admin: \u0027NO_FILTER\u0027,","lastModifiedDate":"2019-07-20"},{"lineNumber":314,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2019-07-20"},{"lineNumber":315,"author":{"gitId":"-"},"content":"  phaseModeration: {","lastModifiedDate":"2019-07-23"},{"lineNumber":316,"author":{"gitId":"-"},"content":"    Student: \u0027NO_ACCESS\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":317,"author":{"gitId":"-"},"content":"    Tutor: \u0027FILTER_BY_TEAM_ASSIGNED\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":318,"author":{"gitId":"-"},"content":"    Admin: \u0027NO_FILTER\u0027,","lastModifiedDate":"2019-02-26"},{"lineNumber":319,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-16"},{"lineNumber":320,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2019-02-26"}],"authorContributionMap":{"Audrey Felicio Anwar":7,"-":313}},{"path":"src/app/core/services/application.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Observable, of } from \u0027rxjs\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./github.service\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { GithubRelease } from \u0027../models/github/github.release\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { map } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { AppConfig } from \u0027../../../environments/environment\u0027;","lastModifiedDate":"2021-03-29"},{"lineNumber":7,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export const appVersion \u003d AppConfig.version;","lastModifiedDate":"2021-03-29"},{"lineNumber":9,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":10,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-12-17"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","lastModifiedDate":"2019-12-17"},{"lineNumber":12,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-12-17"},{"lineNumber":13,"author":{"gitId":"-"},"content":"export class ApplicationService {","lastModifiedDate":"2019-12-17"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  readonly currentVersion: string;","lastModifiedDate":"2019-12-17"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  latestVersion: string;","lastModifiedDate":"2019-12-17"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  latestReleaseUrl: string;","lastModifiedDate":"2019-12-17"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  constructor(private githubService: GithubService) {","lastModifiedDate":"2019-12-17"},{"lineNumber":19,"author":{"gitId":"Ding YuChen"},"content":"    this.currentVersion \u003d appVersion;","lastModifiedDate":"2021-03-24"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":21,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-12-17"},{"lineNumber":23,"author":{"gitId":"-"},"content":"   * Determines whether the application is outdated.","lastModifiedDate":"2019-12-17"},{"lineNumber":24,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-12-17"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  isApplicationOutdated(): Observable\u003cboolean\u003e {","lastModifiedDate":"2019-12-17"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    if (this.latestVersion) {","lastModifiedDate":"2019-12-17"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      return of(this.isOutdatedVersion(this.latestVersion, this.currentVersion));","lastModifiedDate":"2019-12-17"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-12-17"},{"lineNumber":29,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    return this.githubService.fetchLatestRelease().pipe(","lastModifiedDate":"2019-12-17"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      map((githubRelease: GithubRelease) \u003d\u003e {","lastModifiedDate":"2019-12-17"},{"lineNumber":32,"author":{"gitId":"-"},"content":"        this.latestVersion \u003d githubRelease.tag_name.substring(1);","lastModifiedDate":"2019-12-17"},{"lineNumber":33,"author":{"gitId":"-"},"content":"        this.latestReleaseUrl \u003d githubRelease.html_url;","lastModifiedDate":"2019-12-17"},{"lineNumber":34,"author":{"gitId":"-"},"content":"        return this.isOutdatedVersion(this.latestVersion, this.currentVersion);","lastModifiedDate":"2019-12-17"},{"lineNumber":35,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-12-17"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-12-17"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-12-17"},{"lineNumber":40,"author":{"gitId":"-"},"content":"   * Determines whether the current version is outdated compared to the latest version.","lastModifiedDate":"2019-12-17"},{"lineNumber":41,"author":{"gitId":"-"},"content":"   * @param latestVersion","lastModifiedDate":"2019-12-17"},{"lineNumber":42,"author":{"gitId":"-"},"content":"   * @param currentVersion","lastModifiedDate":"2019-12-17"},{"lineNumber":43,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-12-17"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  private isOutdatedVersion(latestVersion: string, currentVersion: string): boolean {","lastModifiedDate":"2020-12-19"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    const result \u003d this.compareVersions(latestVersion, currentVersion);","lastModifiedDate":"2019-12-17"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    return result \u003d\u003d\u003d 1;","lastModifiedDate":"2019-12-17"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":48,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-12-17"},{"lineNumber":50,"author":{"gitId":"-"},"content":"   * Compares the 2 given string versions v1 and v2 assuming that the version string","lastModifiedDate":"2019-12-17"},{"lineNumber":51,"author":{"gitId":"-"},"content":"   * has the following format: \u003cnumber\u003e.\u003cnumber\u003e...","lastModifiedDate":"2019-12-17"},{"lineNumber":52,"author":{"gitId":"-"},"content":"   * If v1 is greater than v2, return 1","lastModifiedDate":"2019-12-17"},{"lineNumber":53,"author":{"gitId":"-"},"content":"   * If v1 is less than v2, return -1","lastModifiedDate":"2019-12-17"},{"lineNumber":54,"author":{"gitId":"-"},"content":"   * If v1 is equal to v2, return 0","lastModifiedDate":"2019-12-17"},{"lineNumber":55,"author":{"gitId":"-"},"content":"   * @param v1 - The first version.","lastModifiedDate":"2019-12-17"},{"lineNumber":56,"author":{"gitId":"-"},"content":"   * @param v2 - The second version.","lastModifiedDate":"2019-12-17"},{"lineNumber":57,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-12-17"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  private compareVersions(v1: string, v2: string): number {","lastModifiedDate":"2019-12-17"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    const v1Arr \u003d v1.split(\u0027.\u0027);","lastModifiedDate":"2019-12-17"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    const v2Arr \u003d v2.split(\u0027.\u0027);","lastModifiedDate":"2019-12-17"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    const k \u003d Math.min(v1.length, v2.length);","lastModifiedDate":"2019-12-17"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    const v1IntArr: number[] \u003d [];","lastModifiedDate":"2019-12-17"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    const v2IntArr: number[] \u003d [];","lastModifiedDate":"2019-12-17"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    for (let i \u003d 0; i \u003c k; ++ i) {","lastModifiedDate":"2019-12-17"},{"lineNumber":66,"author":{"gitId":"-"},"content":"      v1IntArr[i] \u003d parseInt(v1Arr[i], 10);","lastModifiedDate":"2019-12-17"},{"lineNumber":67,"author":{"gitId":"-"},"content":"      v2IntArr[i] \u003d parseInt(v2Arr[i], 10);","lastModifiedDate":"2019-12-17"},{"lineNumber":68,"author":{"gitId":"-"},"content":"      if (v1IntArr[i] \u003e v2IntArr[i]) {","lastModifiedDate":"2019-12-17"},{"lineNumber":69,"author":{"gitId":"-"},"content":"        return 1;","lastModifiedDate":"2019-12-17"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-12-17"},{"lineNumber":71,"author":{"gitId":"-"},"content":"      if (v1IntArr[i] \u003c v2IntArr[i]) {","lastModifiedDate":"2019-12-17"},{"lineNumber":72,"author":{"gitId":"-"},"content":"        return -1;","lastModifiedDate":"2019-12-17"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-12-17"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-12-17"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    return v1.length \u003d\u003d\u003d v2.length ? 0 : (v1.length \u003c v2.length ? -1 : 1);","lastModifiedDate":"2019-12-17"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":77,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-12-17"}],"authorContributionMap":{"Low Jun Kai, Sean":2,"Ding YuChen":1,"-":74}},{"path":"src/app/core/services/auth.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-14"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { HttpClient } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2020-08-30"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Router } from \u0027@angular/router\u0027;","lastModifiedDate":"2019-01-16"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { BehaviorSubject } from \u0027rxjs\u0027;","lastModifiedDate":"2020-08-30"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { NgZone } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-16"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027./electron.service\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { UserService } from \u0027./user.service\u0027;","lastModifiedDate":"2019-02-07"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027./phase.service\u0027;","lastModifiedDate":"2019-02-24"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027./error-handling.service\u0027;","lastModifiedDate":"2019-02-05"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./github.service\u0027;","lastModifiedDate":"2019-02-05"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027./issue.service\u0027;","lastModifiedDate":"2019-02-07"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { DataService } from \u0027./data.service\u0027;","lastModifiedDate":"2019-03-19"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027./label.service\u0027;","lastModifiedDate":"2019-05-22"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { Title } from \u0027@angular/platform-browser\u0027;","lastModifiedDate":"2019-05-17"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { GithubEventService } from \u0027./githubevent.service\u0027;","lastModifiedDate":"2019-05-28"},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { generateSessionId } from \u0027../../shared/lib/session\u0027;","lastModifiedDate":"2021-01-16"},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { AppConfig } from \u0027../../../environments/environment\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027./logging.service\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { uuid } from \u0027../../shared/lib/uuid\u0027;","lastModifiedDate":"2021-03-07"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":21,"author":{"gitId":"-"},"content":"export enum AuthState { \u0027NotAuthenticated\u0027, \u0027AwaitingAuthentication\u0027, \u0027ConfirmOAuthUser\u0027, \u0027Authenticated\u0027}","lastModifiedDate":"2020-08-30"},{"lineNumber":22,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":23,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-01-14"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","lastModifiedDate":"2019-01-14"},{"lineNumber":25,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-14"},{"lineNumber":26,"author":{"gitId":"-"},"content":"export class AuthService {","lastModifiedDate":"2019-01-14"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  authStateSource \u003d new BehaviorSubject(AuthState.NotAuthenticated);","lastModifiedDate":"2019-01-16"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  currentAuthState \u003d this.authStateSource.asObservable();","lastModifiedDate":"2019-01-16"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  accessToken \u003d new BehaviorSubject(undefined);","lastModifiedDate":"2021-01-09"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  private state: string;","lastModifiedDate":"2021-03-07"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  ENABLE_POPUP_MESSAGE \u003d \u0027Please enable pop-ups in your browser\u0027;","lastModifiedDate":"2021-03-14"},{"lineNumber":33,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-14"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  constructor(private electronService: ElectronService, private router: Router, private ngZone: NgZone,","lastModifiedDate":"2019-01-25"},{"lineNumber":35,"author":{"gitId":"-"},"content":"              private http: HttpClient,  private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2019-01-25"},{"lineNumber":36,"author":{"gitId":"-"},"content":"              private githubService: GithubService,","lastModifiedDate":"2019-02-07"},{"lineNumber":37,"author":{"gitId":"-"},"content":"              private userService: UserService,","lastModifiedDate":"2019-02-07"},{"lineNumber":38,"author":{"gitId":"-"},"content":"              private issueService: IssueService,","lastModifiedDate":"2019-02-24"},{"lineNumber":39,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService,","lastModifiedDate":"2019-02-16"},{"lineNumber":40,"author":{"gitId":"-"},"content":"              private labelService: LabelService,","lastModifiedDate":"2019-05-22"},{"lineNumber":41,"author":{"gitId":"-"},"content":"              private dataService: DataService,","lastModifiedDate":"2019-05-17"},{"lineNumber":42,"author":{"gitId":"-"},"content":"              private githubEventService: GithubEventService,","lastModifiedDate":"2019-05-30"},{"lineNumber":43,"author":{"gitId":"-"},"content":"              private titleService: Title,","lastModifiedDate":"2021-01-09"},{"lineNumber":44,"author":{"gitId":"-"},"content":"              private logger: LoggingService) {}","lastModifiedDate":"2021-01-09"},{"lineNumber":45,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-09-12"},{"lineNumber":47,"author":{"gitId":"-"},"content":"   * Will store the OAuth token.","lastModifiedDate":"2020-09-12"},{"lineNumber":48,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-09-12"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  storeOAuthAccessToken(token: string) {","lastModifiedDate":"2020-09-12"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    this.githubService.storeOAuthAccessToken(token);","lastModifiedDate":"2021-01-09"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    this.accessToken.next(token);","lastModifiedDate":"2021-01-09"},{"lineNumber":52,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":53,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  reset(): void {","lastModifiedDate":"2020-09-12"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    this.accessToken.next(undefined);","lastModifiedDate":"2021-01-09"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2020-09-12"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    this.ngZone.run(() \u003d\u003e this.router.navigate([\u0027\u0027]));","lastModifiedDate":"2020-09-12"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":59,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  logOut(): void {","lastModifiedDate":"2019-01-16"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    this.githubService.reset();","lastModifiedDate":"2020-01-14"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    this.userService.reset();","lastModifiedDate":"2019-02-07"},{"lineNumber":63,"author":{"gitId":"ptvrajsk"},"content":"    this.issueService.reset(true);","lastModifiedDate":"2021-04-05"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.phaseService.reset();","lastModifiedDate":"2019-02-25"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    this.dataService.reset();","lastModifiedDate":"2019-03-19"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    this.githubEventService.reset();","lastModifiedDate":"2019-05-30"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    this.logger.reset();","lastModifiedDate":"2021-03-13"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    this.setLandingPageTitle();","lastModifiedDate":"2021-02-05"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    this.issueService.setIssueTeamFilter(\u0027All Teams\u0027);","lastModifiedDate":"2019-06-13"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    this.reset();","lastModifiedDate":"2020-09-12"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-14"},{"lineNumber":72,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-16"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  setTitleWithPhaseDetail(): void {","lastModifiedDate":"2021-02-05"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    const appSetting \u003d require(\u0027../../../../package.json\u0027);","lastModifiedDate":"2021-02-05"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    const title \u003d `${appSetting.name} ${appSetting.version} - ${this.phaseService.getPhaseDetail()}`;","lastModifiedDate":"2021-02-05"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    this.titleService.setTitle(title);","lastModifiedDate":"2021-02-05"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-02-05"},{"lineNumber":78,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  setLandingPageTitle(): void {","lastModifiedDate":"2021-02-05"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    const appSetting \u003d require(\u0027../../../../package.json\u0027);","lastModifiedDate":"2021-02-05"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    const title \u003d `${appSetting.name} ${appSetting.version}`;","lastModifiedDate":"2021-02-05"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    this.titleService.setTitle(title);","lastModifiedDate":"2021-02-05"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-02-05"},{"lineNumber":84,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  isAuthenticated(): boolean {","lastModifiedDate":"2019-01-14"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    return this.authStateSource.getValue() \u003d\u003d\u003d AuthState.Authenticated;","lastModifiedDate":"2020-02-03"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-14"},{"lineNumber":88,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-14"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  changeAuthState(newAuthState: AuthState) {","lastModifiedDate":"2019-04-19"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    if (newAuthState \u003d\u003d\u003d AuthState.Authenticated) {","lastModifiedDate":"2020-09-27"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      const sessionId \u003d generateSessionId();","lastModifiedDate":"2021-01-16"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      this.issueService.setSessionId(sessionId);","lastModifiedDate":"2020-10-15"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      this.logger.info(`Successfully authenticated with session: ${sessionId}`);","lastModifiedDate":"2021-01-09"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-09-27"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    this.authStateSource.next(newAuthState);","lastModifiedDate":"2019-01-16"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-14"},{"lineNumber":97,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-28"},{"lineNumber":98,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-03-07"},{"lineNumber":100,"author":{"gitId":"-"},"content":"   * Generates and assigns an unguessable random \u0027state\u0027 string to pass to Github for protection against cross-site request forgery attacks","lastModifiedDate":"2021-03-07"},{"lineNumber":101,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-03-07"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  generateStateString() {","lastModifiedDate":"2021-03-07"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    this.state \u003d uuid();","lastModifiedDate":"2021-03-07"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-07"},{"lineNumber":105,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  isReturnedStateSame(returnedState: string): boolean {","lastModifiedDate":"2021-03-07"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    return returnedState \u003d\u003d\u003d this.state;","lastModifiedDate":"2021-03-07"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-07"},{"lineNumber":109,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-07"},{"lineNumber":110,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-03"},{"lineNumber":111,"author":{"gitId":"-"},"content":"   * Will start the Github OAuth web flow process.","lastModifiedDate":"2020-02-03"},{"lineNumber":112,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-03"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  startOAuthProcess() {","lastModifiedDate":"2021-01-09"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    this.logger.info(\u0027Starting authentication\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    const githubRepoPermission \u003d this.phaseService.githubRepoPermissionLevel();","lastModifiedDate":"2020-03-04"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    this.changeAuthState(AuthState.AwaitingAuthentication);","lastModifiedDate":"2020-02-03"},{"lineNumber":117,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    if (this.electronService.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":119,"author":{"gitId":"-"},"content":"      this.electronService.sendIpcMessage(\u0027github-oauth\u0027, githubRepoPermission);","lastModifiedDate":"2021-01-09"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2021-01-09"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      this.generateStateString();","lastModifiedDate":"2021-03-07"},{"lineNumber":122,"author":{"gitId":"-"},"content":"      this.createOauthWindow(encodeURI(","lastModifiedDate":"2021-01-09"},{"lineNumber":123,"author":{"gitId":"-"},"content":"        `${AppConfig.githubUrl}/login/oauth/authorize?client_id\u003d${AppConfig.clientId}\u0026scope\u003d${githubRepoPermission},read:user\u0026state\u003d${this.state}`","lastModifiedDate":"2021-03-07"},{"lineNumber":124,"author":{"gitId":"-"},"content":"      ));","lastModifiedDate":"2021-01-09"},{"lineNumber":125,"author":{"gitId":"-"},"content":"      this.logger.info(\u0027Opening window for Github authentication\u0027);","lastModifiedDate":"2021-03-14"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":128,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-09"},{"lineNumber":130,"author":{"gitId":"-"},"content":"   * Will do a poll on whether the given window is closed.","lastModifiedDate":"2021-01-09"},{"lineNumber":131,"author":{"gitId":"-"},"content":"   * If it is closed and user is still not authenticated, change the auth status to not authenticated.","lastModifiedDate":"2021-01-09"},{"lineNumber":132,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-09"},{"lineNumber":133,"author":{"gitId":"-"},"content":"  private confirmWindowClosed(window: Window): void {","lastModifiedDate":"2021-01-09"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    const authService \u003d this;","lastModifiedDate":"2021-01-09"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    const pollTimer \u003d window.setInterval(function() {","lastModifiedDate":"2021-01-09"},{"lineNumber":136,"author":{"gitId":"-"},"content":"      if (window.closed) {","lastModifiedDate":"2021-01-09"},{"lineNumber":137,"author":{"gitId":"-"},"content":"        window.clearInterval(pollTimer);","lastModifiedDate":"2021-01-09"},{"lineNumber":138,"author":{"gitId":"-"},"content":"        if (!authService.accessToken) {","lastModifiedDate":"2021-01-09"},{"lineNumber":139,"author":{"gitId":"-"},"content":"          authService.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2021-01-09"},{"lineNumber":140,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2021-01-09"},{"lineNumber":141,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-01-09"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    }, 1000);","lastModifiedDate":"2021-01-09"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":144,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":145,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-09"},{"lineNumber":146,"author":{"gitId":"-"},"content":"   * Will create a web version of oauth window.","lastModifiedDate":"2021-01-09"},{"lineNumber":147,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-09"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  private createOauthWindow(","lastModifiedDate":"2021-01-09"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    url: string,","lastModifiedDate":"2021-01-09"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    width: number \u003d 500,","lastModifiedDate":"2021-01-09"},{"lineNumber":151,"author":{"gitId":"-"},"content":"    height: number \u003d 600,","lastModifiedDate":"2021-01-09"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    left: number \u003d 0,","lastModifiedDate":"2021-01-09"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    top: number \u003d 0","lastModifiedDate":"2021-01-09"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  ): void {","lastModifiedDate":"2021-01-09"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    if (url \u003d\u003d null) {","lastModifiedDate":"2021-01-09"},{"lineNumber":156,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2021-01-09"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    const options \u003d `width\u003d${width},height\u003d${height},left\u003d${left},top\u003d${top}`;","lastModifiedDate":"2021-01-09"},{"lineNumber":159,"author":{"gitId":"-"},"content":"    const oauthWindow \u003d window.open(`${url}`, \u0027Authorization\u0027, options);","lastModifiedDate":"2021-01-09"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    const authService \u003d this;","lastModifiedDate":"2021-01-09"},{"lineNumber":161,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-14"},{"lineNumber":162,"author":{"gitId":"-"},"content":"    if (oauthWindow \u003d\u003d null) {","lastModifiedDate":"2021-03-14"},{"lineNumber":163,"author":{"gitId":"Ding YuChen"},"content":"      throw new Error(this.ENABLE_POPUP_MESSAGE);","lastModifiedDate":"2021-05-24"},{"lineNumber":164,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-14"},{"lineNumber":165,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-14"},{"lineNumber":166,"author":{"gitId":"-"},"content":"    oauthWindow.addEventListener(\u0027unload\u0027, () \u003d\u003e {","lastModifiedDate":"2021-01-09"},{"lineNumber":167,"author":{"gitId":"-"},"content":"      if (!oauthWindow.closed) {","lastModifiedDate":"2021-01-09"},{"lineNumber":168,"author":{"gitId":"-"},"content":"        // unload event could be triggered when there is a redirection, hence, a confirmation needed.","lastModifiedDate":"2021-01-09"},{"lineNumber":169,"author":{"gitId":"-"},"content":"        authService.confirmWindowClosed(oauthWindow);","lastModifiedDate":"2021-01-09"},{"lineNumber":170,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-01-09"},{"lineNumber":171,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-09"},{"lineNumber":172,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":173,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-14"}],"authorContributionMap":{"ptvrajsk":1,"Ding YuChen":1,"-":171}},{"path":"src/app/core/services/electron.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-13"},{"lineNumber":2,"author":{"gitId":"Anubhav"},"content":"import { ipcRenderer } from \u0027electron\u0027;","lastModifiedDate":"2021-06-28"},{"lineNumber":3,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":4,"author":{"gitId":"-"},"content":"declare var window: Window;","lastModifiedDate":"2021-01-09"},{"lineNumber":5,"author":{"gitId":"-"},"content":"declare global {","lastModifiedDate":"2021-01-09"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  interface Window {","lastModifiedDate":"2021-01-09"},{"lineNumber":7,"author":{"gitId":"-"},"content":"    process: any;","lastModifiedDate":"2021-01-09"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    require: any;","lastModifiedDate":"2021-01-09"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":10,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-09"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":12,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-01-13"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027,","lastModifiedDate":"2019-01-13"},{"lineNumber":14,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-13"},{"lineNumber":15,"author":{"gitId":"-"},"content":"export class ElectronService {","lastModifiedDate":"2019-01-13"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  ipcRenderer: typeof ipcRenderer;","lastModifiedDate":"2019-01-13"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  constructor() {","lastModifiedDate":"2019-01-13"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    if (this.isElectron()) {","lastModifiedDate":"2019-01-13"},{"lineNumber":20,"author":{"gitId":"-"},"content":"      this.ipcRenderer \u003d window.require(\u0027electron\u0027).ipcRenderer;","lastModifiedDate":"2019-01-13"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-13"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-13"},{"lineNumber":23,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  isElectron(): boolean {","lastModifiedDate":"2019-01-14"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    return window \u0026\u0026 window.process \u0026\u0026 window.process.type;","lastModifiedDate":"2019-01-13"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-13"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-13"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  clearCookies() {","lastModifiedDate":"2021-01-09"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    if (this.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":31,"author":{"gitId":"Anubhav"},"content":"      this.ipcRenderer.invoke(\u0027clear-storage\u0027);","lastModifiedDate":"2021-06-28"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  registerIpcListener(channel: string, callback: (...params) \u003d\u003e void) {","lastModifiedDate":"2021-01-09"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    if (this.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      this.ipcRenderer.on(channel, callback);","lastModifiedDate":"2021-01-09"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":40,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  sendIpcMessage(channel: string, ...messages: any) {","lastModifiedDate":"2021-01-09"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    if (this.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      this.ipcRenderer.send(channel, messages);","lastModifiedDate":"2021-01-09"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":46,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  removeIpcListeners(channel: string) {","lastModifiedDate":"2021-01-09"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    if (this.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      this.ipcRenderer.removeAllListeners(channel);","lastModifiedDate":"2021-01-09"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":52,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  openLink(address: string) {","lastModifiedDate":"2021-01-09"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    if (this.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":55,"author":{"gitId":"Anubhav"},"content":"      this.ipcRenderer.invoke(\u0027open-link\u0027, address);","lastModifiedDate":"2021-06-28"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2020-03-04"},{"lineNumber":57,"author":{"gitId":"-"},"content":"      window.open(address);","lastModifiedDate":"2021-01-09"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-03-04"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-03-04"},{"lineNumber":60,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-13"}],"authorContributionMap":{"Anubhav":3,"-":57}},{"path":"src/app/core/services/error-handling.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { ErrorHandler, Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-03-14"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { MatSnackBar } from \u0027@angular/material\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { GeneralMessageErrorComponent } from \u0027../../shared/error-toasters/general-message-error/general-message-error.component\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { FormErrorComponent } from \u0027../../shared/error-toasters/form-error/form-error.component\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { HttpErrorResponse } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { RequestError } from \u0027@octokit/request-error\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027./logging.service\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":8,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":9,"author":{"gitId":"-"},"content":"export const ERRORCODE_NOT_FOUND \u003d 404;","lastModifiedDate":"2019-09-09"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-09-09"},{"lineNumber":11,"author":{"gitId":"Ding YuChen"},"content":"const FILTERABLE \u003d [\u0027node_modules\u0027];","lastModifiedDate":"2021-05-24"},{"lineNumber":12,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-24"},{"lineNumber":13,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-01-21"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027,","lastModifiedDate":"2019-01-21"},{"lineNumber":15,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-21"},{"lineNumber":16,"author":{"gitId":"-"},"content":"export class ErrorHandlingService implements ErrorHandler {","lastModifiedDate":"2021-03-14"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  constructor(private snackBar: MatSnackBar, private logger: LoggingService) {}","lastModifiedDate":"2021-01-09"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":20,"author":{"gitId":"Ding YuChen"},"content":"  handleError(error: HttpErrorResponse | Error | RequestError, actionCallback?: () \u003d\u003e void) {","lastModifiedDate":"2021-05-24"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    this.logger.error(error);","lastModifiedDate":"2021-01-09"},{"lineNumber":22,"author":{"gitId":"Ding YuChen"},"content":"    if (error instanceof Error) {","lastModifiedDate":"2021-05-24"},{"lineNumber":23,"author":{"gitId":"Ding YuChen"},"content":"      this.logger.error(this.cleanStack(error.stack));","lastModifiedDate":"2021-05-24"},{"lineNumber":24,"author":{"gitId":"Ding YuChen"},"content":"    }","lastModifiedDate":"2021-05-24"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    if (error instanceof HttpErrorResponse || error instanceof RequestError) {","lastModifiedDate":"2020-01-14"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      this.handleHttpError(error, actionCallback);","lastModifiedDate":"2020-01-14"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2020-01-14"},{"lineNumber":28,"author":{"gitId":"Ding YuChen"},"content":"      this.handleGeneralError(error.message || JSON.stringify(error));","lastModifiedDate":"2021-05-24"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":32,"author":{"gitId":"Ding YuChen"},"content":"  private cleanStack(stacktrace: string): string {","lastModifiedDate":"2021-05-24"},{"lineNumber":33,"author":{"gitId":"Ding YuChen"},"content":"    return stacktrace","lastModifiedDate":"2021-05-24"},{"lineNumber":34,"author":{"gitId":"Ding YuChen"},"content":"            .split(\u0027\\n\u0027)","lastModifiedDate":"2021-05-24"},{"lineNumber":35,"author":{"gitId":"Ding YuChen"},"content":"            .filter(line \u003d\u003e !FILTERABLE.some(word \u003d\u003e line.includes(word))) // exclude lines that contain words in FILTERABLE","lastModifiedDate":"2021-05-24"},{"lineNumber":36,"author":{"gitId":"Ding YuChen"},"content":"            .join(\u0027\\n\u0027);","lastModifiedDate":"2021-05-24"},{"lineNumber":37,"author":{"gitId":"Ding YuChen"},"content":"  }","lastModifiedDate":"2021-05-24"},{"lineNumber":38,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-24"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  // Ref: https://developer.github.com/v3/#client-errors","lastModifiedDate":"2019-01-21"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  private handleHttpError(error: HttpErrorResponse | RequestError, actionCallback?: () \u003d\u003e void): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    // Angular treats 304 Not Modified as an error, we will ignore it.","lastModifiedDate":"2020-01-14"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    if (error.status \u003d\u003d\u003d 304) {","lastModifiedDate":"2020-01-14"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2020-01-14"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":45,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    if (!navigator.onLine) {","lastModifiedDate":"2020-01-14"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      this.handleGeneralError(\u0027No Internet Connection\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":48,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2020-01-14"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":50,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    switch (error.status) {","lastModifiedDate":"2019-01-21"},{"lineNumber":52,"author":{"gitId":"-"},"content":"      case 500: // Internal Server Error.","lastModifiedDate":"2020-01-14"},{"lineNumber":53,"author":{"gitId":"-"},"content":"        this.snackBar.openFromComponent(GeneralMessageErrorComponent, {data: error});","lastModifiedDate":"2019-01-21"},{"lineNumber":54,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-01-21"},{"lineNumber":55,"author":{"gitId":"-"},"content":"      case 422: // Form errors","lastModifiedDate":"2019-01-24"},{"lineNumber":56,"author":{"gitId":"-"},"content":"        this.snackBar.openFromComponent(FormErrorComponent, {data: error});","lastModifiedDate":"2019-01-28"},{"lineNumber":57,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-01-21"},{"lineNumber":58,"author":{"gitId":"-"},"content":"      case 400: // Bad request","lastModifiedDate":"2019-01-24"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      case 401: // Unauthorized","lastModifiedDate":"2019-01-24"},{"lineNumber":60,"author":{"gitId":"-"},"content":"      case 404: // Not found","lastModifiedDate":"2019-01-24"},{"lineNumber":61,"author":{"gitId":"-"},"content":"        this.snackBar.openFromComponent(GeneralMessageErrorComponent, {data: error});","lastModifiedDate":"2019-01-21"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-01-21"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      default:","lastModifiedDate":"2019-01-21"},{"lineNumber":64,"author":{"gitId":"-"},"content":"        this.snackBar.openFromComponent(GeneralMessageErrorComponent, {data: error});","lastModifiedDate":"2019-04-19"},{"lineNumber":65,"author":{"gitId":"-"},"content":"        return;","lastModifiedDate":"2019-01-21"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-21"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":68,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-07"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  private handleGeneralError(error: string): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    this.snackBar.openFromComponent(GeneralMessageErrorComponent, {data: {message: error}});","lastModifiedDate":"2019-02-07"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-07"},{"lineNumber":72,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-21"}],"authorContributionMap":{"Ding YuChen":14,"-":58}},{"path":"src/app/core/services/factories/factory.issue.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../github.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { AppConfig } from \u0027../../../../environments/environment\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { MockIssueService } from \u0027../mocks/mock.issue.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../issue.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../user.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../phase.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { PermissionService } from \u0027../permission.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../error-handling.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { DataService } from \u0027../data.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":10,"author":{"gitId":"Ding YuChen"},"content":"import { ElectronService } from \u0027../electron.service\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":12,"author":{"gitId":"-"},"content":"export function IssueServiceFactory(githubService: GithubService, userService: UserService, phaseService: PhaseService,","lastModifiedDate":"2021-01-25"},{"lineNumber":13,"author":{"gitId":"-"},"content":"                                    permissionService: PermissionService, errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2021-01-25"},{"lineNumber":14,"author":{"gitId":"Ding YuChen"},"content":"                                    electronService: ElectronService, dataService: DataService) {","lastModifiedDate":"2021-03-24"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  if (AppConfig.test) {","lastModifiedDate":"2021-01-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"      return new MockIssueService(githubService, userService, phaseService,","lastModifiedDate":"2021-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"        permissionService, errorHandlingService, dataService);","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  return new IssueService(githubService, userService, phaseService,","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"Ding YuChen"},"content":"    permissionService, errorHandlingService, electronService, dataService);","lastModifiedDate":"2021-03-24"},{"lineNumber":21,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-25"}],"authorContributionMap":{"Ding YuChen":3,"-":18}},{"path":"src/app/core/services/github.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { catchError, filter, flatMap, map, throwIfEmpty } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { forkJoin, from, Observable, of, throwError } from \u0027rxjs\u0027;","lastModifiedDate":"2020-08-17"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { getNumberOfPages } from \u0027../../shared/lib/github-paginator-parser\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { IssueComment } from \u0027../models/comment.model\u0027;","lastModifiedDate":"2019-02-26"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ERRORCODE_NOT_FOUND, ErrorHandlingService } from \u0027./error-handling.service\u0027;","lastModifiedDate":"2019-09-09"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { GithubUser } from \u0027../models/github-user.model\u0027;","lastModifiedDate":"2020-02-03"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { GithubIssue } from \u0027../models/github/github-issue.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { GithubComment } from \u0027../models/github/github-comment.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { GithubRelease } from \u0027../models/github/github.release\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { GithubResponse } from \u0027../models/github/github-response.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { IssuesCacheManager } from \u0027../models/github/cache-manager/issues-cache-manager.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { IssueLastModifiedManagerModel } from \u0027../models/github/cache-manager/issue-last-modified-manager.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { Apollo, QueryRef } from \u0027apollo-angular\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2020-09-12"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  FetchIssue,","lastModifiedDate":"2020-09-12"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  FetchIssueQuery, FetchIssues, FetchIssuesByTeam, FetchIssuesByTeamQuery, FetchIssuesQuery,","lastModifiedDate":"2020-09-12"},{"lineNumber":18,"author":{"gitId":"-"},"content":"} from \u0027../../../../graphql/graphql-types\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { GithubGraphqlIssue } from \u0027../models/github/github-graphql.issue\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":20,"author":{"gitId":"-"},"content":"import { ApolloQueryResult } from \u0027apollo-client\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":21,"author":{"gitId":"-"},"content":"import { HttpErrorResponse } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":22,"author":{"gitId":"-"},"content":"import RestGithubIssueFilter from \u0027../models/github/github-issue-filter.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":23,"author":{"gitId":"-"},"content":"import { DocumentNode } from \u0027graphql\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":24,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027./electron.service\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":25,"author":{"gitId":"-"},"content":"import { SessionData } from \u0027../models/session.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":26,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { AppConfig } from \u0027../../../environments/environment\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-09-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"const Octokit \u003d require(\u0027@octokit/rest\u0027);","lastModifiedDate":"2019-02-16"},{"lineNumber":29,"author":{"gitId":"-"},"content":"const CATCHER_ORG \u003d \u0027CATcher-org\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":30,"author":{"gitId":"-"},"content":"const CATCHER_REPO \u003d \u0027CATcher\u0027;","lastModifiedDate":"2019-12-17"},{"lineNumber":31,"author":{"gitId":"Ding YuChen"},"content":"const UNABLE_TO_OPEN_IN_BROWSER \u003d \u0027Unable to open this issue in Browser\u0027;","lastModifiedDate":"2021-05-24"},{"lineNumber":32,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":33,"author":{"gitId":"-"},"content":"let ORG_NAME \u003d \u0027\u0027;","lastModifiedDate":"2019-04-20"},{"lineNumber":34,"author":{"gitId":"-"},"content":"let MOD_ORG \u003d \u0027\u0027;","lastModifiedDate":"2019-06-13"},{"lineNumber":35,"author":{"gitId":"-"},"content":"let REPO \u003d \u0027\u0027;","lastModifiedDate":"2019-04-20"},{"lineNumber":36,"author":{"gitId":"-"},"content":"let DATA_REPO \u003d \u0027\u0027;","lastModifiedDate":"2019-07-10"},{"lineNumber":37,"author":{"gitId":"-"},"content":"let octokit \u003d new Octokit();","lastModifiedDate":"2019-12-17"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":39,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-01-18"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027,","lastModifiedDate":"2019-01-18"},{"lineNumber":41,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-18"},{"lineNumber":42,"author":{"gitId":"-"},"content":"export class GithubService {","lastModifiedDate":"2019-01-18"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  private static readonly IF_NONE_MATCH_EMPTY \u003d { \u0027If-None-Match\u0027: \u0027\u0027 };","lastModifiedDate":"2020-10-15"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-15"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  private issuesCacheManager \u003d new IssuesCacheManager();","lastModifiedDate":"2020-09-12"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  private issuesLastModifiedManager \u003d new IssueLastModifiedManagerModel();","lastModifiedDate":"2020-01-14"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  private issueQueryRefs \u003d new Map\u003cNumber, QueryRef\u003cFetchIssueQuery\u003e\u003e();","lastModifiedDate":"2020-09-12"},{"lineNumber":48,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  constructor(","lastModifiedDate":"2020-09-12"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2020-09-12"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    private apollo: Apollo,","lastModifiedDate":"2020-09-12"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    private electronService: ElectronService,","lastModifiedDate":"2021-01-09"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  ) {}","lastModifiedDate":"2020-09-12"},{"lineNumber":54,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  storeOAuthAccessToken(accessToken: string) {","lastModifiedDate":"2020-02-03"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    octokit \u003d new Octokit({","lastModifiedDate":"2020-02-03"},{"lineNumber":57,"author":{"gitId":"-"},"content":"      auth() {","lastModifiedDate":"2020-02-03"},{"lineNumber":58,"author":{"gitId":"-"},"content":"        return `Token ${accessToken}`;","lastModifiedDate":"2021-01-09"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-02-03"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-02-03"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  storeOrganizationDetails(orgName: string, dataRepo: string) {","lastModifiedDate":"2019-07-10"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    MOD_ORG \u003d orgName;","lastModifiedDate":"2019-07-10"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    DATA_REPO \u003d dataRepo;","lastModifiedDate":"2019-07-10"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":67,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  storePhaseDetails(phaseRepoOwner: string, repoName: string) {","lastModifiedDate":"2019-07-10"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    REPO \u003d repoName;","lastModifiedDate":"2019-02-16"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    ORG_NAME \u003d phaseRepoOwner;","lastModifiedDate":"2019-07-10"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-16"},{"lineNumber":72,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  fetchIssuesGraphqlByTeam(tutorial: string, team: string, issuesFilter: RestGithubIssueFilter): Observable\u003cArray\u003cGithubIssue\u003e\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    const graphqlFilter \u003d issuesFilter.convertToGraphqlFilter();","lastModifiedDate":"2020-09-12"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    return this.toFetchIssues(issuesFilter).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":76,"author":{"gitId":"-"},"content":"      filter(toFetch \u003d\u003e toFetch),","lastModifiedDate":"2020-09-12"},{"lineNumber":77,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":78,"author":{"gitId":"-"},"content":"        return this.fetchGraphqlList\u003cFetchIssuesByTeamQuery, GithubGraphqlIssue\u003e(","lastModifiedDate":"2020-09-12"},{"lineNumber":79,"author":{"gitId":"-"},"content":"          FetchIssuesByTeam,","lastModifiedDate":"2020-09-12"},{"lineNumber":80,"author":{"gitId":"-"},"content":"          { owner: ORG_NAME, name: REPO, filter: {","lastModifiedDate":"2020-09-12"},{"lineNumber":81,"author":{"gitId":"-"},"content":"              ...graphqlFilter,","lastModifiedDate":"2020-09-12"},{"lineNumber":82,"author":{"gitId":"-"},"content":"              labels: [...(graphqlFilter.labels ? graphqlFilter.labels : []), team]","lastModifiedDate":"2020-09-12"},{"lineNumber":83,"author":{"gitId":"-"},"content":"            }, tutorial },","lastModifiedDate":"2020-09-12"},{"lineNumber":84,"author":{"gitId":"-"},"content":"          (result) \u003d\u003e result.data.repository.label.issues.edges,","lastModifiedDate":"2020-09-12"},{"lineNumber":85,"author":{"gitId":"-"},"content":"          GithubGraphqlIssue","lastModifiedDate":"2020-09-12"},{"lineNumber":86,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-09-12"},{"lineNumber":87,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":90,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  fetchIssuesGraphql(issuesFilter: RestGithubIssueFilter): Observable\u003cArray\u003cGithubIssue\u003e\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    const graphqlFilter \u003d issuesFilter.convertToGraphqlFilter();","lastModifiedDate":"2020-09-12"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    return this.toFetchIssues(issuesFilter).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      filter(toFetch \u003d\u003e toFetch),","lastModifiedDate":"2020-09-12"},{"lineNumber":95,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":96,"author":{"gitId":"-"},"content":"        return this.fetchGraphqlList\u003cFetchIssuesQuery, GithubGraphqlIssue\u003e(","lastModifiedDate":"2020-09-12"},{"lineNumber":97,"author":{"gitId":"-"},"content":"          FetchIssues,","lastModifiedDate":"2020-09-12"},{"lineNumber":98,"author":{"gitId":"-"},"content":"          { owner: ORG_NAME, name: REPO, filter: graphqlFilter },","lastModifiedDate":"2020-09-12"},{"lineNumber":99,"author":{"gitId":"-"},"content":"          (result) \u003d\u003e result.data.repository.issues.edges,","lastModifiedDate":"2020-09-12"},{"lineNumber":100,"author":{"gitId":"-"},"content":"          GithubGraphqlIssue","lastModifiedDate":"2020-09-12"},{"lineNumber":101,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-09-12"},{"lineNumber":102,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":105,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-01-18"},{"lineNumber":107,"author":{"gitId":"-"},"content":"   * Will make multiple request to Github as per necessary and determine whether a graphql fetch is required.","lastModifiedDate":"2020-09-12"},{"lineNumber":108,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-01-18"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  private toFetchIssues(filter: RestGithubIssueFilter): Observable\u003cboolean\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    let responseInFirstPage: GithubResponse\u003cGithubIssue[]\u003e;","lastModifiedDate":"2020-01-14"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    return this.getIssuesAPICall(filter, 1).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":112,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubIssue[]\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":113,"author":{"gitId":"-"},"content":"        responseInFirstPage \u003d response;","lastModifiedDate":"2020-01-14"},{"lineNumber":114,"author":{"gitId":"-"},"content":"        return getNumberOfPages(response);","lastModifiedDate":"2020-10-07"},{"lineNumber":115,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-01-14"},{"lineNumber":116,"author":{"gitId":"-"},"content":"      flatMap((numOfPages: number) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":117,"author":{"gitId":"-"},"content":"        const apiCalls: Observable\u003cGithubResponse\u003cGithubIssue[]\u003e\u003e[] \u003d [];","lastModifiedDate":"2020-01-14"},{"lineNumber":118,"author":{"gitId":"-"},"content":"        for (let i \u003d 2; i \u003c\u003d numOfPages; i++) {","lastModifiedDate":"2020-01-14"},{"lineNumber":119,"author":{"gitId":"-"},"content":"          apiCalls.push(this.getIssuesAPICall(filter, i));","lastModifiedDate":"2020-09-12"},{"lineNumber":120,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-01-14"},{"lineNumber":121,"author":{"gitId":"-"},"content":"        return apiCalls.length \u003d\u003d\u003d 0 ? of([]) : forkJoin(apiCalls);","lastModifiedDate":"2020-01-14"},{"lineNumber":122,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2019-02-03"},{"lineNumber":123,"author":{"gitId":"-"},"content":"      map((resultArray: GithubResponse\u003cGithubIssue[]\u003e[]) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":124,"author":{"gitId":"-"},"content":"        const responses \u003d [responseInFirstPage, ...resultArray];","lastModifiedDate":"2020-01-14"},{"lineNumber":125,"author":{"gitId":"-"},"content":"        const isCached \u003d responses.reduce((result, response) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":126,"author":{"gitId":"-"},"content":"          return result \u0026\u0026 response.isCached;","lastModifiedDate":"2020-09-12"},{"lineNumber":127,"author":{"gitId":"-"},"content":"        }, true);","lastModifiedDate":"2020-09-12"},{"lineNumber":128,"author":{"gitId":"-"},"content":"        responses.forEach((resp, index) \u003d\u003e this.issuesCacheManager.set(index + 1, resp));","lastModifiedDate":"2020-09-12"},{"lineNumber":129,"author":{"gitId":"-"},"content":"        return !isCached;","lastModifiedDate":"2020-09-12"},{"lineNumber":130,"author":{"gitId":"-"},"content":"      }));","lastModifiedDate":"2020-09-12"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":132,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":133,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-09-09"},{"lineNumber":134,"author":{"gitId":"-"},"content":"   * Checks if the specified repository exists.","lastModifiedDate":"2019-09-09"},{"lineNumber":135,"author":{"gitId":"-"},"content":"   * @param owner - Owner of Specified Repository.","lastModifiedDate":"2019-09-09"},{"lineNumber":136,"author":{"gitId":"-"},"content":"   * @param repo - Name of Repository.","lastModifiedDate":"2019-09-09"},{"lineNumber":137,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-09-09"},{"lineNumber":138,"author":{"gitId":"-"},"content":"  isRepositoryPresent(owner: string, repo: string): Observable\u003cboolean\u003e {","lastModifiedDate":"2019-09-09"},{"lineNumber":139,"author":{"gitId":"-"},"content":"    return from(octokit.repos.get({owner: owner, repo: repo, headers: GithubService.IF_NONE_MATCH_EMPTY})).pipe(","lastModifiedDate":"2020-10-15"},{"lineNumber":140,"author":{"gitId":"-"},"content":"      map((rawData: {status: number}) \u003d\u003e {","lastModifiedDate":"2019-09-09"},{"lineNumber":141,"author":{"gitId":"-"},"content":"        return rawData.status !\u003d\u003d ERRORCODE_NOT_FOUND;","lastModifiedDate":"2019-09-09"},{"lineNumber":142,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2019-09-09"},{"lineNumber":143,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e {","lastModifiedDate":"2019-09-09"},{"lineNumber":144,"author":{"gitId":"-"},"content":"        return of(false);","lastModifiedDate":"2019-09-09"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-08-17"},{"lineNumber":146,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch repo data.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-09-09"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-09-09"},{"lineNumber":149,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-09-09"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-09-09"},{"lineNumber":151,"author":{"gitId":"-"},"content":"   * Creates a repository in for the authenticated user location.","lastModifiedDate":"2019-09-09"},{"lineNumber":152,"author":{"gitId":"-"},"content":"   * @param name - Name of Repo to create.","lastModifiedDate":"2019-09-09"},{"lineNumber":153,"author":{"gitId":"-"},"content":"   * @return Observable\u003cboolean\u003e - That returns true if the repository has been successfully","lastModifiedDate":"2019-09-09"},{"lineNumber":154,"author":{"gitId":"-"},"content":"   *                                created.","lastModifiedDate":"2019-09-09"},{"lineNumber":155,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-09-09"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  createRepository(name: string): void {","lastModifiedDate":"2019-09-09"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    octokit.repos.createForAuthenticatedUser({name: name});","lastModifiedDate":"2019-09-09"},{"lineNumber":158,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-09-09"},{"lineNumber":159,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-09-09"},{"lineNumber":160,"author":{"gitId":"-"},"content":"  fetchIssueGraphql(id: number): Observable\u003cGithubGraphqlIssue\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":161,"author":{"gitId":"-"},"content":"    if (this.issueQueryRefs.get(id) \u003d\u003d\u003d undefined) {","lastModifiedDate":"2020-09-12"},{"lineNumber":162,"author":{"gitId":"-"},"content":"      const newQueryRef \u003d this.apollo.watchQuery\u003cFetchIssueQuery\u003e({","lastModifiedDate":"2020-09-12"},{"lineNumber":163,"author":{"gitId":"-"},"content":"        query: FetchIssue,","lastModifiedDate":"2020-09-12"},{"lineNumber":164,"author":{"gitId":"-"},"content":"        variables: {","lastModifiedDate":"2020-09-12"},{"lineNumber":165,"author":{"gitId":"-"},"content":"          owner: ORG_NAME,","lastModifiedDate":"2020-09-12"},{"lineNumber":166,"author":{"gitId":"-"},"content":"          name: REPO,","lastModifiedDate":"2020-09-12"},{"lineNumber":167,"author":{"gitId":"-"},"content":"          issueId: id,","lastModifiedDate":"2020-09-12"},{"lineNumber":168,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-09-12"},{"lineNumber":169,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2020-09-12"},{"lineNumber":170,"author":{"gitId":"-"},"content":"      this.issueQueryRefs.set(id, newQueryRef);","lastModifiedDate":"2020-09-12"},{"lineNumber":171,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-09-12"},{"lineNumber":172,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":173,"author":{"gitId":"-"},"content":"    const queryRef \u003d this.issueQueryRefs.get(id);","lastModifiedDate":"2020-09-12"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    return this.toFetchIssue(id).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":175,"author":{"gitId":"-"},"content":"      filter(toFetch \u003d\u003e toFetch),","lastModifiedDate":"2020-09-12"},{"lineNumber":176,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e from(queryRef.refetch())),","lastModifiedDate":"2020-09-12"},{"lineNumber":177,"author":{"gitId":"-"},"content":"      map((value: ApolloQueryResult\u003cFetchIssueQuery\u003e) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":178,"author":{"gitId":"-"},"content":"        return new GithubGraphqlIssue(value.data.repository.issue);","lastModifiedDate":"2020-09-12"},{"lineNumber":179,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-09-12"},{"lineNumber":180,"author":{"gitId":"-"},"content":"      throwIfEmpty(() \u003d\u003e new HttpErrorResponse({ status: 304 }))","lastModifiedDate":"2020-09-12"},{"lineNumber":181,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":182,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":183,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":184,"author":{"gitId":"-"},"content":"  toFetchIssue(id: number): Observable\u003cboolean\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    return from(octokit.issues.get({owner: ORG_NAME, repo: REPO, issue_number: id,","lastModifiedDate":"2020-01-14"},{"lineNumber":186,"author":{"gitId":"-"},"content":"      headers: { \u0027If-Modified-Since\u0027: this.issuesLastModifiedManager.get(id) }})).pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":187,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubIssue\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":188,"author":{"gitId":"-"},"content":"        this.issuesLastModifiedManager.set(id, response.headers[\u0027last-modified\u0027]);","lastModifiedDate":"2020-01-14"},{"lineNumber":189,"author":{"gitId":"-"},"content":"        return true;","lastModifiedDate":"2020-09-12"},{"lineNumber":190,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-08-17"},{"lineNumber":191,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch issue.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":192,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-02-10"},{"lineNumber":193,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-10"},{"lineNumber":194,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-10"},{"lineNumber":195,"author":{"gitId":"-"},"content":"  fetchAllLabels(): Observable\u003cArray\u003c{}\u003e\u003e {","lastModifiedDate":"2019-05-21"},{"lineNumber":196,"author":{"gitId":"-"},"content":"    return from(octokit.issues.listLabelsForRepo({owner: ORG_NAME, repo: REPO, headers: GithubService.IF_NONE_MATCH_EMPTY})).pipe(","lastModifiedDate":"2020-10-15"},{"lineNumber":197,"author":{"gitId":"-"},"content":"      map(response \u003d\u003e {","lastModifiedDate":"2019-05-17"},{"lineNumber":198,"author":{"gitId":"-"},"content":"        return response[\u0027data\u0027];","lastModifiedDate":"2019-05-17"},{"lineNumber":199,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-08-17"},{"lineNumber":200,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch labels.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":201,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-05-17"},{"lineNumber":202,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-17"},{"lineNumber":203,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-17"},{"lineNumber":204,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-06-21"},{"lineNumber":205,"author":{"gitId":"-"},"content":"   * Creates a label in the current repository.","lastModifiedDate":"2019-06-21"},{"lineNumber":206,"author":{"gitId":"-"},"content":"   * @param formattedLabelName - name of new label.","lastModifiedDate":"2019-06-21"},{"lineNumber":207,"author":{"gitId":"-"},"content":"   * @param labelColor - colour of new label.","lastModifiedDate":"2019-06-21"},{"lineNumber":208,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-06-21"},{"lineNumber":209,"author":{"gitId":"-"},"content":"  createLabel(formattedLabelName: string, labelColor: string): void {","lastModifiedDate":"2019-06-21"},{"lineNumber":210,"author":{"gitId":"-"},"content":"    octokit.issues.createLabel({owner: ORG_NAME, repo: REPO, name: formattedLabelName, color: labelColor});","lastModifiedDate":"2019-06-21"},{"lineNumber":211,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-21"},{"lineNumber":212,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-21"},{"lineNumber":213,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-06-21"},{"lineNumber":214,"author":{"gitId":"-"},"content":"   * Updates a label\u0027s information in the current repository.","lastModifiedDate":"2019-06-21"},{"lineNumber":215,"author":{"gitId":"-"},"content":"   * @param labelName - name of existing label","lastModifiedDate":"2019-06-21"},{"lineNumber":216,"author":{"gitId":"-"},"content":"   * @param labelColor - new color to be assigned to existing label.","lastModifiedDate":"2019-06-21"},{"lineNumber":217,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-06-21"},{"lineNumber":218,"author":{"gitId":"-"},"content":"  updateLabel(labelName: string, labelColor: string): void {","lastModifiedDate":"2019-06-21"},{"lineNumber":219,"author":{"gitId":"-"},"content":"    octokit.issues.updateLabel({owner: ORG_NAME, repo: REPO, name: labelName, current_name: labelName, color: labelColor});","lastModifiedDate":"2019-09-05"},{"lineNumber":220,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-21"},{"lineNumber":221,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-21"},{"lineNumber":222,"author":{"gitId":"-"},"content":"  closeIssue(id: number): Observable\u003cGithubIssue\u003e {","lastModifiedDate":"2019-09-25"},{"lineNumber":223,"author":{"gitId":"-"},"content":"    return from(octokit.issues.update({owner: ORG_NAME, repo: REPO, issue_number: id, state: \u0027closed\u0027})).pipe(","lastModifiedDate":"2019-08-26"},{"lineNumber":224,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubIssue\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":225,"author":{"gitId":"-"},"content":"        this.issuesLastModifiedManager.set(id, response.headers[\u0027last-modified\u0027]);","lastModifiedDate":"2020-01-14"},{"lineNumber":226,"author":{"gitId":"-"},"content":"        return new GithubIssue(response.data);","lastModifiedDate":"2020-01-14"},{"lineNumber":227,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-03-19"},{"lineNumber":228,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-03-19"},{"lineNumber":229,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-19"},{"lineNumber":230,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-19"},{"lineNumber":231,"author":{"gitId":"-"},"content":"  createIssue(title: string, description: string, labels: string[]): Observable\u003cGithubIssue\u003e {","lastModifiedDate":"2019-09-25"},{"lineNumber":232,"author":{"gitId":"-"},"content":"    return from(octokit.issues.create({owner: ORG_NAME, repo: REPO, title: title, body: description, labels: labels})).pipe(","lastModifiedDate":"2019-02-03"},{"lineNumber":233,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubIssue\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":234,"author":{"gitId":"-"},"content":"        return new GithubIssue(response.data);","lastModifiedDate":"2020-01-14"},{"lineNumber":235,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-01-21"},{"lineNumber":236,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-01-21"},{"lineNumber":237,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":238,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":239,"author":{"gitId":"-"},"content":"  createIssueComment(issueId: number, description: string): Observable\u003cGithubComment\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":240,"author":{"gitId":"-"},"content":"    return from(octokit.issues.createComment({owner: ORG_NAME, repo: REPO, issue_number: issueId,","lastModifiedDate":"2020-01-14"},{"lineNumber":241,"author":{"gitId":"-"},"content":"      body: description})).pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":242,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubComment\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":243,"author":{"gitId":"-"},"content":"        return response.data;","lastModifiedDate":"2020-01-14"},{"lineNumber":244,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-02-16"},{"lineNumber":245,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-02-16"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-16"},{"lineNumber":247,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":248,"author":{"gitId":"-"},"content":"  updateIssue(id: number, title: string, description: string, labels: string[], assignees?: string[]): Observable\u003cGithubIssue\u003e {","lastModifiedDate":"2019-09-25"},{"lineNumber":249,"author":{"gitId":"-"},"content":"    return from(octokit.issues.update({owner: ORG_NAME, repo: REPO, issue_number: id, title: title, body: description, labels: labels,","lastModifiedDate":"2019-08-26"},{"lineNumber":250,"author":{"gitId":"-"},"content":"      assignees: assignees})).pipe(","lastModifiedDate":"2019-02-16"},{"lineNumber":251,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubIssue\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":252,"author":{"gitId":"-"},"content":"        this.issuesLastModifiedManager.set(id, response.headers[\u0027last-modified\u0027]);","lastModifiedDate":"2020-01-14"},{"lineNumber":253,"author":{"gitId":"-"},"content":"        return new GithubIssue(response.data);","lastModifiedDate":"2020-01-14"},{"lineNumber":254,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-09-12"},{"lineNumber":255,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":256,"author":{"gitId":"-"},"content":"        return throwError(err);","lastModifiedDate":"2020-09-12"},{"lineNumber":257,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-01-21"},{"lineNumber":258,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-01-21"},{"lineNumber":259,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":260,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":261,"author":{"gitId":"-"},"content":"  updateIssueComment(issueComment: IssueComment): Observable\u003cGithubComment\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":262,"author":{"gitId":"-"},"content":"    return from(octokit.issues.updateComment({owner: ORG_NAME, repo: REPO, comment_id: issueComment.id,","lastModifiedDate":"2019-02-10"},{"lineNumber":263,"author":{"gitId":"-"},"content":"      body: issueComment.description})).pipe(","lastModifiedDate":"2019-02-10"},{"lineNumber":264,"author":{"gitId":"-"},"content":"      map((response: GithubResponse\u003cGithubComment\u003e) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":265,"author":{"gitId":"-"},"content":"        return response.data;","lastModifiedDate":"2020-01-14"},{"lineNumber":266,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-02-10"},{"lineNumber":267,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-02-10"},{"lineNumber":268,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-10"},{"lineNumber":269,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-10"},{"lineNumber":270,"author":{"gitId":"-"},"content":"  uploadFile(filename: string, base64String: string): Observable\u003cany\u003e {","lastModifiedDate":"2019-02-16"},{"lineNumber":271,"author":{"gitId":"-"},"content":"    return from(octokit.repos.createOrUpdateFile({owner: ORG_NAME, repo: REPO, path: `files/${filename}`,","lastModifiedDate":"2020-01-18"},{"lineNumber":272,"author":{"gitId":"-"},"content":"      message: \u0027upload file\u0027, content: base64String}));","lastModifiedDate":"2019-02-16"},{"lineNumber":273,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":274,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":275,"author":{"gitId":"-"},"content":"  fetchEventsForRepo(): Observable\u003cany[]\u003e {","lastModifiedDate":"2019-07-30"},{"lineNumber":276,"author":{"gitId":"-"},"content":"    return from(octokit.issues.listEventsForRepo({owner: ORG_NAME, repo: REPO, headers: GithubService.IF_NONE_MATCH_EMPTY})).pipe(","lastModifiedDate":"2020-10-15"},{"lineNumber":277,"author":{"gitId":"-"},"content":"      map(response \u003d\u003e {","lastModifiedDate":"2019-05-27"},{"lineNumber":278,"author":{"gitId":"-"},"content":"        return response[\u0027data\u0027];","lastModifiedDate":"2019-05-27"},{"lineNumber":279,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-08-17"},{"lineNumber":280,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch events for repo.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":281,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-05-27"},{"lineNumber":282,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-27"},{"lineNumber":283,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-27"},{"lineNumber":284,"author":{"gitId":"-"},"content":"  fetchDataFile(): Observable\u003c{}\u003e {","lastModifiedDate":"2019-03-19"},{"lineNumber":285,"author":{"gitId":"-"},"content":"    return from(octokit.repos.getContents({owner: MOD_ORG, repo: DATA_REPO, path: \u0027data.csv\u0027,","lastModifiedDate":"2020-10-15"},{"lineNumber":286,"author":{"gitId":"-"},"content":"      headers: GithubService.IF_NONE_MATCH_EMPTY})).pipe(","lastModifiedDate":"2020-10-15"},{"lineNumber":287,"author":{"gitId":"-"},"content":"        map(rawData \u003d\u003e {","lastModifiedDate":"2020-01-18"},{"lineNumber":288,"author":{"gitId":"-"},"content":"          return {data: atob(rawData[\u0027data\u0027][\u0027content\u0027])};","lastModifiedDate":"2020-01-18"},{"lineNumber":289,"author":{"gitId":"-"},"content":"        }),","lastModifiedDate":"2020-08-17"},{"lineNumber":290,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch data file.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":291,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-05-30"},{"lineNumber":292,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-07"},{"lineNumber":293,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-07"},{"lineNumber":294,"author":{"gitId":"-"},"content":"  fetchLatestRelease(): Observable\u003cGithubRelease\u003e {","lastModifiedDate":"2019-12-17"},{"lineNumber":295,"author":{"gitId":"-"},"content":"    return from(octokit.repos.getLatestRelease({owner: CATCHER_ORG, repo: CATCHER_REPO, headers: GithubService.IF_NONE_MATCH_EMPTY})).pipe(","lastModifiedDate":"2020-10-15"},{"lineNumber":296,"author":{"gitId":"-"},"content":"      map(res \u003d\u003e res[\u0027data\u0027]),","lastModifiedDate":"2020-08-17"},{"lineNumber":297,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch latest release.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":298,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-08-17"},{"lineNumber":299,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-12-17"},{"lineNumber":300,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-12-17"},{"lineNumber":301,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":302,"author":{"gitId":"-"},"content":"   * Fetches the data file that is regulates session information.","lastModifiedDate":"2019-07-10"},{"lineNumber":303,"author":{"gitId":"-"},"content":"   * @return Observable\u003cSessionData\u003e representing session information.","lastModifiedDate":"2021-02-08"},{"lineNumber":304,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":305,"author":{"gitId":"-"},"content":"  fetchSettingsFile(): Observable\u003cSessionData\u003e {","lastModifiedDate":"2021-02-08"},{"lineNumber":306,"author":{"gitId":"-"},"content":"    return from(octokit.repos.getContents({owner: MOD_ORG, repo: DATA_REPO, path: \u0027settings.json\u0027,","lastModifiedDate":"2020-10-15"},{"lineNumber":307,"author":{"gitId":"-"},"content":"      headers: GithubService.IF_NONE_MATCH_EMPTY})).pipe(","lastModifiedDate":"2020-10-15"},{"lineNumber":308,"author":{"gitId":"-"},"content":"        map(rawData \u003d\u003e JSON.parse(atob(rawData[\u0027data\u0027][\u0027content\u0027]))),","lastModifiedDate":"2020-08-17"},{"lineNumber":309,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch settings file.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":310,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-08-17"},{"lineNumber":311,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":312,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":313,"author":{"gitId":"-"},"content":"  fetchAuthenticatedUser(): Observable\u003cGithubUser\u003e {","lastModifiedDate":"2020-02-03"},{"lineNumber":314,"author":{"gitId":"-"},"content":"    return from(octokit.users.getAuthenticated()).pipe(","lastModifiedDate":"2020-08-17"},{"lineNumber":315,"author":{"gitId":"-"},"content":"      map(response \u003d\u003e {","lastModifiedDate":"2020-08-17"},{"lineNumber":316,"author":{"gitId":"-"},"content":"        return response[\u0027data\u0027];","lastModifiedDate":"2020-02-03"},{"lineNumber":317,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-08-17"},{"lineNumber":318,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e throwError(\u0027Failed to fetch authenticated user.\u0027))","lastModifiedDate":"2020-08-17"},{"lineNumber":319,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-08-17"},{"lineNumber":320,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-02-03"},{"lineNumber":321,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":322,"author":{"gitId":"-"},"content":"  getRepoURL(): string {","lastModifiedDate":"2019-06-06"},{"lineNumber":323,"author":{"gitId":"-"},"content":"    return ORG_NAME.concat(\u0027/\u0027).concat(REPO);","lastModifiedDate":"2019-06-06"},{"lineNumber":324,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-06"},{"lineNumber":325,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-18"},{"lineNumber":326,"author":{"gitId":"-"},"content":"  viewIssueInBrowser(id: number) {","lastModifiedDate":"2019-06-18"},{"lineNumber":327,"author":{"gitId":"-"},"content":"    if (id) {","lastModifiedDate":"2019-06-18"},{"lineNumber":328,"author":{"gitId":"-"},"content":"      this.electronService.openLink(\u0027https://github.com/\u0027.concat(this.getRepoURL()).concat(\u0027/issues/\u0027).concat(String(id)));","lastModifiedDate":"2021-01-09"},{"lineNumber":329,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-06-18"},{"lineNumber":330,"author":{"gitId":"Ding YuChen"},"content":"      this.errorHandlingService.handleError(new Error(UNABLE_TO_OPEN_IN_BROWSER));","lastModifiedDate":"2021-05-24"},{"lineNumber":331,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-06-18"},{"lineNumber":332,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-07-08"},{"lineNumber":333,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-18"},{"lineNumber":334,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":335,"author":{"gitId":"-"},"content":"  reset(): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":336,"author":{"gitId":"-"},"content":"    this.issuesCacheManager.clear();","lastModifiedDate":"2020-09-12"},{"lineNumber":337,"author":{"gitId":"-"},"content":"    this.issuesLastModifiedManager.clear();","lastModifiedDate":"2020-01-14"},{"lineNumber":338,"author":{"gitId":"-"},"content":"    this.issueQueryRefs.clear();","lastModifiedDate":"2020-09-12"},{"lineNumber":339,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":340,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":341,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  getProfilesData(): Promise\u003cResponse\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":342,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return fetch(AppConfig.clientDataUrl);","lastModifiedDate":"2021-04-19"},{"lineNumber":343,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":344,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":345,"author":{"gitId":"-"},"content":"  private getIssuesAPICall(filter: RestGithubIssueFilter, pageNumber: number): Observable\u003cGithubResponse\u003cGithubIssue[]\u003e\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":346,"author":{"gitId":"-"},"content":"    const apiCall: Promise\u003cGithubResponse\u003cGithubIssue[]\u003e\u003e \u003d octokit.issues.listForRepo({...filter, owner: ORG_NAME,","lastModifiedDate":"2020-09-12"},{"lineNumber":347,"author":{"gitId":"-"},"content":"      repo: REPO, sort: \u0027created\u0027, direction: \u0027desc\u0027, per_page: 100, page: pageNumber,","lastModifiedDate":"2020-09-12"},{"lineNumber":348,"author":{"gitId":"-"},"content":"      headers: { \u0027If-None-Match\u0027: this.issuesCacheManager.getEtagFor(pageNumber) }});","lastModifiedDate":"2020-09-12"},{"lineNumber":349,"author":{"gitId":"-"},"content":"    const apiCall$ \u003d from(apiCall);","lastModifiedDate":"2020-09-12"},{"lineNumber":350,"author":{"gitId":"-"},"content":"    return apiCall$.pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":351,"author":{"gitId":"-"},"content":"      catchError(err \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":352,"author":{"gitId":"-"},"content":"        return of(this.issuesCacheManager.get(pageNumber));","lastModifiedDate":"2020-09-12"},{"lineNumber":353,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":354,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":355,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":356,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":357,"author":{"gitId":"-"},"content":"  private fetchGraphqlList\u003cT, M\u003e(","lastModifiedDate":"2020-09-12"},{"lineNumber":358,"author":{"gitId":"-"},"content":"    query: DocumentNode,","lastModifiedDate":"2020-09-12"},{"lineNumber":359,"author":{"gitId":"-"},"content":"    variables: {},","lastModifiedDate":"2020-09-12"},{"lineNumber":360,"author":{"gitId":"-"},"content":"    pluckEdges: (results: ApolloQueryResult\u003cT\u003e) \u003d\u003e Array\u003cany\u003e,","lastModifiedDate":"2020-09-12"},{"lineNumber":361,"author":{"gitId":"-"},"content":"    Model: new (data) \u003d\u003e M,","lastModifiedDate":"2020-09-12"},{"lineNumber":362,"author":{"gitId":"-"},"content":"  ): Observable\u003cArray\u003cM\u003e\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":363,"author":{"gitId":"-"},"content":"    return from(this.withPagination\u003cT\u003e(pluckEdges)(query, variables)).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":364,"author":{"gitId":"-"},"content":"      map((results: Array\u003cApolloQueryResult\u003cT\u003e\u003e) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":365,"author":{"gitId":"-"},"content":"        const issues \u003d results.reduce((accumulated, current) \u003d\u003e accumulated.concat(pluckEdges(current)), []);","lastModifiedDate":"2020-09-12"},{"lineNumber":366,"author":{"gitId":"-"},"content":"        return issues.map(issue \u003d\u003e new Model(issue.node));","lastModifiedDate":"2020-09-12"},{"lineNumber":367,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-09-12"},{"lineNumber":368,"author":{"gitId":"-"},"content":"      throwIfEmpty(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":369,"author":{"gitId":"-"},"content":"        return new HttpErrorResponse({ status: 304 });","lastModifiedDate":"2020-09-12"},{"lineNumber":370,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":371,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":372,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":373,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":374,"author":{"gitId":"-"},"content":"  private withPagination\u003cT\u003e(pluckEdges: (results: ApolloQueryResult\u003cT\u003e) \u003d\u003e Array\u003cany\u003e) {","lastModifiedDate":"2020-09-12"},{"lineNumber":375,"author":{"gitId":"-"},"content":"    return async (","lastModifiedDate":"2020-09-12"},{"lineNumber":376,"author":{"gitId":"-"},"content":"      query: DocumentNode,","lastModifiedDate":"2020-09-12"},{"lineNumber":377,"author":{"gitId":"-"},"content":"      variables: { [key: string]: any } \u003d {}","lastModifiedDate":"2020-09-12"},{"lineNumber":378,"author":{"gitId":"-"},"content":"    ): Promise\u003cArray\u003cApolloQueryResult\u003cT\u003e\u003e\u003e \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":379,"author":{"gitId":"-"},"content":"      const maxResultsCount \u003d 100;","lastModifiedDate":"2020-09-12"},{"lineNumber":380,"author":{"gitId":"-"},"content":"      const cursor \u003d variables.cursor || null;","lastModifiedDate":"2020-09-12"},{"lineNumber":381,"author":{"gitId":"-"},"content":"      const graphqlQuery \u003d this.apollo.watchQuery\u003cT\u003e({ query, variables: { ...variables, cursor } });","lastModifiedDate":"2020-09-12"},{"lineNumber":382,"author":{"gitId":"-"},"content":"      return graphqlQuery.refetch().then(async (results: ApolloQueryResult\u003cT\u003e) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":383,"author":{"gitId":"-"},"content":"        const intermediate \u003d Array.isArray(results) ? results : [results];","lastModifiedDate":"2020-09-12"},{"lineNumber":384,"author":{"gitId":"-"},"content":"        const edges \u003d pluckEdges(results);","lastModifiedDate":"2020-09-12"},{"lineNumber":385,"author":{"gitId":"-"},"content":"        const nextCursor \u003d (edges.length \u003d\u003d\u003d 0) ? null : edges[edges.length - 1].cursor;","lastModifiedDate":"2020-09-12"},{"lineNumber":386,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":387,"author":{"gitId":"-"},"content":"        if (edges.length \u003c maxResultsCount || !nextCursor) {","lastModifiedDate":"2020-09-12"},{"lineNumber":388,"author":{"gitId":"-"},"content":"          return intermediate;","lastModifiedDate":"2020-09-12"},{"lineNumber":389,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-09-12"},{"lineNumber":390,"author":{"gitId":"-"},"content":"        const nextResults \u003d await this.withPagination\u003cT\u003e(pluckEdges)(","lastModifiedDate":"2020-09-12"},{"lineNumber":391,"author":{"gitId":"-"},"content":"          query, {","lastModifiedDate":"2020-09-12"},{"lineNumber":392,"author":{"gitId":"-"},"content":"            ...variables,","lastModifiedDate":"2020-09-12"},{"lineNumber":393,"author":{"gitId":"-"},"content":"            cursor: nextCursor,","lastModifiedDate":"2020-09-12"},{"lineNumber":394,"author":{"gitId":"-"},"content":"          }","lastModifiedDate":"2020-09-12"},{"lineNumber":395,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-09-12"},{"lineNumber":396,"author":{"gitId":"-"},"content":"        return intermediate.concat(nextResults);","lastModifiedDate":"2020-09-12"},{"lineNumber":397,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2020-09-12"},{"lineNumber":398,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2020-09-12"},{"lineNumber":399,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":400,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-18"}],"authorContributionMap":{"Low Jun Kai, Sean":5,"Ding YuChen":2,"-":393}},{"path":"src/app/core/services/issue.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./github.service\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { catchError, exhaustMap, finalize, flatMap, map } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { BehaviorSubject, EMPTY, forkJoin, timer, Observable, of, Subscription } from \u0027rxjs\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2019-05-20"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  Issue,","lastModifiedDate":"2019-05-20"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  Issues,","lastModifiedDate":"2019-05-20"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  IssuesFilter, STATUS,","lastModifiedDate":"2020-01-14"},{"lineNumber":9,"author":{"gitId":"-"},"content":"} from \u0027../models/issue.model\u0027;","lastModifiedDate":"2019-05-20"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { UserService } from \u0027./user.service\u0027;","lastModifiedDate":"2019-02-16"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027./phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { PermissionService } from \u0027./permission.service\u0027;","lastModifiedDate":"2019-03-19"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { DataService } from \u0027./data.service\u0027;","lastModifiedDate":"2019-03-19"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027./error-handling.service\u0027;","lastModifiedDate":"2019-06-06"},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { IssueDispute } from \u0027../models/issue-dispute.model\u0027;","lastModifiedDate":"2019-08-02"},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { GithubIssue } from \u0027../models/github/github-issue.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":18,"author":{"gitId":"-"},"content":"import { IssueComment } from \u0027../models/comment.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":19,"author":{"gitId":"-"},"content":"import { GithubLabel } from \u0027../models/github/github-label.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":20,"author":{"gitId":"-"},"content":"import RestGithubIssueFilter from \u0027../models/github/github-issue-filter.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":21,"author":{"gitId":"-"},"content":"import { GithubComment } from \u0027../models/github/github-comment.model\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":22,"author":{"gitId":"-"},"content":"import { HiddenData } from \u0027../models/hidden-data.model\u0027;","lastModifiedDate":"2020-09-27"},{"lineNumber":23,"author":{"gitId":"Ding YuChen"},"content":"import { ElectronService } from \u0027./electron.service\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":24,"author":{"gitId":"Ding YuChen"},"content":"import { appVersion } from \u0027./application.service\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":26,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-01-18"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027,","lastModifiedDate":"2019-01-18"},{"lineNumber":28,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-18"},{"lineNumber":29,"author":{"gitId":"-"},"content":"export class IssueService {","lastModifiedDate":"2019-01-18"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  static readonly POLL_INTERVAL \u003d 5000; // 5 seconds","lastModifiedDate":"2020-01-14"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  issues: Issues;","lastModifiedDate":"2019-03-05"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  issues$: BehaviorSubject\u003cIssue[]\u003e;","lastModifiedDate":"2019-01-19"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  private sessionId: string;","lastModifiedDate":"2020-09-27"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  private issueTeamFilter \u003d \u0027All Teams\u0027;","lastModifiedDate":"2019-06-10"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  private issuesPollSubscription: Subscription;","lastModifiedDate":"2020-09-12"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  /** Whether the IssueService is downloading the data from Github*/","lastModifiedDate":"2020-09-12"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  public isLoading \u003d new BehaviorSubject\u003cboolean\u003e(false);","lastModifiedDate":"2020-09-12"},{"lineNumber":40,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  constructor(private githubService: GithubService,","lastModifiedDate":"2019-02-16"},{"lineNumber":42,"author":{"gitId":"-"},"content":"              private userService: UserService,","lastModifiedDate":"2019-02-26"},{"lineNumber":43,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService,","lastModifiedDate":"2019-02-28"},{"lineNumber":44,"author":{"gitId":"-"},"content":"              private permissionService: PermissionService,","lastModifiedDate":"2019-03-19"},{"lineNumber":45,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2019-06-06"},{"lineNumber":46,"author":{"gitId":"Ding YuChen"},"content":"              private electronService: ElectronService,","lastModifiedDate":"2021-03-24"},{"lineNumber":47,"author":{"gitId":"-"},"content":"              private dataService: DataService) {","lastModifiedDate":"2019-03-19"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    this.issues$ \u003d new BehaviorSubject(new Array\u003cIssue\u003e());","lastModifiedDate":"2019-01-19"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-19"},{"lineNumber":50,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  startPollIssues() {","lastModifiedDate":"2020-09-12"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    if (this.issuesPollSubscription \u003d\u003d\u003d undefined) {","lastModifiedDate":"2020-09-12"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      if (this.issues$.getValue().length \u003d\u003d\u003d 0) {","lastModifiedDate":"2020-09-12"},{"lineNumber":54,"author":{"gitId":"-"},"content":"        this.isLoading.next(true);","lastModifiedDate":"2020-09-12"},{"lineNumber":55,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-09-12"},{"lineNumber":56,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":57,"author":{"gitId":"-"},"content":"      this.issuesPollSubscription \u003d timer(0, IssueService.POLL_INTERVAL).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":58,"author":{"gitId":"-"},"content":"        exhaustMap(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":59,"author":{"gitId":"-"},"content":"          return this.reloadAllIssues().pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":60,"author":{"gitId":"-"},"content":"            catchError(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":61,"author":{"gitId":"-"},"content":"              return EMPTY;","lastModifiedDate":"2020-09-12"},{"lineNumber":62,"author":{"gitId":"-"},"content":"            }),","lastModifiedDate":"2020-09-12"},{"lineNumber":63,"author":{"gitId":"-"},"content":"            finalize(() \u003d\u003e this.isLoading.next(false))","lastModifiedDate":"2020-09-12"},{"lineNumber":64,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-01-14"},{"lineNumber":65,"author":{"gitId":"-"},"content":"        }),","lastModifiedDate":"2020-09-12"},{"lineNumber":66,"author":{"gitId":"-"},"content":"      ).subscribe();","lastModifiedDate":"2020-09-12"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-09-12"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":69,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  stopPollIssues() {","lastModifiedDate":"2020-09-12"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    if (this.issuesPollSubscription) {","lastModifiedDate":"2020-09-12"},{"lineNumber":72,"author":{"gitId":"-"},"content":"      this.issuesPollSubscription.unsubscribe();","lastModifiedDate":"2020-09-12"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      this.issuesPollSubscription \u003d undefined;","lastModifiedDate":"2020-09-12"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-09-12"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-18"},{"lineNumber":76,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":78,"author":{"gitId":"-"},"content":"   * Will constantly poll and update the application\u0027s state\u0027s with the updated issue.","lastModifiedDate":"2020-01-14"},{"lineNumber":79,"author":{"gitId":"-"},"content":"   *","lastModifiedDate":"2020-01-14"},{"lineNumber":80,"author":{"gitId":"-"},"content":"   * @param issueId - The issue\u0027s id to poll for.","lastModifiedDate":"2020-01-14"},{"lineNumber":81,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  pollIssue(issueId: number): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    return timer(0, IssueService.POLL_INTERVAL).pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      exhaustMap(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":85,"author":{"gitId":"-"},"content":"        return this.githubService.fetchIssueGraphql(issueId).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":86,"author":{"gitId":"-"},"content":"          map((response) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":87,"author":{"gitId":"-"},"content":"            const issue \u003d this.createIssueModel(response);","lastModifiedDate":"2020-09-12"},{"lineNumber":88,"author":{"gitId":"-"},"content":"            this.updateLocalStore(issue);","lastModifiedDate":"2020-01-14"},{"lineNumber":89,"author":{"gitId":"-"},"content":"            return issue;","lastModifiedDate":"2020-01-14"},{"lineNumber":90,"author":{"gitId":"-"},"content":"          }),","lastModifiedDate":"2020-01-14"},{"lineNumber":91,"author":{"gitId":"-"},"content":"          catchError((err) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":92,"author":{"gitId":"-"},"content":"            return this.getIssue(issueId);","lastModifiedDate":"2020-09-12"},{"lineNumber":93,"author":{"gitId":"-"},"content":"          })","lastModifiedDate":"2020-01-14"},{"lineNumber":94,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-01-14"},{"lineNumber":95,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-01-14"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-18"},{"lineNumber":98,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  reloadAllIssues() {","lastModifiedDate":"2019-05-31"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    return this.initializeData();","lastModifiedDate":"2019-06-07"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-18"},{"lineNumber":102,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  getIssue(id: number): Observable\u003cIssue\u003e {","lastModifiedDate":"2019-01-18"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    if (this.issues \u003d\u003d\u003d undefined) {","lastModifiedDate":"2019-01-21"},{"lineNumber":105,"author":{"gitId":"-"},"content":"      return this.getLatestIssue(id);","lastModifiedDate":"2020-01-14"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-01-18"},{"lineNumber":107,"author":{"gitId":"-"},"content":"      return of(this.issues[id]);","lastModifiedDate":"2019-01-21"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-19"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-18"},{"lineNumber":110,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-19"},{"lineNumber":111,"author":{"gitId":"-"},"content":"  getLatestIssue(id: number): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    return this.githubService.fetchIssueGraphql(id).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":113,"author":{"gitId":"-"},"content":"      map((response: GithubIssue) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":114,"author":{"gitId":"-"},"content":"        this.createAndSaveIssueModel(response);","lastModifiedDate":"2020-09-12"},{"lineNumber":115,"author":{"gitId":"-"},"content":"        return this.issues[id];","lastModifiedDate":"2020-01-14"},{"lineNumber":116,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-01-14"},{"lineNumber":117,"author":{"gitId":"-"},"content":"      catchError((err) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":118,"author":{"gitId":"-"},"content":"        return of(this.issues[id]);","lastModifiedDate":"2020-01-14"},{"lineNumber":119,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-01-14"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":122,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":123,"author":{"gitId":"-"},"content":"  createIssue(title: string, description: string, severity: string, type: string): Observable\u003cIssue\u003e {","lastModifiedDate":"2019-02-16"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    const labelsArray \u003d [this.createLabel(\u0027severity\u0027, severity), this.createLabel(\u0027type\u0027, type)];","lastModifiedDate":"2019-02-16"},{"lineNumber":125,"author":{"gitId":"Ding YuChen"},"content":"    const clientType \u003d this.electronService.isElectron() ? \u0027Desktop\u0027 : \u0027Web\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":126,"author":{"gitId":"Ding YuChen"},"content":"    const hiddenData \u003d new Map([[\u0027session\u0027, this.sessionId], [\u0027Version\u0027, `${clientType} v${appVersion}`]]);","lastModifiedDate":"2021-03-24"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    const issueDescription \u003d HiddenData.embedDataIntoString(description, hiddenData);","lastModifiedDate":"2020-09-27"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    return this.githubService.createIssue(title, issueDescription, labelsArray).pipe(","lastModifiedDate":"2020-09-27"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      map((response: GithubIssue) \u003d\u003e this.createIssueModel(response))","lastModifiedDate":"2020-09-12"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-03-19"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":132,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":133,"author":{"gitId":"-"},"content":"  updateIssue(issue: Issue): Observable\u003cIssue\u003e {","lastModifiedDate":"2019-02-10"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    const assignees \u003d this.phaseService.currentPhase \u003d\u003d\u003d Phase.phaseModeration ? [] : issue.assignees;","lastModifiedDate":"2019-07-23"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    return this.githubService.updateIssue(issue.id, issue.title, this.createGithubIssueDescription(issue),","lastModifiedDate":"2019-05-20"},{"lineNumber":136,"author":{"gitId":"-"},"content":"      this.createLabelsForIssue(issue), assignees).pipe(","lastModifiedDate":"2019-05-20"},{"lineNumber":137,"author":{"gitId":"-"},"content":"        map((response: GithubIssue) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":138,"author":{"gitId":"-"},"content":"          response.comments \u003d issue.githubComments;","lastModifiedDate":"2020-09-12"},{"lineNumber":139,"author":{"gitId":"-"},"content":"          return this.createIssueModel(response);","lastModifiedDate":"2019-03-31"},{"lineNumber":140,"author":{"gitId":"-"},"content":"        })","lastModifiedDate":"2019-03-31"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-03-31"},{"lineNumber":142,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-31"},{"lineNumber":143,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-20"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  updateIssueWithComment(issue: Issue, issueComment: IssueComment): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":145,"author":{"gitId":"-"},"content":"    return this.githubService.updateIssueComment(issueComment).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":146,"author":{"gitId":"-"},"content":"      flatMap((updatedComment: GithubComment) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":147,"author":{"gitId":"-"},"content":"        issue.githubComments \u003d [","lastModifiedDate":"2020-09-12"},{"lineNumber":148,"author":{"gitId":"-"},"content":"          updatedComment,","lastModifiedDate":"2020-09-12"},{"lineNumber":149,"author":{"gitId":"-"},"content":"          ...issue.githubComments.filter(c \u003d\u003e c.id !\u003d\u003d updatedComment.id),","lastModifiedDate":"2020-09-12"},{"lineNumber":150,"author":{"gitId":"-"},"content":"        ];","lastModifiedDate":"2020-09-12"},{"lineNumber":151,"author":{"gitId":"-"},"content":"        return this.updateIssue(issue);","lastModifiedDate":"2020-09-12"},{"lineNumber":152,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":155,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  updateTesterResponse(issue: Issue, issueComment: IssueComment): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    const isTesterResponseExist \u003d this.issues[issue.id].testerResponses;","lastModifiedDate":"2020-01-14"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    const commentApiToCall \u003d isTesterResponseExist ? this.githubService.updateIssueComment(issueComment)","lastModifiedDate":"2020-01-14"},{"lineNumber":159,"author":{"gitId":"-"},"content":"      : this.githubService.createIssueComment(issue.id, issueComment.description);","lastModifiedDate":"2020-01-14"},{"lineNumber":160,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":161,"author":{"gitId":"-"},"content":"    const issueClone \u003d issue.clone(this.phaseService.currentPhase);","lastModifiedDate":"2020-01-14"},{"lineNumber":162,"author":{"gitId":"-"},"content":"    issueClone.status \u003d STATUS.Done;","lastModifiedDate":"2020-01-14"},{"lineNumber":163,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":164,"author":{"gitId":"-"},"content":"    return forkJoin([commentApiToCall, this.updateIssue(issueClone)]).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":165,"author":{"gitId":"-"},"content":"      map((responses) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":166,"author":{"gitId":"-"},"content":"        const [githubComment, issue] \u003d responses;","lastModifiedDate":"2020-09-12"},{"lineNumber":167,"author":{"gitId":"-"},"content":"        issue.updateTesterResponse(githubComment);","lastModifiedDate":"2020-09-12"},{"lineNumber":168,"author":{"gitId":"-"},"content":"        return issue;","lastModifiedDate":"2020-09-12"},{"lineNumber":169,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-01-14"},{"lineNumber":170,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":171,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":172,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  updateTutorResponse(issue: Issue, issueComment: IssueComment): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    return forkJoin([this.githubService.updateIssueComment(issueComment), this.updateIssue(issue)]).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":175,"author":{"gitId":"-"},"content":"      map(responses \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":176,"author":{"gitId":"-"},"content":"        const [githubComment, issue] \u003d responses;","lastModifiedDate":"2020-09-12"},{"lineNumber":177,"author":{"gitId":"-"},"content":"        issue.updateDispute(githubComment);","lastModifiedDate":"2020-09-12"},{"lineNumber":178,"author":{"gitId":"-"},"content":"        return issue;","lastModifiedDate":"2020-01-14"},{"lineNumber":179,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":180,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-09-12"},{"lineNumber":181,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":182,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":183,"author":{"gitId":"-"},"content":"  createTeamResponse(issue: Issue): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    const teamResponse \u003d issue.createGithubTeamResponse();","lastModifiedDate":"2020-09-12"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    return this.githubService.createIssueComment(issue.id, teamResponse).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":186,"author":{"gitId":"-"},"content":"      flatMap((githubComment: GithubComment) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":187,"author":{"gitId":"-"},"content":"        issue.githubComments \u003d [","lastModifiedDate":"2020-09-12"},{"lineNumber":188,"author":{"gitId":"-"},"content":"          githubComment,","lastModifiedDate":"2020-09-12"},{"lineNumber":189,"author":{"gitId":"-"},"content":"          ...issue.githubComments.filter(c \u003d\u003e c.id !\u003d\u003d githubComment.id),","lastModifiedDate":"2020-09-12"},{"lineNumber":190,"author":{"gitId":"-"},"content":"        ];","lastModifiedDate":"2020-09-12"},{"lineNumber":191,"author":{"gitId":"-"},"content":"        return this.updateIssue(issue);","lastModifiedDate":"2020-09-12"},{"lineNumber":192,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":193,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":194,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":195,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":196,"author":{"gitId":"-"},"content":"  createTutorResponse(issue: Issue, response: string): Observable\u003cIssue\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":197,"author":{"gitId":"-"},"content":"    return forkJoin([this.githubService.createIssueComment(issue.id, response), this.updateIssue(issue)]).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":198,"author":{"gitId":"-"},"content":"      map(responses \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":199,"author":{"gitId":"-"},"content":"        const [githubComment, issue] \u003d responses;","lastModifiedDate":"2020-09-12"},{"lineNumber":200,"author":{"gitId":"-"},"content":"        issue.updateDispute(githubComment);","lastModifiedDate":"2020-01-14"},{"lineNumber":201,"author":{"gitId":"-"},"content":"        return issue;","lastModifiedDate":"2020-01-14"},{"lineNumber":202,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-09-12"},{"lineNumber":203,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":204,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":205,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-21"},{"lineNumber":207,"author":{"gitId":"-"},"content":"   * This function will create a github representation of issue\u0027s description. Given the issue model, it will piece together the different","lastModifiedDate":"2019-05-21"},{"lineNumber":208,"author":{"gitId":"-"},"content":"   * attributes to create the github\u0027s description.","lastModifiedDate":"2019-05-21"},{"lineNumber":209,"author":{"gitId":"-"},"content":"   *","lastModifiedDate":"2019-05-21"},{"lineNumber":210,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-21"},{"lineNumber":211,"author":{"gitId":"-"},"content":"  private createGithubIssueDescription(issue: Issue): string {","lastModifiedDate":"2019-05-20"},{"lineNumber":212,"author":{"gitId":"-"},"content":"    switch (this.phaseService.currentPhase) {","lastModifiedDate":"2019-05-20"},{"lineNumber":213,"author":{"gitId":"-"},"content":"      case Phase.phaseModeration:","lastModifiedDate":"2019-07-23"},{"lineNumber":214,"author":{"gitId":"-"},"content":"        return `# Issue Description\\n${issue.createGithubIssueDescription()}\\n# Team\\\u0027s Response\\n${issue.teamResponse}\\n ` +","lastModifiedDate":"2020-09-27"},{"lineNumber":215,"author":{"gitId":"-"},"content":"         // `## State the duplicated issue here, if any\\n${issue.duplicateOf ? `Duplicate of #${issue.duplicateOf}` : `--`}\\n` +","lastModifiedDate":"2019-08-02"},{"lineNumber":216,"author":{"gitId":"-"},"content":"          `# Disputes\\n\\n${this.getIssueDisputeString(issue.issueDisputes)}\\n`;","lastModifiedDate":"2019-08-02"},{"lineNumber":217,"author":{"gitId":"-"},"content":"      default:","lastModifiedDate":"2019-05-20"},{"lineNumber":218,"author":{"gitId":"-"},"content":"        return issue.createGithubIssueDescription();","lastModifiedDate":"2020-09-27"},{"lineNumber":219,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-05-20"},{"lineNumber":220,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-10"},{"lineNumber":221,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-10"},{"lineNumber":222,"author":{"gitId":"-"},"content":"  private getIssueDisputeString(issueDisputes: IssueDispute[]): string {","lastModifiedDate":"2019-08-02"},{"lineNumber":223,"author":{"gitId":"-"},"content":"    let issueDisputeString \u003d \u0027\u0027;","lastModifiedDate":"2019-08-02"},{"lineNumber":224,"author":{"gitId":"-"},"content":"    for (const issueDispute of issueDisputes) {","lastModifiedDate":"2019-08-02"},{"lineNumber":225,"author":{"gitId":"-"},"content":"      issueDisputeString +\u003d issueDispute.toString();","lastModifiedDate":"2019-08-02"},{"lineNumber":226,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-08-02"},{"lineNumber":227,"author":{"gitId":"-"},"content":"    return issueDisputeString;","lastModifiedDate":"2019-08-02"},{"lineNumber":228,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-08-02"},{"lineNumber":229,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-08-02"},{"lineNumber":230,"author":{"gitId":"-"},"content":"  deleteIssue(id: number): Observable\u003cIssue\u003e {","lastModifiedDate":"2019-02-04"},{"lineNumber":231,"author":{"gitId":"-"},"content":"    return this.githubService.closeIssue(id).pipe(","lastModifiedDate":"2019-03-19"},{"lineNumber":232,"author":{"gitId":"-"},"content":"      map((response: GithubIssue) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":233,"author":{"gitId":"-"},"content":"        const deletedIssue \u003d this.createIssueModel(response);","lastModifiedDate":"2020-09-12"},{"lineNumber":234,"author":{"gitId":"-"},"content":"        this.deleteFromLocalStore(deletedIssue);","lastModifiedDate":"2019-05-21"},{"lineNumber":235,"author":{"gitId":"-"},"content":"        return deletedIssue;","lastModifiedDate":"2019-05-21"},{"lineNumber":236,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-03-19"},{"lineNumber":237,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-03-19"},{"lineNumber":238,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-04"},{"lineNumber":239,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-04"},{"lineNumber":240,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-21"},{"lineNumber":241,"author":{"gitId":"-"},"content":"   * This function will update the issue\u0027s state of the application. This function needs to be called whenever a issue is deleted.","lastModifiedDate":"2019-05-21"},{"lineNumber":242,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-21"},{"lineNumber":243,"author":{"gitId":"-"},"content":"  deleteFromLocalStore(issueToDelete: Issue) {","lastModifiedDate":"2019-02-04"},{"lineNumber":244,"author":{"gitId":"-"},"content":"    const { [issueToDelete.id]: issueToRemove, ...withoutIssueToRemove } \u003d this.issues;","lastModifiedDate":"2019-02-04"},{"lineNumber":245,"author":{"gitId":"-"},"content":"    this.issues \u003d withoutIssueToRemove;","lastModifiedDate":"2019-01-22"},{"lineNumber":246,"author":{"gitId":"-"},"content":"    this.issues$.next(Object.values(this.issues));","lastModifiedDate":"2019-01-22"},{"lineNumber":247,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-19"},{"lineNumber":248,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-19"},{"lineNumber":249,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-02-04"},{"lineNumber":250,"author":{"gitId":"-"},"content":"   * This function will update the issue\u0027s state of the application. This function needs to be called whenever a issue is added/updated.","lastModifiedDate":"2019-05-21"},{"lineNumber":251,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-02-04"},{"lineNumber":252,"author":{"gitId":"-"},"content":"  updateLocalStore(issueToUpdate: Issue) {","lastModifiedDate":"2019-01-21"},{"lineNumber":253,"author":{"gitId":"-"},"content":"    this.issues \u003d {","lastModifiedDate":"2019-01-21"},{"lineNumber":254,"author":{"gitId":"-"},"content":"      ...this.issues,","lastModifiedDate":"2019-01-21"},{"lineNumber":255,"author":{"gitId":"-"},"content":"      [issueToUpdate.id]: issueToUpdate,","lastModifiedDate":"2019-01-21"},{"lineNumber":256,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2019-01-21"},{"lineNumber":257,"author":{"gitId":"-"},"content":"    this.issues$.next(Object.values(this.issues));","lastModifiedDate":"2019-01-21"},{"lineNumber":258,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":259,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":260,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-21"},{"lineNumber":261,"author":{"gitId":"-"},"content":"   * Check whether the issue has been responded in the phase 2/3.","lastModifiedDate":"2019-05-21"},{"lineNumber":262,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-21"},{"lineNumber":263,"author":{"gitId":"-"},"content":"  hasTeamResponse(issueId: number): boolean {","lastModifiedDate":"2020-01-14"},{"lineNumber":264,"author":{"gitId":"-"},"content":"    return !!this.issues[issueId].teamResponse;","lastModifiedDate":"2020-01-14"},{"lineNumber":265,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-28"},{"lineNumber":266,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-28"},{"lineNumber":267,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-04-05"},{"lineNumber":268,"author":{"gitId":"-"},"content":"   * Obtain an observable containing an array of issues that are duplicates of the parentIssue.","lastModifiedDate":"2019-05-21"},{"lineNumber":269,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-04-05"},{"lineNumber":270,"author":{"gitId":"-"},"content":"  getDuplicateIssuesFor(parentIssue: Issue): Observable\u003cIssue[]\u003e {","lastModifiedDate":"2019-04-05"},{"lineNumber":271,"author":{"gitId":"-"},"content":"    return this.issues$.pipe(map((issues) \u003d\u003e {","lastModifiedDate":"2019-04-05"},{"lineNumber":272,"author":{"gitId":"-"},"content":"      return issues.filter(issue \u003d\u003e {","lastModifiedDate":"2019-04-05"},{"lineNumber":273,"author":{"gitId":"-"},"content":"        return issue.duplicateOf \u003d\u003d\u003d parentIssue.id;","lastModifiedDate":"2019-04-05"},{"lineNumber":274,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2019-04-05"},{"lineNumber":275,"author":{"gitId":"-"},"content":"    }));","lastModifiedDate":"2019-04-05"},{"lineNumber":276,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-05"},{"lineNumber":277,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-05"},{"lineNumber":278,"author":{"gitId":"ptvrajsk"},"content":"  reset(resetSessionId: boolean) {","lastModifiedDate":"2021-04-05"},{"lineNumber":279,"author":{"gitId":"ptvrajsk"},"content":"    if (resetSessionId) {","lastModifiedDate":"2021-04-05"},{"lineNumber":280,"author":{"gitId":"-"},"content":"      this.sessionId \u003d undefined;","lastModifiedDate":"2020-09-27"},{"lineNumber":281,"author":{"gitId":"ptvrajsk"},"content":"    }","lastModifiedDate":"2021-04-05"},{"lineNumber":282,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":283,"author":{"gitId":"-"},"content":"    this.issues \u003d undefined;","lastModifiedDate":"2021-04-05"},{"lineNumber":284,"author":{"gitId":"-"},"content":"    this.issues$.next(new Array\u003cIssue\u003e());","lastModifiedDate":"2019-02-07"},{"lineNumber":285,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":286,"author":{"gitId":"-"},"content":"    this.stopPollIssues();","lastModifiedDate":"2020-09-12"},{"lineNumber":287,"author":{"gitId":"-"},"content":"    this.isLoading.complete();","lastModifiedDate":"2020-09-12"},{"lineNumber":288,"author":{"gitId":"-"},"content":"    this.isLoading \u003d new BehaviorSubject\u003cboolean\u003e(false);","lastModifiedDate":"2020-09-12"},{"lineNumber":289,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-07"},{"lineNumber":290,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-07"},{"lineNumber":291,"author":{"gitId":"-"},"content":"  private initializeData(): Observable\u003cIssue[]\u003e {","lastModifiedDate":"2019-02-21"},{"lineNumber":292,"author":{"gitId":"-"},"content":"    const issuesAPICallsByFilter: Array\u003cObservable\u003cArray\u003cGithubIssue\u003e\u003e\u003e \u003d [];","lastModifiedDate":"2020-09-12"},{"lineNumber":293,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":294,"author":{"gitId":"-"},"content":"    switch (IssuesFilter[this.phaseService.currentPhase][this.userService.currentUser.role]) {","lastModifiedDate":"2019-02-26"},{"lineNumber":295,"author":{"gitId":"-"},"content":"      case \u0027FILTER_BY_CREATOR\u0027:","lastModifiedDate":"2019-02-26"},{"lineNumber":296,"author":{"gitId":"-"},"content":"        issuesAPICallsByFilter.push(","lastModifiedDate":"2020-09-12"},{"lineNumber":297,"author":{"gitId":"-"},"content":"          this.githubService.fetchIssuesGraphql(new RestGithubIssueFilter({ creator: this.userService.currentUser.loginId }))","lastModifiedDate":"2020-09-12"},{"lineNumber":298,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-09-12"},{"lineNumber":299,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-02-26"},{"lineNumber":300,"author":{"gitId":"-"},"content":"      case \u0027FILTER_BY_TEAM\u0027: // Only student has this filter","lastModifiedDate":"2019-03-19"},{"lineNumber":301,"author":{"gitId":"-"},"content":"        issuesAPICallsByFilter.push(","lastModifiedDate":"2020-09-12"},{"lineNumber":302,"author":{"gitId":"-"},"content":"          this.githubService.fetchIssuesGraphqlByTeam(","lastModifiedDate":"2020-09-12"},{"lineNumber":303,"author":{"gitId":"-"},"content":"            this.createLabel(\u0027tutorial\u0027, this.userService.currentUser.team.tutorialClassId),","lastModifiedDate":"2020-09-12"},{"lineNumber":304,"author":{"gitId":"-"},"content":"            this.createLabel(\u0027team\u0027, this.userService.currentUser.team.teamId),","lastModifiedDate":"2020-09-12"},{"lineNumber":305,"author":{"gitId":"-"},"content":"            new RestGithubIssueFilter({}))","lastModifiedDate":"2020-09-12"},{"lineNumber":306,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-09-12"},{"lineNumber":307,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-02-26"},{"lineNumber":308,"author":{"gitId":"-"},"content":"      case \u0027FILTER_BY_TEAM_ASSIGNED\u0027: // Only for Tutors and Admins","lastModifiedDate":"2019-03-20"},{"lineNumber":309,"author":{"gitId":"-"},"content":"        const allocatedTeams \u003d this.userService.currentUser.allocatedTeams;","lastModifiedDate":"2019-03-20"},{"lineNumber":310,"author":{"gitId":"-"},"content":"        allocatedTeams.forEach(team \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":311,"author":{"gitId":"-"},"content":"          issuesAPICallsByFilter.push(","lastModifiedDate":"2020-09-12"},{"lineNumber":312,"author":{"gitId":"-"},"content":"            this.githubService.fetchIssuesGraphqlByTeam(","lastModifiedDate":"2020-09-12"},{"lineNumber":313,"author":{"gitId":"-"},"content":"              this.createLabel(\u0027tutorial\u0027, team.tutorialClassId),","lastModifiedDate":"2020-09-12"},{"lineNumber":314,"author":{"gitId":"-"},"content":"              this.createLabel(\u0027team\u0027, team.teamId),","lastModifiedDate":"2020-09-12"},{"lineNumber":315,"author":{"gitId":"-"},"content":"              new RestGithubIssueFilter({}))","lastModifiedDate":"2020-09-12"},{"lineNumber":316,"author":{"gitId":"-"},"content":"          );","lastModifiedDate":"2020-09-12"},{"lineNumber":317,"author":{"gitId":"-"},"content":"        });","lastModifiedDate":"2020-09-12"},{"lineNumber":318,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-02-26"},{"lineNumber":319,"author":{"gitId":"-"},"content":"      case \u0027NO_FILTER\u0027:","lastModifiedDate":"2019-02-26"},{"lineNumber":320,"author":{"gitId":"-"},"content":"        issuesAPICallsByFilter.push(","lastModifiedDate":"2020-09-12"},{"lineNumber":321,"author":{"gitId":"-"},"content":"          this.githubService.fetchIssuesGraphql(new RestGithubIssueFilter({}))","lastModifiedDate":"2020-09-12"},{"lineNumber":322,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2020-09-12"},{"lineNumber":323,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2019-02-26"},{"lineNumber":324,"author":{"gitId":"-"},"content":"      case \u0027NO_ACCESS\u0027:","lastModifiedDate":"2019-02-26"},{"lineNumber":325,"author":{"gitId":"-"},"content":"      default:","lastModifiedDate":"2019-02-26"},{"lineNumber":326,"author":{"gitId":"-"},"content":"        return of([]);","lastModifiedDate":"2019-02-26"},{"lineNumber":327,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-26"},{"lineNumber":328,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-26"},{"lineNumber":329,"author":{"gitId":"-"},"content":"    // const issuesAPICallsByFilter \u003d filters.map(filter \u003d\u003e this.githubService.fetchIssuesGraphql(filter));","lastModifiedDate":"2020-09-12"},{"lineNumber":330,"author":{"gitId":"-"},"content":"    return forkJoin(issuesAPICallsByFilter).pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":331,"author":{"gitId":"-"},"content":"      map((issuesByFilter: [][]) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":332,"author":{"gitId":"-"},"content":"        for (const issues of issuesByFilter) {","lastModifiedDate":"2019-03-21"},{"lineNumber":333,"author":{"gitId":"-"},"content":"          for (const issue of issues) {","lastModifiedDate":"2019-03-19"},{"lineNumber":334,"author":{"gitId":"-"},"content":"            this.createAndSaveIssueModel(issue);","lastModifiedDate":"2020-09-12"},{"lineNumber":335,"author":{"gitId":"-"},"content":"          }","lastModifiedDate":"2019-03-19"},{"lineNumber":336,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2019-03-21"},{"lineNumber":337,"author":{"gitId":"-"},"content":"        return Object.values(this.issues);","lastModifiedDate":"2019-02-21"},{"lineNumber":338,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-03-18"},{"lineNumber":339,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-03-18"},{"lineNumber":340,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-18"},{"lineNumber":341,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":342,"author":{"gitId":"-"},"content":"  private createAndSaveIssueModel(githubIssue: GithubIssue): boolean {","lastModifiedDate":"2020-09-12"},{"lineNumber":343,"author":{"gitId":"-"},"content":"    const issue \u003d this.createIssueModel(githubIssue);","lastModifiedDate":"2020-09-12"},{"lineNumber":344,"author":{"gitId":"-"},"content":"    this.updateLocalStore(issue);","lastModifiedDate":"2020-01-14"},{"lineNumber":345,"author":{"gitId":"-"},"content":"    return true;","lastModifiedDate":"2020-01-14"},{"lineNumber":346,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":347,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":348,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-05-21"},{"lineNumber":349,"author":{"gitId":"-"},"content":"   * Given an issue model, create the necessary labels for github.","lastModifiedDate":"2019-05-21"},{"lineNumber":350,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-05-21"},{"lineNumber":351,"author":{"gitId":"-"},"content":"  private createLabelsForIssue(issue: Issue): string[] {","lastModifiedDate":"2019-02-16"},{"lineNumber":352,"author":{"gitId":"-"},"content":"    const result \u003d [];","lastModifiedDate":"2019-02-16"},{"lineNumber":353,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":354,"author":{"gitId":"-"},"content":"    if (this.phaseService.currentPhase !\u003d\u003d Phase.phaseBugReporting \u0026\u0026","lastModifiedDate":"2019-07-23"},{"lineNumber":355,"author":{"gitId":"-"},"content":"        this.phaseService.currentPhase !\u003d\u003d Phase.phaseTesterResponse) {","lastModifiedDate":"2019-07-20"},{"lineNumber":356,"author":{"gitId":"-"},"content":"      const studentTeam \u003d issue.teamAssigned.id.split(\u0027-\u0027);","lastModifiedDate":"2019-03-19"},{"lineNumber":357,"author":{"gitId":"-"},"content":"      result.push(this.createLabel(\u0027tutorial\u0027, `${studentTeam[0]}-${studentTeam[1]}`),","lastModifiedDate":"2019-10-23"},{"lineNumber":358,"author":{"gitId":"-"},"content":"        this.createLabel(\u0027team\u0027, studentTeam[2]));","lastModifiedDate":"2019-10-23"},{"lineNumber":359,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-26"},{"lineNumber":360,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":361,"author":{"gitId":"-"},"content":"    if (issue.severity) {","lastModifiedDate":"2019-02-16"},{"lineNumber":362,"author":{"gitId":"-"},"content":"      result.push(this.createLabel(\u0027severity\u0027, issue.severity));","lastModifiedDate":"2019-02-16"},{"lineNumber":363,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-16"},{"lineNumber":364,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":365,"author":{"gitId":"-"},"content":"    if (issue.type) {","lastModifiedDate":"2019-02-16"},{"lineNumber":366,"author":{"gitId":"-"},"content":"      result.push(this.createLabel(\u0027type\u0027, issue.type));","lastModifiedDate":"2019-02-16"},{"lineNumber":367,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-16"},{"lineNumber":368,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-16"},{"lineNumber":369,"author":{"gitId":"-"},"content":"    if (issue.responseTag) {","lastModifiedDate":"2019-02-16"},{"lineNumber":370,"author":{"gitId":"-"},"content":"      result.push(this.createLabel(\u0027response\u0027, issue.responseTag));","lastModifiedDate":"2019-02-16"},{"lineNumber":371,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-16"},{"lineNumber":372,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-20"},{"lineNumber":373,"author":{"gitId":"-"},"content":"    if (issue.duplicated) {","lastModifiedDate":"2019-02-20"},{"lineNumber":374,"author":{"gitId":"-"},"content":"      result.push(\u0027duplicate\u0027);","lastModifiedDate":"2019-02-20"},{"lineNumber":375,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-20"},{"lineNumber":376,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-05"},{"lineNumber":377,"author":{"gitId":"-"},"content":"    if (issue.status) {","lastModifiedDate":"2019-04-05"},{"lineNumber":378,"author":{"gitId":"-"},"content":"      result.push(this.createLabel(\u0027status\u0027, issue.status));","lastModifiedDate":"2019-04-05"},{"lineNumber":379,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-04-05"},{"lineNumber":380,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-05"},{"lineNumber":381,"author":{"gitId":"-"},"content":"    if (issue.pending) {","lastModifiedDate":"2019-08-02"},{"lineNumber":382,"author":{"gitId":"-"},"content":"      if (+issue.pending \u003e 0) {","lastModifiedDate":"2019-08-02"},{"lineNumber":383,"author":{"gitId":"-"},"content":"        result.push(this.createLabel(\u0027pending\u0027, issue.pending));","lastModifiedDate":"2019-08-02"},{"lineNumber":384,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-08-02"},{"lineNumber":385,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-08-02"},{"lineNumber":386,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-08-02"},{"lineNumber":387,"author":{"gitId":"-"},"content":"    if (issue.unsure) {","lastModifiedDate":"2019-08-02"},{"lineNumber":388,"author":{"gitId":"-"},"content":"      result.push(\u0027unsure\u0027);","lastModifiedDate":"2019-08-02"},{"lineNumber":389,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-08-02"},{"lineNumber":390,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-08-02"},{"lineNumber":391,"author":{"gitId":"-"},"content":"    return result;","lastModifiedDate":"2019-02-16"},{"lineNumber":392,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":393,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":394,"author":{"gitId":"-"},"content":"  private createLabel(prepend: string, value: string) {","lastModifiedDate":"2019-02-16"},{"lineNumber":395,"author":{"gitId":"-"},"content":"    return `${prepend}.${value}`;","lastModifiedDate":"2019-02-16"},{"lineNumber":396,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":397,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-19"},{"lineNumber":398,"author":{"gitId":"-"},"content":"  private extractTeamIdFromGithubIssue(githubIssue: GithubIssue): string {","lastModifiedDate":"2019-09-25"},{"lineNumber":399,"author":{"gitId":"-"},"content":"    return githubIssue.findLabel(GithubLabel.LABELS.tutorial).concat(\u0027-\u0027).concat(githubIssue.findLabel(GithubLabel.LABELS.team));","lastModifiedDate":"2019-09-25"},{"lineNumber":400,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-09-25"},{"lineNumber":401,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-09-25"},{"lineNumber":402,"author":{"gitId":"-"},"content":"  private createIssueModel(githubIssue: GithubIssue): Issue {","lastModifiedDate":"2020-09-12"},{"lineNumber":403,"author":{"gitId":"-"},"content":"    switch (this.phaseService.currentPhase) {","lastModifiedDate":"2019-12-17"},{"lineNumber":404,"author":{"gitId":"-"},"content":"      case Phase.phaseBugReporting:","lastModifiedDate":"2019-12-17"},{"lineNumber":405,"author":{"gitId":"-"},"content":"        return Issue.createPhaseBugReportingIssue(githubIssue);","lastModifiedDate":"2020-09-12"},{"lineNumber":406,"author":{"gitId":"-"},"content":"      case Phase.phaseTeamResponse:","lastModifiedDate":"2019-12-17"},{"lineNumber":407,"author":{"gitId":"-"},"content":"        return Issue.createPhaseTeamResponseIssue(githubIssue,","lastModifiedDate":"2020-09-12"},{"lineNumber":408,"author":{"gitId":"-"},"content":"          this.dataService.getTeam(this.extractTeamIdFromGithubIssue(githubIssue)));","lastModifiedDate":"2020-01-14"},{"lineNumber":409,"author":{"gitId":"-"},"content":"      case Phase.phaseTesterResponse:","lastModifiedDate":"2019-12-17"},{"lineNumber":410,"author":{"gitId":"-"},"content":"        return Issue.createPhaseTesterResponseIssue(githubIssue);","lastModifiedDate":"2020-09-12"},{"lineNumber":411,"author":{"gitId":"-"},"content":"      case Phase.phaseModeration:","lastModifiedDate":"2019-12-17"},{"lineNumber":412,"author":{"gitId":"-"},"content":"        return Issue.createPhaseModerationIssue(githubIssue,","lastModifiedDate":"2020-09-12"},{"lineNumber":413,"author":{"gitId":"-"},"content":"          this.dataService.getTeam(this.extractTeamIdFromGithubIssue(githubIssue)));","lastModifiedDate":"2020-01-14"},{"lineNumber":414,"author":{"gitId":"-"},"content":"      default:","lastModifiedDate":"2019-12-17"},{"lineNumber":415,"author":{"gitId":"-"},"content":"        return;","lastModifiedDate":"2019-12-17"},{"lineNumber":416,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-08-02"},{"lineNumber":417,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-08-02"},{"lineNumber":418,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-08-02"},{"lineNumber":419,"author":{"gitId":"-"},"content":"  setIssueTeamFilter(filterValue: string) {","lastModifiedDate":"2019-06-10"},{"lineNumber":420,"author":{"gitId":"-"},"content":"    if (filterValue) {","lastModifiedDate":"2019-06-11"},{"lineNumber":421,"author":{"gitId":"-"},"content":"      this.issueTeamFilter \u003d filterValue;","lastModifiedDate":"2019-06-10"},{"lineNumber":422,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-06-10"},{"lineNumber":423,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-10"},{"lineNumber":424,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-10"},{"lineNumber":425,"author":{"gitId":"-"},"content":"  setSessionId(sessionId: string) {","lastModifiedDate":"2020-09-27"},{"lineNumber":426,"author":{"gitId":"-"},"content":"    this.sessionId \u003d sessionId;","lastModifiedDate":"2020-09-27"},{"lineNumber":427,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-27"},{"lineNumber":428,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-27"},{"lineNumber":429,"author":{"gitId":"-"},"content":"  getIssueTeamFilter(): string {","lastModifiedDate":"2019-06-10"},{"lineNumber":430,"author":{"gitId":"-"},"content":"    return this.issueTeamFilter;","lastModifiedDate":"2019-06-10"},{"lineNumber":431,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-10"},{"lineNumber":432,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-18"}],"authorContributionMap":{"ptvrajsk":4,"Ding YuChen":5,"-":423}},{"path":"src/app/core/services/logging.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027./electron.service\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { ElectronLog } from \u0027electron-log\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { AppConfig } from \u0027../../../environments/environment\u0027;","lastModifiedDate":"2021-03-29"},{"lineNumber":5,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":6,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2021-01-09"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","lastModifiedDate":"2021-01-09"},{"lineNumber":8,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2021-01-09"},{"lineNumber":9,"author":{"gitId":"-"},"content":"export class LoggingService {","lastModifiedDate":"2021-01-09"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  private logger: ElectronLog | Console;","lastModifiedDate":"2021-01-09"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  private isInSession \u003d false;","lastModifiedDate":"2021-03-13"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  private readonly LOG_KEY \u003d \u0027CATcher-Log\u0027;","lastModifiedDate":"2021-03-13"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  private readonly LOG_FILE_NAME \u003d \u0027CATcher-log.txt\u0027;","lastModifiedDate":"2021-03-13"},{"lineNumber":14,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public readonly LOG_START_HEADER \u003d `\u003d\u003d\u003d\u003d\u003d\u003d New CATcher v${AppConfig.version} Session Log \u003d\u003d\u003d\u003d\u003d\u003d`;","lastModifiedDate":"2021-03-29"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  public readonly LOG_COUNT_LIMIT \u003d 4;","lastModifiedDate":"2021-03-13"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  constructor(electronService: ElectronService) {","lastModifiedDate":"2021-01-09"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    if (electronService.isElectron()) {","lastModifiedDate":"2021-01-09"},{"lineNumber":19,"author":{"gitId":"-"},"content":"      this.logger \u003d window.require(\u0027electron-log\u0027);","lastModifiedDate":"2021-01-09"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2021-01-09"},{"lineNumber":21,"author":{"gitId":"-"},"content":"      this.logger \u003d console;","lastModifiedDate":"2021-01-09"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-09"},{"lineNumber":23,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    this.startSession();","lastModifiedDate":"2021-03-13"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  reset() {","lastModifiedDate":"2021-03-13"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    this.isInSession \u003d false;","lastModifiedDate":"2021-03-13"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":30,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-03-13"},{"lineNumber":32,"author":{"gitId":"-"},"content":"   * Configures loggging Session if Logging Service is not","lastModifiedDate":"2021-03-13"},{"lineNumber":33,"author":{"gitId":"-"},"content":"   * in session.","lastModifiedDate":"2021-03-13"},{"lineNumber":34,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-03-13"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  startSession() {","lastModifiedDate":"2021-03-13"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    // Prevents the OAuth Pop-up window from being able to","lastModifiedDate":"2021-03-13"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    // start a session.","lastModifiedDate":"2021-03-13"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    if (window.opener \u0026\u0026 window.opener !\u003d\u003d window) {","lastModifiedDate":"2021-03-13"},{"lineNumber":39,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2021-03-13"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-13"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    if (!this.isInSession) {","lastModifiedDate":"2021-03-13"},{"lineNumber":42,"author":{"gitId":"-"},"content":"      this.isInSession \u003d true;","lastModifiedDate":"2021-03-13"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      this.initializeLogCache();","lastModifiedDate":"2021-03-13"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-13"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":46,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  initializeLogCache() {","lastModifiedDate":"2021-03-13"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    this.setCachedLog(this.getTrimmedLogCache(this.getCachedLog(), this.LOG_COUNT_LIMIT));","lastModifiedDate":"2021-03-13"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":50,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-03-13"},{"lineNumber":52,"author":{"gitId":"-"},"content":"   * Trims the existing Log in the browser\u0027s cache to a select number","lastModifiedDate":"2021-03-13"},{"lineNumber":53,"author":{"gitId":"-"},"content":"   * of Sessions if necessary.","lastModifiedDate":"2021-03-13"},{"lineNumber":54,"author":{"gitId":"-"},"content":"   * @param sessionCount The number of Session Logs to preserve in the cache","lastModifiedDate":"2021-03-13"},{"lineNumber":55,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-03-13"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  getTrimmedLogCache(currentLog: string, sessionCount: number): string {","lastModifiedDate":"2021-03-13"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    const sessionLogSeparator: string \u003d \u0027\\n\u0027.repeat(2); // More new-lines added for clarity.","lastModifiedDate":"2021-03-13"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    const currentDateTime \u003d new Date().toLocaleString();","lastModifiedDate":"2021-03-13"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    const logHeaderWithDateTime \u003d `${this.LOG_START_HEADER}\\n${currentDateTime}`;","lastModifiedDate":"2021-03-13"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    // Check if Trimming is Necessary","lastModifiedDate":"2021-03-13"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    const numberOfSessions: number \u003d currentLog \u003d\u003d null ? 0 : currentLog.split(\u0027\\n\u0027)","lastModifiedDate":"2021-03-13"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      .filter((currentLogLine: string) \u003d\u003e currentLogLine.includes(this.LOG_START_HEADER))","lastModifiedDate":"2021-03-13"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      .length;","lastModifiedDate":"2021-03-13"},{"lineNumber":65,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    if (numberOfSessions \u003d\u003d\u003d 0) {","lastModifiedDate":"2021-03-13"},{"lineNumber":67,"author":{"gitId":"-"},"content":"      return logHeaderWithDateTime;","lastModifiedDate":"2021-03-13"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-13"},{"lineNumber":69,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    if (numberOfSessions \u003c sessionCount) {","lastModifiedDate":"2021-03-13"},{"lineNumber":71,"author":{"gitId":"-"},"content":"      return `${currentLog}${sessionLogSeparator}${logHeaderWithDateTime}`;","lastModifiedDate":"2021-03-13"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-13"},{"lineNumber":73,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    const separatedSessionLogs: string[] \u003d currentLog.split(`${this.LOG_START_HEADER}`)","lastModifiedDate":"2021-03-13"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      .filter((line: string) \u003d\u003e !!line)","lastModifiedDate":"2021-03-13"},{"lineNumber":76,"author":{"gitId":"-"},"content":"      .map((line: string) \u003d\u003e `${this.LOG_START_HEADER}\\n${line.trim()}`);","lastModifiedDate":"2021-03-13"},{"lineNumber":77,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    separatedSessionLogs.splice(0, separatedSessionLogs.length - sessionCount + 1);","lastModifiedDate":"2021-03-13"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    separatedSessionLogs.push(`${logHeaderWithDateTime}`);","lastModifiedDate":"2021-03-13"},{"lineNumber":80,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    return separatedSessionLogs.join(sessionLogSeparator);","lastModifiedDate":"2021-03-13"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":83,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":84,"author":{"gitId":"-"},"content":"  getCachedLog(): string {","lastModifiedDate":"2021-03-13"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    return localStorage.getItem(this.LOG_KEY);","lastModifiedDate":"2021-03-13"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":87,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  setCachedLog(updatedLog: string): void {","lastModifiedDate":"2021-03-13"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    localStorage.setItem(this.LOG_KEY, updatedLog);","lastModifiedDate":"2021-03-13"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":91,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  updateLog(... updatedLog: any[]): void {","lastModifiedDate":"2021-03-13"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    this.setCachedLog(`${this.getCachedLog()}\\n${updatedLog.toString()}`);","lastModifiedDate":"2021-03-13"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-13"},{"lineNumber":95,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  exportLogFile() {","lastModifiedDate":"2021-03-13"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    const log: string \u003d this.getCachedLog();","lastModifiedDate":"2021-03-13"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    const blob: Blob \u003d new Blob([log], {type: \u0027file/txt\u0027});","lastModifiedDate":"2021-03-13"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    const blobUrl: string \u003d window.URL.createObjectURL(blob);","lastModifiedDate":"2021-03-13"},{"lineNumber":100,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    const hiddenElement: HTMLAnchorElement \u003d document.createElement(\u0027a\u0027);","lastModifiedDate":"2021-03-13"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    hiddenElement.setAttribute(\u0027style\u0027, \u0027display: none;\u0027);","lastModifiedDate":"2021-03-13"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    hiddenElement.href \u003d blobUrl;","lastModifiedDate":"2021-03-13"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    hiddenElement.download \u003d this.LOG_FILE_NAME;","lastModifiedDate":"2021-03-13"},{"lineNumber":105,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    // Add to DOM and Click to prompt download.","lastModifiedDate":"2021-03-13"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    document.body.appendChild(hiddenElement);","lastModifiedDate":"2021-03-13"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    hiddenElement.click();","lastModifiedDate":"2021-03-13"},{"lineNumber":109,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    // Remove URL + Created Attached Element","lastModifiedDate":"2021-03-13"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    window.URL.revokeObjectURL(blobUrl);","lastModifiedDate":"2021-03-13"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    document.body.removeChild(hiddenElement);","lastModifiedDate":"2021-03-13"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    hiddenElement.remove();","lastModifiedDate":"2021-03-13"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":115,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  info(...params: any[]) {","lastModifiedDate":"2021-01-09"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    this.updateLog(params);","lastModifiedDate":"2021-03-13"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    this.logger.info(params);","lastModifiedDate":"2021-01-09"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":120,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  error(...params: any[]) {","lastModifiedDate":"2021-01-09"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    this.updateLog(params);","lastModifiedDate":"2021-03-13"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    this.logger.error(params);","lastModifiedDate":"2021-01-09"},{"lineNumber":124,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":125,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":126,"author":{"gitId":"-"},"content":"  warn(...params: any[]) {","lastModifiedDate":"2021-01-09"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    this.updateLog(params);","lastModifiedDate":"2021-03-13"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    this.logger.warn(params);","lastModifiedDate":"2021-01-09"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":130,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-09"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  debug(...params: any[]) {","lastModifiedDate":"2021-01-09"},{"lineNumber":132,"author":{"gitId":"-"},"content":"    this.updateLog(params);","lastModifiedDate":"2021-03-13"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    this.logger.debug(params);","lastModifiedDate":"2021-01-09"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-09"},{"lineNumber":135,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-09"}],"authorContributionMap":{"Low Jun Kai, Sean":2,"-":133}},{"path":"src/app/core/services/mocks/mock.auth.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { HttpClient } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Router } from \u0027@angular/router\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { BehaviorSubject } from \u0027rxjs\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { NgZone } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027../electron.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../user.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../phase.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../error-handling.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../github.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../issue.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { DataService } from \u0027../data.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../label.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { Title } from \u0027@angular/platform-browser\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { GithubEventService } from \u0027../githubevent.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"import { uuid } from \u0027../../../shared/lib/uuid\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../logging.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"export enum AuthState { \u0027NotAuthenticated\u0027, \u0027AwaitingAuthentication\u0027, \u0027ConfirmOAuthUser\u0027, \u0027Authenticated\u0027}","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2021-01-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027","lastModifiedDate":"2021-01-25"},{"lineNumber":23,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2021-01-25"},{"lineNumber":24,"author":{"gitId":"-"},"content":"export class MockAuthService {","lastModifiedDate":"2021-01-25"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  authStateSource \u003d new BehaviorSubject(AuthState.NotAuthenticated);","lastModifiedDate":"2021-01-25"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  currentAuthState \u003d this.authStateSource.asObservable();","lastModifiedDate":"2021-01-25"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  accessToken \u003d new BehaviorSubject(undefined);","lastModifiedDate":"2021-01-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  constructor(private electronService: ElectronService, private router: Router, private ngZone: NgZone,","lastModifiedDate":"2021-01-25"},{"lineNumber":30,"author":{"gitId":"-"},"content":"              private http: HttpClient,  private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2021-01-25"},{"lineNumber":31,"author":{"gitId":"-"},"content":"              private githubService: GithubService,","lastModifiedDate":"2021-01-25"},{"lineNumber":32,"author":{"gitId":"-"},"content":"              private userService: UserService,","lastModifiedDate":"2021-01-25"},{"lineNumber":33,"author":{"gitId":"-"},"content":"              private issueService: IssueService,","lastModifiedDate":"2021-01-25"},{"lineNumber":34,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService,","lastModifiedDate":"2021-01-25"},{"lineNumber":35,"author":{"gitId":"-"},"content":"              private labelService: LabelService,","lastModifiedDate":"2021-01-25"},{"lineNumber":36,"author":{"gitId":"-"},"content":"              private dataService: DataService,","lastModifiedDate":"2021-01-25"},{"lineNumber":37,"author":{"gitId":"-"},"content":"              private githubEventService: GithubEventService,","lastModifiedDate":"2021-01-25"},{"lineNumber":38,"author":{"gitId":"-"},"content":"              private titleService: Title,","lastModifiedDate":"2021-01-25"},{"lineNumber":39,"author":{"gitId":"-"},"content":"              private logger: LoggingService) {}","lastModifiedDate":"2021-01-25"},{"lineNumber":40,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":42,"author":{"gitId":"-"},"content":"   * Will store the OAuth token.","lastModifiedDate":"2021-01-25"},{"lineNumber":43,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  storeOAuthAccessToken(token: string) {","lastModifiedDate":"2021-01-25"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    this.githubService.storeOAuthAccessToken(token);","lastModifiedDate":"2021-01-25"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    this.accessToken.next(token);","lastModifiedDate":"2021-01-25"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":48,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  reset(): void {","lastModifiedDate":"2021-01-25"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    this.accessToken.next(undefined);","lastModifiedDate":"2021-01-25"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    this.changeAuthState(AuthState.NotAuthenticated);","lastModifiedDate":"2021-01-25"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    this.ngZone.run(() \u003d\u003e this.router.navigate([\u0027\u0027]));","lastModifiedDate":"2021-01-25"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":54,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  logOut(): void {","lastModifiedDate":"2021-01-25"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.githubService.reset();","lastModifiedDate":"2021-01-25"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    this.userService.reset();","lastModifiedDate":"2021-01-25"},{"lineNumber":58,"author":{"gitId":"ptvrajsk"},"content":"    this.issueService.reset(true);","lastModifiedDate":"2021-04-05"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    this.phaseService.reset();","lastModifiedDate":"2021-01-25"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    this.dataService.reset();","lastModifiedDate":"2021-01-25"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    this.githubEventService.reset();","lastModifiedDate":"2021-01-25"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    this.logger.reset();","lastModifiedDate":"2021-03-13"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    this.setLandingPageTitle();","lastModifiedDate":"2021-02-09"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.issueService.setIssueTeamFilter(\u0027All Teams\u0027);","lastModifiedDate":"2021-01-25"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    this.reset();","lastModifiedDate":"2021-01-25"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":67,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  isAuthenticated(): boolean {","lastModifiedDate":"2021-01-25"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    return this.authStateSource.getValue() \u003d\u003d\u003d AuthState.Authenticated;","lastModifiedDate":"2021-01-25"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":71,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  changeAuthState(newAuthState: AuthState) {","lastModifiedDate":"2021-01-25"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    if (newAuthState \u003d\u003d\u003d AuthState.Authenticated) {","lastModifiedDate":"2021-01-25"},{"lineNumber":74,"author":{"gitId":"-"},"content":"      const sessionId \u003d `${Date.now()}-${uuid()}`;","lastModifiedDate":"2021-01-25"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      this.issueService.setSessionId(sessionId);","lastModifiedDate":"2021-01-25"},{"lineNumber":76,"author":{"gitId":"-"},"content":"      this.logger.info(`Successfully authenticated with session: ${sessionId}`);","lastModifiedDate":"2021-01-25"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-01-25"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    this.authStateSource.next(newAuthState);","lastModifiedDate":"2021-01-25"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":80,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  setTitleWithPhaseDetail(): void {","lastModifiedDate":"2021-02-09"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    const appSetting \u003d require(\u0027../../../../../package.json\u0027);","lastModifiedDate":"2021-02-09"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    const title \u003d `${appSetting.name} ${appSetting.version} - ${this.phaseService.getPhaseDetail()}`;","lastModifiedDate":"2021-02-09"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    this.titleService.setTitle(title);","lastModifiedDate":"2021-02-09"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-02-09"},{"lineNumber":86,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-09"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  setLandingPageTitle(): void {","lastModifiedDate":"2021-02-09"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    const appSetting \u003d require(\u0027../../../../../package.json\u0027);","lastModifiedDate":"2021-02-09"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    const title \u003d `${appSetting.name} ${appSetting.version}`;","lastModifiedDate":"2021-02-09"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    this.titleService.setTitle(title);","lastModifiedDate":"2021-02-09"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-02-09"},{"lineNumber":92,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-09"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":94,"author":{"gitId":"-"},"content":"   * Will start the Github OAuth web flow process by issuing \u0027FabricatedToken\u0027.","lastModifiedDate":"2021-01-25"},{"lineNumber":95,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  startOAuthProcess() {","lastModifiedDate":"2021-01-25"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    this.accessToken.next(\u0027FabricatedToken\u0027);","lastModifiedDate":"2021-01-25"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":99,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-25"}],"authorContributionMap":{"ptvrajsk":1,"-":98}},{"path":"src/app/core/services/mocks/mock.github.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Observable, of } from \u0027rxjs\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { GithubUser } from \u0027../../models/github-user.model\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { AppConfig } from \u0027../../../../environments/environment.test\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../../models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { SessionData } from \u0027../../models/session.model\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { GithubRelease } from \u0027../../models/github/github.release\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../label.service\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { Label } from \u0027../../models/label.model\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { GithubIssue } from \u0027../../models/github/github-issue.model\u0027;","lastModifiedDate":"2021-02-09"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { GithubLabel } from \u0027../../models/github/github-label.model\u0027;","lastModifiedDate":"2021-02-09"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { Profile } from \u0027../../models/profile.model\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":13,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":14,"author":{"gitId":"-"},"content":"const Octokit \u003d require(\u0027@octokit/rest\u0027);","lastModifiedDate":"2021-01-25"},{"lineNumber":15,"author":{"gitId":"-"},"content":"const CATCHER_ORG \u003d \u0027CATcher-org\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"const CATCHER_REPO \u003d \u0027CATcher\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"let ORG_NAME \u003d \u0027\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"let MOD_ORG \u003d \u0027\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"let REPO \u003d \u0027\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"let DATA_REPO \u003d \u0027\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"let octokit \u003d new Octokit();","lastModifiedDate":"2021-01-25"},{"lineNumber":23,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":24,"author":{"gitId":"-"},"content":"@Injectable()","lastModifiedDate":"2021-01-25"},{"lineNumber":25,"author":{"gitId":"-"},"content":"export class MockGithubService {","lastModifiedDate":"2021-01-25"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  numIssuesCreated: number;  // tracks the number of GithubIssues created by this mock service","lastModifiedDate":"2021-02-09"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  constructor() {","lastModifiedDate":"2021-02-09"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    this.numIssuesCreated \u003d 0;","lastModifiedDate":"2021-02-09"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-02-09"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  storeOAuthAccessToken(accessToken: string) {","lastModifiedDate":"2021-01-25"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    octokit \u003d new Octokit({","lastModifiedDate":"2021-01-25"},{"lineNumber":34,"author":{"gitId":"-"},"content":"      auth() {","lastModifiedDate":"2021-01-25"},{"lineNumber":35,"author":{"gitId":"-"},"content":"        return `Token ${accessToken}`;","lastModifiedDate":"2021-01-25"},{"lineNumber":36,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2021-01-25"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-25"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":39,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  storeOrganizationDetails(orgName: string, dataRepo: string) {","lastModifiedDate":"2021-01-25"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    MOD_ORG \u003d orgName;","lastModifiedDate":"2021-01-25"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    DATA_REPO \u003d dataRepo;","lastModifiedDate":"2021-01-25"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  storePhaseDetails(phaseRepoOwner: string, repoName: string) {","lastModifiedDate":"2021-01-25"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    REPO \u003d repoName;","lastModifiedDate":"2021-01-25"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    ORG_NAME \u003d phaseRepoOwner;","lastModifiedDate":"2021-01-25"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":49,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":51,"author":{"gitId":"-"},"content":"   * Always informs that repository exists for testing purposes.","lastModifiedDate":"2021-01-25"},{"lineNumber":52,"author":{"gitId":"-"},"content":"   * @param owner - Owner of Specified Repository.","lastModifiedDate":"2021-01-25"},{"lineNumber":53,"author":{"gitId":"-"},"content":"   * @param repo - Name of Repository.","lastModifiedDate":"2021-01-25"},{"lineNumber":54,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  isRepositoryPresent(owner: string, repo: string): Observable\u003cboolean\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    return of(true);","lastModifiedDate":"2021-01-25"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-02-09"},{"lineNumber":60,"author":{"gitId":"-"},"content":"   * Creates a GithubIssue with the specified title / description / labels.","lastModifiedDate":"2021-02-09"},{"lineNumber":61,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-02-09"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  createIssue(title: string, description: string, labels: string[]): Observable\u003cGithubIssue\u003e {","lastModifiedDate":"2021-02-09"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      const githubLabels: GithubLabel[] \u003d labels.map(labelString \u003d\u003e new GithubLabel({name: labelString}));","lastModifiedDate":"2021-02-09"},{"lineNumber":64,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-09"},{"lineNumber":65,"author":{"gitId":"-"},"content":"      const githubIssueData \u003d {","lastModifiedDate":"2021-02-09"},{"lineNumber":66,"author":{"gitId":"-"},"content":"        number: this.numIssuesCreated, // Issue\u0027s display ID","lastModifiedDate":"2021-02-09"},{"lineNumber":67,"author":{"gitId":"-"},"content":"        title: title,","lastModifiedDate":"2021-02-09"},{"lineNumber":68,"author":{"gitId":"-"},"content":"        body: description,","lastModifiedDate":"2021-02-09"},{"lineNumber":69,"author":{"gitId":"-"},"content":"        labels: githubLabels","lastModifiedDate":"2021-02-09"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      };","lastModifiedDate":"2021-02-09"},{"lineNumber":71,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-09"},{"lineNumber":72,"author":{"gitId":"-"},"content":"      this.numIssuesCreated++;","lastModifiedDate":"2021-02-09"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      return of(new GithubIssue(githubIssueData));","lastModifiedDate":"2021-02-09"},{"lineNumber":74,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-02-09"},{"lineNumber":75,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-09"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":77,"author":{"gitId":"-"},"content":"   * Creates a fabricated object that matches the structure of that","lastModifiedDate":"2021-01-25"},{"lineNumber":78,"author":{"gitId":"-"},"content":"   * returned by the Github API which always results in the required labels","lastModifiedDate":"2021-01-25"},{"lineNumber":79,"author":{"gitId":"-"},"content":"   * being present.","lastModifiedDate":"2021-01-25"},{"lineNumber":80,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  fetchAllLabels(): Observable\u003cArray\u003c{}\u003e\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    return of(LabelService.getRequiredLabelsAsArray().map((label: Label) \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":83,"author":{"gitId":"-"},"content":"      return {","lastModifiedDate":"2021-01-25"},{"lineNumber":84,"author":{"gitId":"-"},"content":"        name: label.labelCategory ? `${label.labelCategory}.${label.labelValue}` : `${label.labelValue}`,","lastModifiedDate":"2021-01-25"},{"lineNumber":85,"author":{"gitId":"-"},"content":"        color: `${label.labelColor}`","lastModifiedDate":"2021-01-25"},{"lineNumber":86,"author":{"gitId":"-"},"content":"      };","lastModifiedDate":"2021-01-25"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    }));","lastModifiedDate":"2021-01-25"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":89,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":91,"author":{"gitId":"-"},"content":"   * @return Empty Observable\u003c[]\u003e","lastModifiedDate":"2021-01-25"},{"lineNumber":92,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  fetchEventsForRepo(): Observable\u003cany[]\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    return of([]);","lastModifiedDate":"2021-01-25"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":96,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":98,"author":{"gitId":"-"},"content":"   * Creates Fabricated Data File with Tester\u0027s Credentials.","lastModifiedDate":"2021-01-25"},{"lineNumber":99,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  fetchDataFile(): Observable\u003c{}\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    return of({","lastModifiedDate":"2021-01-25"},{"lineNumber":102,"author":{"gitId":"-"},"content":"      data: \u0027role,name,team\\n\u0027 +","lastModifiedDate":"2021-01-25"},{"lineNumber":103,"author":{"gitId":"-"},"content":"        `${AppConfig.role},${AppConfig.username},${AppConfig.team}\\n`","lastModifiedDate":"2021-01-25"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-01-25"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":106,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":108,"author":{"gitId":"-"},"content":"   * Creates a fabricated object that matches the structure of that","lastModifiedDate":"2021-01-25"},{"lineNumber":109,"author":{"gitId":"-"},"content":"   * returned by the Github API which always results in Release Comparisons","lastModifiedDate":"2021-01-25"},{"lineNumber":110,"author":{"gitId":"-"},"content":"   * to be true.","lastModifiedDate":"2021-01-25"},{"lineNumber":111,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  fetchLatestRelease(): Observable\u003cGithubRelease\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    const appSetting \u003d require(\u0027../../../../../package.json\u0027);","lastModifiedDate":"2021-01-25"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    return of({","lastModifiedDate":"2021-01-25"},{"lineNumber":115,"author":{"gitId":"-"},"content":"      html_url: `www.github.com/CATcher-org/releases/v${appSetting.version}`,","lastModifiedDate":"2021-01-25"},{"lineNumber":116,"author":{"gitId":"-"},"content":"      tag_name: `v${appSetting.version}`","lastModifiedDate":"2021-01-25"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    } as GithubRelease);","lastModifiedDate":"2021-01-25"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":119,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":121,"author":{"gitId":"-"},"content":"   * Fabricates session data in accordance with SessionData Requirements.","lastModifiedDate":"2021-01-25"},{"lineNumber":122,"author":{"gitId":"-"},"content":"   * @return Observable\u003cSessionData\u003e representing session information.","lastModifiedDate":"2021-02-08"},{"lineNumber":123,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":124,"author":{"gitId":"-"},"content":"  fetchSettingsFile(): Observable\u003cSessionData\u003e {","lastModifiedDate":"2021-02-08"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    return of({","lastModifiedDate":"2021-01-25"},{"lineNumber":126,"author":{"gitId":"-"},"content":"      openPhases : [Phase.phaseBugReporting, Phase.phaseTeamResponse, Phase.phaseTesterResponse, Phase.phaseModeration],","lastModifiedDate":"2021-01-25"},{"lineNumber":127,"author":{"gitId":"-"},"content":"      [Phase.phaseBugReporting]: \u0027undefined\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":128,"author":{"gitId":"-"},"content":"      [Phase.phaseTeamResponse]: \u0027undefined\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      [Phase.phaseTesterResponse]: \u0027undefined\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":130,"author":{"gitId":"-"},"content":"      [Phase.phaseModeration]: \u0027undefined\u0027","lastModifiedDate":"2021-01-25"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    } as SessionData);","lastModifiedDate":"2021-01-25"},{"lineNumber":132,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":133,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-01-25"},{"lineNumber":135,"author":{"gitId":"-"},"content":"   * @return Observable\u003cGithubUser\u003e representation of TestUser Credentials.","lastModifiedDate":"2021-01-25"},{"lineNumber":136,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-01-25"},{"lineNumber":137,"author":{"gitId":"-"},"content":"  fetchAuthenticatedUser(): Observable\u003cGithubUser\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":138,"author":{"gitId":"-"},"content":"    return of({","lastModifiedDate":"2021-01-25"},{"lineNumber":139,"author":{"gitId":"-"},"content":"      login: AppConfig.username,","lastModifiedDate":"2021-01-25"},{"lineNumber":140,"author":{"gitId":"-"},"content":"      name: AppConfig.username","lastModifiedDate":"2021-01-25"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    } as GithubUser);","lastModifiedDate":"2021-01-25"},{"lineNumber":142,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":143,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":144,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  getProfilesData(): Promise\u003cResponse\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":145,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    const profiles \u003d [","lastModifiedDate":"2021-04-19"},{"lineNumber":146,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      \u003cProfile\u003e{","lastModifiedDate":"2021-04-19"},{"lineNumber":147,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        profileName: \u0027CATcher\u0027,","lastModifiedDate":"2021-04-19"},{"lineNumber":148,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        encodedText: \u0027CATcher-org/public_data\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":149,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      }","lastModifiedDate":"2021-04-19"},{"lineNumber":150,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    ];","lastModifiedDate":"2021-04-19"},{"lineNumber":151,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":152,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    const mockResponse: Response \u003d { json: () \u003d\u003e Promise.resolve({ profiles: profiles }) } as Response;","lastModifiedDate":"2021-04-19"},{"lineNumber":153,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return Promise.resolve(mockResponse);","lastModifiedDate":"2021-04-19"},{"lineNumber":154,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":155,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  reset(): void {","lastModifiedDate":"2021-01-25"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    // Function currently exists to prevent errors when logout is clicked and","lastModifiedDate":"2021-01-25"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    // services reset.","lastModifiedDate":"2021-01-25"},{"lineNumber":159,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":160,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-25"}],"authorContributionMap":{"Low Jun Kai, Sean":13,"-":147}},{"path":"src/app/core/services/phase.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-02-24"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { HttpClient } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2019-02-24"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { flatMap, map, retry, tap } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2021-02-03"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Observable, of, pipe } from \u0027rxjs\u0027;","lastModifiedDate":"2021-02-03"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./github.service\u0027;","lastModifiedDate":"2019-02-24"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027./label.service\u0027;","lastModifiedDate":"2019-07-10"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { UserService } from \u0027./user.service\u0027;","lastModifiedDate":"2019-09-09"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { SessionData, assertSessionDataIntegrity } from \u0027../models/session.model\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { throwIfFalse } from \u0027../../shared/lib/custom-ops\u0027;","lastModifiedDate":"2021-02-24"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { RepoCreatorService } from \u0027./repo-creator.service\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":12,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-24"},{"lineNumber":13,"author":{"gitId":"-"},"content":"export const SESSION_AVALIABILITY_FIX_FAILED \u003d \u0027Session Availability Fix failed.\u0027;","lastModifiedDate":"2021-02-24"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-23"},{"lineNumber":15,"author":{"gitId":"-"},"content":"export const PhaseDescription \u003d {","lastModifiedDate":"2021-01-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  [Phase.phaseBugReporting]: \u0027Bug Reporting Phase\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  [Phase.phaseTeamResponse]: \u0027Team\\\u0027s Response Phase\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  [Phase.phaseTesterResponse]: \u0027Tester\\\u0027s Response Phase\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  [Phase.phaseModeration]: \u0027Moderation Phase\u0027","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2019-02-24"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027,","lastModifiedDate":"2019-02-24"},{"lineNumber":24,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-02-24"},{"lineNumber":25,"author":{"gitId":"-"},"content":"export class PhaseService {","lastModifiedDate":"2019-02-24"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  public currentPhase: Phase;","lastModifiedDate":"2019-02-26"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  private repoName: string;","lastModifiedDate":"2019-05-17"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  private orgName: string;","lastModifiedDate":"2019-05-17"},{"lineNumber":30,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-23"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  public sessionData: SessionData;","lastModifiedDate":"2019-07-10"},{"lineNumber":32,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  private phaseRepoOwners \u003d {","lastModifiedDate":"2019-07-10"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    phaseBugReporting: \u0027\u0027,","lastModifiedDate":"2019-07-23"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    phaseTeamResponse: \u0027\u0027,","lastModifiedDate":"2019-07-23"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    phaseTesterResponse: \u0027\u0027,","lastModifiedDate":"2019-07-20"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    phaseModeration: \u0027\u0027","lastModifiedDate":"2019-07-23"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  };","lastModifiedDate":"2019-07-10"},{"lineNumber":39,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  constructor(private http: HttpClient,","lastModifiedDate":"2019-07-10"},{"lineNumber":41,"author":{"gitId":"-"},"content":"              private githubService: GithubService,","lastModifiedDate":"2019-07-10"},{"lineNumber":42,"author":{"gitId":"-"},"content":"              private labelService: LabelService,","lastModifiedDate":"2019-09-09"},{"lineNumber":43,"author":{"gitId":"-"},"content":"              private userService: UserService,","lastModifiedDate":"2019-09-09"},{"lineNumber":44,"author":{"gitId":"Low Jun Kai, Sean"},"content":"              private repoCreatorService: RepoCreatorService) {}","lastModifiedDate":"2021-04-05"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":46,"author":{"gitId":"-"},"content":"   * Stores the location of the repositories belonging to","lastModifiedDate":"2019-07-10"},{"lineNumber":47,"author":{"gitId":"-"},"content":"   * each phase of the application.","lastModifiedDate":"2019-07-10"},{"lineNumber":48,"author":{"gitId":"-"},"content":"   * @param org - name of organization.","lastModifiedDate":"2019-07-10"},{"lineNumber":49,"author":{"gitId":"-"},"content":"   * @param user - name of user.","lastModifiedDate":"2019-07-10"},{"lineNumber":50,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  setPhaseOwners(org: string, user: string): void {","lastModifiedDate":"2019-07-10"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    this.orgName \u003d org;","lastModifiedDate":"2019-07-10"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    this.phaseRepoOwners.phaseBugReporting \u003d user;","lastModifiedDate":"2019-07-23"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    this.phaseRepoOwners.phaseTeamResponse \u003d org;","lastModifiedDate":"2019-07-23"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    this.phaseRepoOwners.phaseTesterResponse \u003d user;","lastModifiedDate":"2019-07-20"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.phaseRepoOwners.phaseModeration \u003d org;","lastModifiedDate":"2019-07-23"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-24"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":60,"author":{"gitId":"-"},"content":"   * Returns the name of the owner of a given phase.","lastModifiedDate":"2019-07-10"},{"lineNumber":61,"author":{"gitId":"-"},"content":"   * @param phase","lastModifiedDate":"2019-07-10"},{"lineNumber":62,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  getPhaseOwner(phase: string): string {","lastModifiedDate":"2019-07-10"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    return this.phaseRepoOwners[phase];","lastModifiedDate":"2019-07-10"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":66,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  fetchSessionData(): Observable\u003cSessionData\u003e {","lastModifiedDate":"2019-07-10"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    return this.githubService.fetchSettingsFile().pipe(","lastModifiedDate":"2019-07-10"},{"lineNumber":69,"author":{"gitId":"-"},"content":"      map(data \u003d\u003e data as SessionData)","lastModifiedDate":"2019-07-10"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-02-24"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-24"},{"lineNumber":72,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-03-04"},{"lineNumber":74,"author":{"gitId":"-"},"content":"   * Will fetch session data and update phase service with it.","lastModifiedDate":"2020-03-04"},{"lineNumber":75,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-03-04"},{"lineNumber":76,"author":{"gitId":"Dylan Ghee"},"content":"  storeSessionData(): Observable\u003cvoid\u003e {","lastModifiedDate":"2021-07-04"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    return this.fetchSessionData().pipe(","lastModifiedDate":"2020-03-04"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      assertSessionDataIntegrity(),","lastModifiedDate":"2020-10-07"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      map((sessionData: SessionData) \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":80,"author":{"gitId":"-"},"content":"        this.updateSessionParameters(sessionData);","lastModifiedDate":"2020-03-04"},{"lineNumber":81,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-03-04"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-03-04"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-03-04"},{"lineNumber":84,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-03-04"},{"lineNumber":86,"author":{"gitId":"-"},"content":"   * Determines the github\u0027s level of repo permission required for the phase.","lastModifiedDate":"2020-03-04"},{"lineNumber":87,"author":{"gitId":"-"},"content":"   * Ref: https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/#available-scopes","lastModifiedDate":"2020-03-04"},{"lineNumber":88,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-03-04"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  githubRepoPermissionLevel(): string {","lastModifiedDate":"2020-03-04"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    if (this.sessionData.openPhases.includes(Phase.phaseModeration)) {","lastModifiedDate":"2020-03-04"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      return \u0027repo\u0027;","lastModifiedDate":"2020-03-04"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2020-03-04"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      return \u0027public_repo\u0027;","lastModifiedDate":"2020-03-04"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-03-04"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-03-04"},{"lineNumber":96,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-09-09"},{"lineNumber":98,"author":{"gitId":"-"},"content":"   * Checks if the necessary repository is available and creates it if the permissions are available.","lastModifiedDate":"2019-09-09"},{"lineNumber":99,"author":{"gitId":"-"},"content":"   * @param sessionData","lastModifiedDate":"2019-09-09"},{"lineNumber":100,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-09-09"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  verifySessionAvailability(sessionData: SessionData): Observable\u003cboolean\u003e {","lastModifiedDate":"2019-09-09"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    return this.githubService.isRepositoryPresent(this.phaseRepoOwners[this.currentPhase], sessionData[this.currentPhase]);","lastModifiedDate":"2019-09-09"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-09-09"},{"lineNumber":104,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-09-09"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":106,"author":{"gitId":"-"},"content":"   * Stores session data and sets current session\u0027s phase.","lastModifiedDate":"2019-07-10"},{"lineNumber":107,"author":{"gitId":"-"},"content":"   * @param sessionData","lastModifiedDate":"2019-07-10"},{"lineNumber":108,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  updateSessionParameters(sessionData: SessionData) {","lastModifiedDate":"2019-07-10"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    this.sessionData \u003d sessionData;","lastModifiedDate":"2019-07-10"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    this.currentPhase \u003d Phase[sessionData.openPhases[0]];","lastModifiedDate":"2019-07-10"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    this.repoName \u003d sessionData[sessionData.openPhases[0]];","lastModifiedDate":"2019-07-10"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    this.githubService.storePhaseDetails(this.phaseRepoOwners[this.currentPhase], this.repoName);","lastModifiedDate":"2019-07-10"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":115,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-09-09"},{"lineNumber":117,"author":{"gitId":"-"},"content":"   * Ensures that the necessary data for the current session is available","lastModifiedDate":"2019-09-09"},{"lineNumber":118,"author":{"gitId":"-"},"content":"   * and synchronized with the remote server.","lastModifiedDate":"2019-09-09"},{"lineNumber":119,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-09-09"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  sessionSetup(): Observable\u003cany\u003e {","lastModifiedDate":"2019-07-10"},{"lineNumber":121,"author":{"gitId":"-"},"content":"    // Permission Caching Mechanism to prevent repeating permission request.","lastModifiedDate":"2021-02-03"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    let isSessionFixPermissionGranted \u003d false;","lastModifiedDate":"2021-02-03"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    const cacheSessionFixPermission \u003d () \u003d\u003e {","lastModifiedDate":"2021-02-03"},{"lineNumber":124,"author":{"gitId":"-"},"content":"      return pipe(","lastModifiedDate":"2021-02-03"},{"lineNumber":125,"author":{"gitId":"-"},"content":"        tap((sessionFixPermission: boolean | null) \u003d\u003e {","lastModifiedDate":"2021-02-03"},{"lineNumber":126,"author":{"gitId":"-"},"content":"          isSessionFixPermissionGranted \u003d sessionFixPermission ? sessionFixPermission : false;","lastModifiedDate":"2021-02-03"},{"lineNumber":127,"author":{"gitId":"-"},"content":"        })","lastModifiedDate":"2021-02-03"},{"lineNumber":128,"author":{"gitId":"-"},"content":"      );","lastModifiedDate":"2021-02-03"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2021-02-03"},{"lineNumber":130,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-03"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    return this.fetchSessionData().pipe(","lastModifiedDate":"2019-07-10"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      assertSessionDataIntegrity(),","lastModifiedDate":"2020-10-07"},{"lineNumber":133,"author":{"gitId":"-"},"content":"      flatMap((sessionData: SessionData) \u003d\u003e {","lastModifiedDate":"2019-07-10"},{"lineNumber":134,"author":{"gitId":"-"},"content":"        this.updateSessionParameters(sessionData);","lastModifiedDate":"2019-07-10"},{"lineNumber":135,"author":{"gitId":"-"},"content":"        return this.verifySessionAvailability(sessionData);","lastModifiedDate":"2019-09-09"},{"lineNumber":136,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2019-09-09"},{"lineNumber":137,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      this.repoCreatorService.requestRepoCreationPermissions(this.currentPhase, this.sessionData[this.currentPhase]),","lastModifiedDate":"2021-04-05"},{"lineNumber":138,"author":{"gitId":"-"},"content":"      cacheSessionFixPermission(),","lastModifiedDate":"2021-02-03"},{"lineNumber":139,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      this.repoCreatorService.verifyRepoCreationPermissions(this.currentPhase),","lastModifiedDate":"2021-03-24"},{"lineNumber":140,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      this.repoCreatorService.attemptRepoCreation(this.sessionData[this.currentPhase]),","lastModifiedDate":"2021-03-24"},{"lineNumber":141,"author":{"gitId":"-"},"content":"      this.repoCreatorService.verifyRepoCreation(this.getPhaseOwner(this.currentPhase), this.sessionData[this.currentPhase]),","lastModifiedDate":"2021-03-08"},{"lineNumber":142,"author":{"gitId":"-"},"content":"      throwIfFalse(","lastModifiedDate":"2021-02-24"},{"lineNumber":143,"author":{"gitId":"-"},"content":"        (isSessionCreated: boolean) \u003d\u003e isSessionCreated,","lastModifiedDate":"2021-02-24"},{"lineNumber":144,"author":{"gitId":"-"},"content":"        () \u003d\u003e new Error(SESSION_AVALIABILITY_FIX_FAILED)),","lastModifiedDate":"2021-02-24"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      this.labelService.syncLabels(),","lastModifiedDate":"2021-02-24"},{"lineNumber":146,"author":{"gitId":"-"},"content":"      retry(1)  // Retry once, to handle edge case where GitHub API cannot immediately confirm existence of the newly created repo.","lastModifiedDate":"2021-02-03"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-07-10"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-17"},{"lineNumber":149,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-17"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  public getPhaseDetail() {","lastModifiedDate":"2019-05-17"},{"lineNumber":151,"author":{"gitId":"-"},"content":"    return this.orgName.concat(\u0027/\u0027).concat(this.repoName);","lastModifiedDate":"2019-05-17"},{"lineNumber":152,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-17"},{"lineNumber":153,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-17"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  reset() {","lastModifiedDate":"2019-02-25"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    this.currentPhase \u003d null;","lastModifiedDate":"2019-02-26"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-24"},{"lineNumber":157,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-24"},{"lineNumber":158,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-02-24"}],"authorContributionMap":{"Low Jun Kai, Sean":4,"Dylan Ghee":1,"-":153}},{"path":"src/app/core/services/profile.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":2,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { isValidProfile, Profile } from \u0027../models/profile.model\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":3,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { GithubService } from \u0027./github.service\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export const MALFORMED_PROFILES_ERROR: Error \u003d new Error(\u0027profiles.json is malformed\u0027);","lastModifiedDate":"2021-04-19"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":7,"author":{"gitId":"Low Jun Kai, Sean"},"content":"@Injectable({","lastModifiedDate":"2021-04-19"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  providedIn: \u0027root\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":9,"author":{"gitId":"Low Jun Kai, Sean"},"content":"})","lastModifiedDate":"2021-04-19"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export class ProfileService {","lastModifiedDate":"2021-04-19"},{"lineNumber":11,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  constructor(","lastModifiedDate":"2021-04-19"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    private githubService: GithubService","lastModifiedDate":"2021-04-19"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  ) { }","lastModifiedDate":"2021-04-19"},{"lineNumber":14,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":15,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  /**","lastModifiedDate":"2021-04-19"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * Gets the required profiles from the external repository file.","lastModifiedDate":"2021-04-19"},{"lineNumber":17,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   */","lastModifiedDate":"2021-04-19"},{"lineNumber":18,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public fetchExternalProfiles(): Promise\u003cProfile[]\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":19,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return this.githubService.getProfilesData()","lastModifiedDate":"2021-04-19"},{"lineNumber":20,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      .then(res \u003d\u003e res.json())","lastModifiedDate":"2021-04-19"},{"lineNumber":21,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      .then(json \u003d\u003e json.profiles || [])","lastModifiedDate":"2021-04-19"},{"lineNumber":22,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      .then(profiles \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":23,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        this.validateProfiles(profiles);","lastModifiedDate":"2021-04-19"},{"lineNumber":24,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        return profiles;","lastModifiedDate":"2021-04-19"},{"lineNumber":25,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      });","lastModifiedDate":"2021-04-19"},{"lineNumber":26,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":27,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":28,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  /**","lastModifiedDate":"2021-04-19"},{"lineNumber":29,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * Checks if the profiles supplied are valid. If not,","lastModifiedDate":"2021-04-19"},{"lineNumber":30,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * throw an error.","lastModifiedDate":"2021-04-19"},{"lineNumber":31,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @param profiles the profiles supplied.","lastModifiedDate":"2021-04-19"},{"lineNumber":32,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   */","lastModifiedDate":"2021-04-19"},{"lineNumber":33,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public validateProfiles(profiles: any): void {","lastModifiedDate":"2021-04-19"},{"lineNumber":34,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    if (!profiles.every(isValidProfile)) {","lastModifiedDate":"2021-04-19"},{"lineNumber":35,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      throw MALFORMED_PROFILES_ERROR;","lastModifiedDate":"2021-04-19"},{"lineNumber":36,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    }","lastModifiedDate":"2021-04-19"},{"lineNumber":37,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":38,"author":{"gitId":"Low Jun Kai, Sean"},"content":"}","lastModifiedDate":"2021-04-19"}],"authorContributionMap":{"Low Jun Kai, Sean":38}},{"path":"src/app/core/services/repo-creator.service.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Injectable } from \u0027@angular/core\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":2,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { flatMap, tap } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Observable, of, pipe, UnaryFunction } from \u0027rxjs\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027./github.service\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { UserService } from \u0027./user.service\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { Phase } from \u0027../models/phase.model\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":7,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { MatDialog, MatDialogRef } from \u0027@angular/material\u0027;","lastModifiedDate":"2021-04-05"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { SessionFixConfirmationComponent } from \u0027./session-fix-confirmation/session-fix-confirmation.component\u0027;","lastModifiedDate":"2021-04-05"},{"lineNumber":9,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { UserRole } from \u0027../models/user.model\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":11,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export const MISSING_REQUIRED_REPO \u003d \u0027You cannot proceed without the required repository.\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export const CURRENT_PHASE_REPO_CLOSED \u003d \u0027Current Phase\\\u0027s Repository has not been opened.\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export const BUG_REPORTING_INVALID_ROLE \u003d","lastModifiedDate":"2021-03-24"},{"lineNumber":14,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  \"\u0027Bug-Reporting Phase\\\u0027s repository initialisation is only available to Students.\u0027\";","lastModifiedDate":"2021-03-24"},{"lineNumber":15,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":17,"author":{"gitId":"-"},"content":"@Injectable({","lastModifiedDate":"2021-03-08"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  providedIn: \u0027root\u0027,","lastModifiedDate":"2021-03-08"},{"lineNumber":19,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2021-03-08"},{"lineNumber":20,"author":{"gitId":"-"},"content":"export class RepoCreatorService {","lastModifiedDate":"2021-03-08"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  constructor(","lastModifiedDate":"2021-03-08"},{"lineNumber":22,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    private githubService: GithubService,","lastModifiedDate":"2021-03-24"},{"lineNumber":23,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    private userService: UserService,","lastModifiedDate":"2021-04-05"},{"lineNumber":24,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    private repoCreationConfirmationDialog: MatDialog","lastModifiedDate":"2021-04-05"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  ) {}","lastModifiedDate":"2021-03-08"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":27,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  /**","lastModifiedDate":"2021-04-05"},{"lineNumber":28,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * Prompts user to allow CATcher to create a repo, if repo does not","lastModifiedDate":"2021-04-05"},{"lineNumber":29,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * exist and current phase is the bug reporting phase.","lastModifiedDate":"2021-04-05"},{"lineNumber":30,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @param currentPhase the current phase of the session.","lastModifiedDate":"2021-04-05"},{"lineNumber":31,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @param phaseRepo the name of the specified repository.","lastModifiedDate":"2021-04-05"},{"lineNumber":32,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   */","lastModifiedDate":"2021-04-05"},{"lineNumber":33,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public requestRepoCreationPermissions(currentPhase: Phase, phaseRepo: string):","lastModifiedDate":"2021-04-05"},{"lineNumber":34,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    UnaryFunction\u003cObservable\u003cboolean\u003e, Observable\u003cboolean | null\u003e\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":35,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return pipe(","lastModifiedDate":"2021-04-05"},{"lineNumber":36,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      flatMap((isRepoPresent: boolean) \u003d\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":37,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        if (!isRepoPresent \u0026\u0026 currentPhase \u003d\u003d\u003d Phase.phaseBugReporting) {","lastModifiedDate":"2021-04-05"},{"lineNumber":38,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          return this.openRepoCreationConfirmation(phaseRepo);","lastModifiedDate":"2021-04-05"},{"lineNumber":39,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        } else {","lastModifiedDate":"2021-04-05"},{"lineNumber":40,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          return of(null);","lastModifiedDate":"2021-04-05"},{"lineNumber":41,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        }","lastModifiedDate":"2021-04-05"},{"lineNumber":42,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      })","lastModifiedDate":"2021-04-05"},{"lineNumber":43,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    );","lastModifiedDate":"2021-04-05"},{"lineNumber":44,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-05"},{"lineNumber":45,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":46,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  /**","lastModifiedDate":"2021-04-05"},{"lineNumber":47,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * Launches the SessionFixConfirmation Dialog.","lastModifiedDate":"2021-04-05"},{"lineNumber":48,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @param phaseRepo the name of the specified repository.","lastModifiedDate":"2021-04-05"},{"lineNumber":49,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @return Observable\u003cboolean\u003e - Representing user\u0027s permission grant.","lastModifiedDate":"2021-04-05"},{"lineNumber":50,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   */","lastModifiedDate":"2021-04-05"},{"lineNumber":51,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  private openRepoCreationConfirmation(phaseRepo: string): Observable\u003cboolean\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":52,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    const dialogRef: MatDialogRef\u003cSessionFixConfirmationComponent\u003e \u003d","lastModifiedDate":"2021-04-05"},{"lineNumber":53,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    this.repoCreationConfirmationDialog.open(SessionFixConfirmationComponent, {","lastModifiedDate":"2021-04-05"},{"lineNumber":54,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      data: {user: this.userService.currentUser.loginId, repoName: phaseRepo}","lastModifiedDate":"2021-04-05"},{"lineNumber":55,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-05"},{"lineNumber":56,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return dialogRef.afterClosed();","lastModifiedDate":"2021-04-05"},{"lineNumber":57,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-05"},{"lineNumber":58,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":59,"author":{"gitId":"Low Jun Kai, Sean"},"content":" /**","lastModifiedDate":"2021-03-24"},{"lineNumber":60,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  * Checks if the current phase and current user role match the given permissions","lastModifiedDate":"2021-03-24"},{"lineNumber":61,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  * for the user to create the phase repository if deemed necessary","lastModifiedDate":"2021-03-24"},{"lineNumber":62,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  * @param currentPhase the current phase of the session.","lastModifiedDate":"2021-03-24"},{"lineNumber":63,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  */","lastModifiedDate":"2021-03-24"},{"lineNumber":64,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public verifyRepoCreationPermissions(currentPhase: Phase):","lastModifiedDate":"2021-03-24"},{"lineNumber":65,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    UnaryFunction\u003cObservable\u003cboolean | null\u003e, Observable\u003cboolean | null\u003e\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":66,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return pipe(","lastModifiedDate":"2021-03-24"},{"lineNumber":67,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      tap((repoCreationPermission: boolean | null) \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":68,"author":{"gitId":"ptvrajsk"},"content":"        if (repoCreationPermission \u003d\u003d\u003d null) {","lastModifiedDate":"2021-04-25"},{"lineNumber":69,"author":{"gitId":"ptvrajsk"},"content":"          return;","lastModifiedDate":"2021-04-25"},{"lineNumber":70,"author":{"gitId":"ptvrajsk"},"content":"        }","lastModifiedDate":"2021-04-25"},{"lineNumber":71,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-04-25"},{"lineNumber":72,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        if (repoCreationPermission \u003d\u003d\u003d false) {","lastModifiedDate":"2021-03-24"},{"lineNumber":73,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          throw new Error(MISSING_REQUIRED_REPO);","lastModifiedDate":"2021-03-24"},{"lineNumber":74,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        } else if (currentPhase !\u003d\u003d Phase.phaseBugReporting) {","lastModifiedDate":"2021-03-24"},{"lineNumber":75,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          throw new Error(CURRENT_PHASE_REPO_CLOSED);","lastModifiedDate":"2021-03-24"},{"lineNumber":76,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        } else if (this.userService.currentUser.role !\u003d\u003d UserRole.Student) {","lastModifiedDate":"2021-03-24"},{"lineNumber":77,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          throw new Error(BUG_REPORTING_INVALID_ROLE);","lastModifiedDate":"2021-03-24"},{"lineNumber":78,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        }","lastModifiedDate":"2021-03-24"},{"lineNumber":79,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      })","lastModifiedDate":"2021-03-24"},{"lineNumber":80,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    );","lastModifiedDate":"2021-03-24"},{"lineNumber":81,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-03-24"},{"lineNumber":82,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":83,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  /**","lastModifiedDate":"2021-03-24"},{"lineNumber":84,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * Attempts to create the repository if permissions have been given to do so.","lastModifiedDate":"2021-03-24"},{"lineNumber":85,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @param phaseRepo the name of the specified repository.","lastModifiedDate":"2021-03-24"},{"lineNumber":86,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   * @return - Dummy Observable to give the API sometime to propagate if the creation of the new","lastModifiedDate":"2021-03-24"},{"lineNumber":87,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   *           repository is needed since the API Call used here does not return any response.","lastModifiedDate":"2021-03-24"},{"lineNumber":88,"author":{"gitId":"Low Jun Kai, Sean"},"content":"   */","lastModifiedDate":"2021-03-24"},{"lineNumber":89,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public attemptRepoCreation(phaseRepo: string):","lastModifiedDate":"2021-03-24"},{"lineNumber":90,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    UnaryFunction\u003cObservable\u003cboolean | null\u003e, Observable\u003cboolean | null\u003e\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":91,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return pipe(","lastModifiedDate":"2021-03-24"},{"lineNumber":92,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      flatMap((repoCreationPermission: boolean | null) \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":93,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        if (repoCreationPermission \u003d\u003d\u003d null) {","lastModifiedDate":"2021-03-24"},{"lineNumber":94,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          // No Session Fix Necessary","lastModifiedDate":"2021-03-24"},{"lineNumber":95,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          return of(null);","lastModifiedDate":"2021-03-24"},{"lineNumber":96,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        } else {","lastModifiedDate":"2021-03-24"},{"lineNumber":97,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          this.githubService.createRepository(phaseRepo);","lastModifiedDate":"2021-03-24"},{"lineNumber":98,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          return new Observable(subscriber \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":99,"author":{"gitId":"Low Jun Kai, Sean"},"content":"            setTimeout(() \u003d\u003e subscriber.next(true), 1000);","lastModifiedDate":"2021-03-24"},{"lineNumber":100,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          });","lastModifiedDate":"2021-03-24"},{"lineNumber":101,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        }","lastModifiedDate":"2021-03-24"},{"lineNumber":102,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      })","lastModifiedDate":"2021-03-24"},{"lineNumber":103,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    );","lastModifiedDate":"2021-03-24"},{"lineNumber":104,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-03-24"},{"lineNumber":105,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2021-03-08"},{"lineNumber":107,"author":{"gitId":"-"},"content":"   * Checks if the specified repository has been created.","lastModifiedDate":"2021-03-08"},{"lineNumber":108,"author":{"gitId":"-"},"content":"   * @param phaseOwner the user or organization holding the specified repository.","lastModifiedDate":"2021-03-08"},{"lineNumber":109,"author":{"gitId":"-"},"content":"   * @param phaseRepo the name of the specified repository.","lastModifiedDate":"2021-03-08"},{"lineNumber":110,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2021-03-08"},{"lineNumber":111,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  public verifyRepoCreation(phaseOwner: string, phaseRepo: string):","lastModifiedDate":"2021-03-24"},{"lineNumber":112,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    UnaryFunction\u003cObservable\u003cboolean | null\u003e, Observable\u003cboolean\u003e\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    return pipe(","lastModifiedDate":"2021-03-08"},{"lineNumber":114,"author":{"gitId":"-"},"content":"      flatMap((isFixAttempted: boolean | null) \u003d\u003e {","lastModifiedDate":"2021-03-08"},{"lineNumber":115,"author":{"gitId":"-"},"content":"        if (!isFixAttempted) {","lastModifiedDate":"2021-03-08"},{"lineNumber":116,"author":{"gitId":"-"},"content":"          // If no fix has been attempted, there is no need to verify fix outcome.","lastModifiedDate":"2021-03-08"},{"lineNumber":117,"author":{"gitId":"-"},"content":"          return of(true);","lastModifiedDate":"2021-03-08"},{"lineNumber":118,"author":{"gitId":"-"},"content":"        } else {","lastModifiedDate":"2021-03-08"},{"lineNumber":119,"author":{"gitId":"-"},"content":"          // Verify that Repository has been created if a fix attempt has occurred.","lastModifiedDate":"2021-03-08"},{"lineNumber":120,"author":{"gitId":"-"},"content":"          return this.githubService.isRepositoryPresent(phaseOwner, phaseRepo);","lastModifiedDate":"2021-03-08"},{"lineNumber":121,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2021-03-08"},{"lineNumber":122,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2021-03-08"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2021-03-08"},{"lineNumber":124,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-03-08"},{"lineNumber":125,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-03-08"}],"authorContributionMap":{"Low Jun Kai, Sean":92,"ptvrajsk":4,"-":29}},{"path":"src/app/core/services/session-fix-confirmation/session-fix-confirmation.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003ch1 mat-dialog-title\u003eHi {{ data.user }}\u003c/h1\u003e","lastModifiedDate":"2019-09-09"},{"lineNumber":2,"author":{"gitId":"-"},"content":"\u003cdiv mat-dialog-content\u003e","lastModifiedDate":"2019-09-09"},{"lineNumber":3,"author":{"gitId":"-"},"content":"  \u003cp\u003eDo you want CATcher to create a repository named \"{{ data.repoName }}\"\u003c/p\u003e","lastModifiedDate":"2019-09-09"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \u003cp\u003ein your Github Account?\u003c/p\u003e","lastModifiedDate":"2019-09-09"},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003c/div\u003e","lastModifiedDate":"2019-09-09"},{"lineNumber":6,"author":{"gitId":"-"},"content":"\u003cdiv mat-dialog-actions\u003e","lastModifiedDate":"2019-09-09"},{"lineNumber":7,"author":{"gitId":"Kang Su Min"},"content":"  \u003cbutton mat-button mat-raised-button color\u003d\"warn\" [mat-dialog-close]\u003d\"false\"\u003eNo Thanks\u003c/button\u003e","lastModifiedDate":"2021-04-10"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  \u003cbutton mat-button mat-raised-button color\u003d\"primary\" [mat-dialog-close]\u003d\"true\" cdkFocusInitial\u003eYes\u003c/button\u003e","lastModifiedDate":"2019-09-25"},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003c/div\u003e","lastModifiedDate":"2019-09-09"}],"authorContributionMap":{"Kang Su Min":1,"-":8}},{"path":"src/app/phase-bug-reporting/new-issue/new-issue.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003ch1 class\u003d\"mat-display-1 title\"\u003eNew Issue\u003c/h1\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":2,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cform [formGroup]\u003d\"newIssueForm\" #myForm\u003d\"ngForm\" (ngSubmit)\u003d\"submitNewIssue(myForm)\"\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \u003cdiv class\u003d\"form\"\u003e","lastModifiedDate":"2019-01-24"},{"lineNumber":5,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-15"},{"lineNumber":6,"author":{"gitId":"-"},"content":"    \u003cdiv class\u003d\"row\"\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":7,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-15"},{"lineNumber":8,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"column left\"\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":9,"author":{"gitId":"-"},"content":"        \u003cmat-form-field\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":10,"author":{"gitId":"-"},"content":"          \u003cinput id\u003d\"title\" formControlName\u003d\"title\" matInput placeholder\u003d\"Title\" required\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":11,"author":{"gitId":"-"},"content":"          \u003cmat-error *ngIf\u003d\"title.errors \u0026\u0026 title.errors[\u0027required\u0027] \u0026\u0026 title.touched\"\u003e","lastModifiedDate":"2019-01-22"},{"lineNumber":12,"author":{"gitId":"-"},"content":"            Title required.","lastModifiedDate":"2019-01-22"},{"lineNumber":13,"author":{"gitId":"-"},"content":"          \u003c/mat-error\u003e","lastModifiedDate":"2019-01-22"},{"lineNumber":14,"author":{"gitId":"-"},"content":"        \u003c/mat-form-field\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":15,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":16,"author":{"gitId":"-"},"content":"        \u003cdiv style\u003d\"margin: 10px 0 10px 0;\"\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":17,"author":{"gitId":"-"},"content":"          \u003capp-comment-editor","lastModifiedDate":"2019-10-22"},{"lineNumber":18,"author":{"gitId":"-"},"content":"            [id]\u003d\"\u0027description\u0027\"","lastModifiedDate":"2019-10-22"},{"lineNumber":19,"author":{"gitId":"-"},"content":"            [commentField]\u003d\"description\"","lastModifiedDate":"2019-10-22"},{"lineNumber":20,"author":{"gitId":"-"},"content":"            [commentForm]\u003d\"this.newIssueForm\"","lastModifiedDate":"2019-10-22"},{"lineNumber":21,"author":{"gitId":"-"},"content":"            [(isFormPending)]\u003d\"this.isFormPending\"","lastModifiedDate":"2019-10-22"},{"lineNumber":22,"author":{"gitId":"-"},"content":"            [(submitButtonText)]\u003d\"this.submitButtonText\"\u003e","lastModifiedDate":"2019-10-22"},{"lineNumber":23,"author":{"gitId":"-"},"content":"          \u003c/app-comment-editor\u003e","lastModifiedDate":"2019-10-22"},{"lineNumber":24,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-15"},{"lineNumber":26,"author":{"gitId":"ptvrajsk"},"content":"        \u003cbutton style\u003d\"float: right\" class\u003d\"submit-new-bug-report\" type\u003d\"submit\" mat-stroked-button color\u003d\"primary\"","lastModifiedDate":"2021-03-31"},{"lineNumber":27,"author":{"gitId":"-"},"content":"          [disabled]\u003d\"!newIssueForm.valid || isFormPending\"\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":28,"author":{"gitId":"-"},"content":"          {{ this.submitButtonText }}","lastModifiedDate":"2019-10-22"},{"lineNumber":29,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-15"},{"lineNumber":32,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"column right\"\u003e","lastModifiedDate":"2019-05-15"},{"lineNumber":33,"author":{"gitId":"ptvrajsk"},"content":"        \u003cdiv class\u003d\"severity-dropdown\"\u003e\u003capp-label-dropdown initialValue\u003d\"\" attributeName\u003d\"severity\" [dropdownForm]\u003d\"newIssueForm\"\u003e\u003c/app-label-dropdown\u003e\u003c/div\u003e","lastModifiedDate":"2021-03-31"},{"lineNumber":34,"author":{"gitId":"ptvrajsk"},"content":"        \u003cdiv class\u003d\"bug-dropdown\"\u003e\u003capp-label-dropdown initialValue\u003d\"\" attributeName\u003d\"type\" [dropdownForm]\u003d\"newIssueForm\"\u003e\u003c/app-label-dropdown\u003e\u003c/div\u003e","lastModifiedDate":"2021-03-31"},{"lineNumber":35,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2019-01-24"},{"lineNumber":36,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","lastModifiedDate":"2019-02-01"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","lastModifiedDate":"2019-01-22"},{"lineNumber":40,"author":{"gitId":"-"},"content":"\u003c/form\u003e","lastModifiedDate":"2019-01-21"}],"authorContributionMap":{"ptvrajsk":3,"-":37}},{"path":"src/app/phase-bug-reporting/new-issue/new-issue.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, OnInit } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../core/models/issue.model\u0027;","lastModifiedDate":"2020-02-28"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { FormBuilder, FormGroup, NgForm, Validators } from \u0027@angular/forms\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","lastModifiedDate":"2019-01-21"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { Router } from \u0027@angular/router\u0027;","lastModifiedDate":"2019-02-01"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { finalize } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2019-02-04"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../core/services/label.service\u0027;","lastModifiedDate":"2019-05-22"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { SUBMIT_BUTTON_TEXT } from \u0027../../shared/view-issue/view-issue.component\u0027;","lastModifiedDate":"2019-10-22"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":11,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-01-21"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  selector: \u0027app-new-issue\u0027,","lastModifiedDate":"2019-01-21"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./new-issue.component.html\u0027,","lastModifiedDate":"2019-01-21"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./new-issue.component.css\u0027]","lastModifiedDate":"2019-01-21"},{"lineNumber":15,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-21"},{"lineNumber":16,"author":{"gitId":"-"},"content":"export class NewIssueComponent implements OnInit {","lastModifiedDate":"2019-01-21"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  newIssueForm: FormGroup;","lastModifiedDate":"2019-01-21"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  isFormPending \u003d false;","lastModifiedDate":"2019-02-04"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  submitButtonText: string;","lastModifiedDate":"2019-10-22"},{"lineNumber":21,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  constructor(private issueService: IssueService, private formBuilder: FormBuilder,","lastModifiedDate":"2019-02-01"},{"lineNumber":23,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService, public labelService: LabelService,","lastModifiedDate":"2019-06-11"},{"lineNumber":24,"author":{"gitId":"-"},"content":"              private router: Router) { }","lastModifiedDate":"2019-02-01"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2019-01-21"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    this.newIssueForm \u003d this.formBuilder.group({","lastModifiedDate":"2019-01-21"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      title: [\u0027\u0027, Validators.required],","lastModifiedDate":"2019-01-21"},{"lineNumber":29,"author":{"gitId":"Audrey Felicio Anwar"},"content":"      description: [\u0027\u0027],","lastModifiedDate":"2021-06-24"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      severity: [\u0027\u0027, Validators.required],","lastModifiedDate":"2019-01-21"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      type: [\u0027\u0027, Validators.required],","lastModifiedDate":"2019-01-21"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-01-21"},{"lineNumber":33,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    this.submitButtonText \u003d SUBMIT_BUTTON_TEXT.SUBMIT;","lastModifiedDate":"2019-10-22"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":36,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  submitNewIssue(form: NgForm) {","lastModifiedDate":"2019-01-21"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    if (this.newIssueForm.invalid) {","lastModifiedDate":"2019-01-21"},{"lineNumber":39,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2019-01-21"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-21"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    this.isFormPending \u003d true;","lastModifiedDate":"2019-02-04"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    this.issueService.createIssue(this.title.value,","lastModifiedDate":"2020-02-28"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      Issue.updateDescription(this.description.value),","lastModifiedDate":"2020-02-28"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      this.severity.value, this.type.value).pipe(finalize(() \u003d\u003e this.isFormPending \u003d false))","lastModifiedDate":"2019-02-04"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      .subscribe(","lastModifiedDate":"2019-02-04"},{"lineNumber":46,"author":{"gitId":"-"},"content":"        newIssue \u003d\u003e {","lastModifiedDate":"2019-02-04"},{"lineNumber":47,"author":{"gitId":"-"},"content":"          this.issueService.updateLocalStore(newIssue);","lastModifiedDate":"2019-01-21"},{"lineNumber":48,"author":{"gitId":"-"},"content":"          this.router.navigateByUrl(`phaseBugReporting/issues/${newIssue.id}`);","lastModifiedDate":"2019-07-23"},{"lineNumber":49,"author":{"gitId":"-"},"content":"          form.resetForm();","lastModifiedDate":"2019-01-21"},{"lineNumber":50,"author":{"gitId":"-"},"content":"          },","lastModifiedDate":"2019-02-04"},{"lineNumber":51,"author":{"gitId":"-"},"content":"          error \u003d\u003e {","lastModifiedDate":"2019-02-04"},{"lineNumber":52,"author":{"gitId":"-"},"content":"          this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":53,"author":{"gitId":"-"},"content":"        });","lastModifiedDate":"2019-01-21"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":55,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  get title() {","lastModifiedDate":"2019-01-21"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    return this.newIssueForm.get(\u0027title\u0027);","lastModifiedDate":"2019-01-22"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":59,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  get description() {","lastModifiedDate":"2019-01-21"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    return this.newIssueForm.get(\u0027description\u0027);","lastModifiedDate":"2019-01-22"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":63,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":64,"author":{"gitId":"-"},"content":"  get severity() {","lastModifiedDate":"2019-01-21"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    return this.newIssueForm.get(\u0027severity\u0027);","lastModifiedDate":"2019-01-22"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":67,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-21"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  get type() {","lastModifiedDate":"2019-01-21"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    return this.newIssueForm.get(\u0027type\u0027);","lastModifiedDate":"2019-01-22"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-21"},{"lineNumber":71,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-21"}],"authorContributionMap":{"Audrey Felicio Anwar":1,"-":70}},{"path":"src/app/phase-bug-reporting/phase-bug-reporting.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cdiv\u003e","lastModifiedDate":"2019-01-19"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \u003cmat-grid-list cols\u003d\"3\" rowHeight\u003d\"80px\"\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":3,"author":{"gitId":"-"},"content":"    \u003cmat-grid-tile\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":4,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"grid-flush-left\"\u003e \u003ch1 class\u003d\"mat-headline\" style\u003d\"margin: 0px\"\u003e {{userService.currentUser.role \u003d\u003d\u003d \u0027Student\u0027 ? \u0027Issues you posted\u0027 : \u0027All Issues\u0027 }}\u003c/h1\u003e \u003c/div\u003e","lastModifiedDate":"2019-03-21"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    \u003c/mat-grid-tile\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":6,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":7,"author":{"gitId":"-"},"content":"    \u003cmat-grid-tile\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":8,"author":{"gitId":"-"},"content":"      \u003cmat-form-field class\u003d\"full-grid-width\"\u003e","lastModifiedDate":"2019-05-17"},{"lineNumber":9,"author":{"gitId":"-"},"content":"        \u003cinput matInput (keyup)\u003d\"applyFilter($event.target.value)\" placeholder\u003d\"Search\"\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":10,"author":{"gitId":"-"},"content":"      \u003c/mat-form-field\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    \u003c/mat-grid-tile\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":12,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    \u003cmat-grid-tile\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":14,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"grid-flush-right\"\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":15,"author":{"gitId":"ptvrajsk"},"content":"        \u003cbutton *ngIf\u003d\"permissions.isIssueCreatable()\" mat-stroked-button class\u003d\"create-new-bug-report-button\" color\u003d\"primary\" routerLink\u003d\"issues/new\"\u003e","lastModifiedDate":"2021-03-31"},{"lineNumber":16,"author":{"gitId":"-"},"content":"          New Issue","lastModifiedDate":"2019-03-19"},{"lineNumber":17,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2019-03-19"},{"lineNumber":18,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2019-01-21"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    \u003c/mat-grid-tile\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  \u003c/mat-grid-list\u003e","lastModifiedDate":"2019-01-18"},{"lineNumber":21,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  \u003capp-issue-tables [headers]\u003d\"this.displayedColumns\" [actions]\u003d\"this.actionButtons\"\u003e\u003c/app-issue-tables\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003c/div\u003e","lastModifiedDate":"2019-01-18"}],"authorContributionMap":{"ptvrajsk":1,"-":22}},{"path":"src/app/phase-team-response/issues-faulty/issues-faulty.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-04-12"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","lastModifiedDate":"2019-04-12"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { IssuesDataTable } from \u0027../../shared/issue-tables/IssuesDataTable\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../core/models/issue.model\u0027;","lastModifiedDate":"2019-05-31"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../core/services/user.service\u0027;","lastModifiedDate":"2019-04-12"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { UserRole } from \u0027../../core/models/user.model\u0027;","lastModifiedDate":"2019-04-12"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { PermissionService } from \u0027../../core/services/permission.service\u0027;","lastModifiedDate":"2019-04-12"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { ACTION_BUTTONS, IssueTablesComponent } from \u0027../../shared/issue-tables/issue-tables.component\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { TABLE_COLUMNS } from \u0027../../shared/issue-tables/issue-tables-columns\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":11,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-04-12"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  selector: \u0027app-issues-faulty\u0027,","lastModifiedDate":"2019-04-12"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./issues-faulty.component.html\u0027,","lastModifiedDate":"2019-04-12"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./issues-faulty.component.css\u0027],","lastModifiedDate":"2019-04-12"},{"lineNumber":15,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-04-12"},{"lineNumber":16,"author":{"gitId":"-"},"content":"export class IssuesFaultyComponent implements OnInit, OnChanges {","lastModifiedDate":"2019-04-12"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  displayedColumns: string[];","lastModifiedDate":"2019-04-12"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  filter: (issue: Issue) \u003d\u003e boolean;","lastModifiedDate":"2019-07-08"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  readonly actionButtons: ACTION_BUTTONS[] \u003d [","lastModifiedDate":"2019-07-20"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    ACTION_BUTTONS.VIEW_IN_WEB,","lastModifiedDate":"2019-07-20"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    ACTION_BUTTONS.FIX_ISSUE","lastModifiedDate":"2019-07-20"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  ];","lastModifiedDate":"2019-07-20"},{"lineNumber":24,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  @Input() teamFilter: string;","lastModifiedDate":"2019-04-12"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  @ViewChild(IssueTablesComponent) table: IssueTablesComponent;","lastModifiedDate":"2019-07-08"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  constructor(public issueService: IssueService, public userService: UserService,","lastModifiedDate":"2019-07-08"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      public permissions: PermissionService) {","lastModifiedDate":"2019-07-08"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    if (userService.currentUser.role \u003d\u003d\u003d UserRole.Student) {","lastModifiedDate":"2019-04-12"},{"lineNumber":32,"author":{"gitId":"-"},"content":"      this.displayedColumns \u003d [","lastModifiedDate":"2019-07-20"},{"lineNumber":33,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.ID,","lastModifiedDate":"2019-07-20"},{"lineNumber":34,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.TITLE,","lastModifiedDate":"2019-07-20"},{"lineNumber":35,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.TYPE,","lastModifiedDate":"2019-07-20"},{"lineNumber":36,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.SEVERITY,","lastModifiedDate":"2019-07-20"},{"lineNumber":37,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.RESPONSE,","lastModifiedDate":"2019-07-20"},{"lineNumber":38,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.ASSIGNEE,","lastModifiedDate":"2019-07-20"},{"lineNumber":39,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.DUPLICATED_ISSUES,","lastModifiedDate":"2019-07-20"},{"lineNumber":40,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.ACTIONS","lastModifiedDate":"2019-07-20"},{"lineNumber":41,"author":{"gitId":"-"},"content":"      ];","lastModifiedDate":"2019-07-20"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-04-12"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      this.displayedColumns \u003d [","lastModifiedDate":"2019-07-20"},{"lineNumber":44,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.ID,","lastModifiedDate":"2019-07-20"},{"lineNumber":45,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.TITLE,","lastModifiedDate":"2019-07-20"},{"lineNumber":46,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.TEAM_ASSIGNED,","lastModifiedDate":"2019-07-20"},{"lineNumber":47,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.TYPE,","lastModifiedDate":"2019-07-20"},{"lineNumber":48,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.SEVERITY,","lastModifiedDate":"2019-07-20"},{"lineNumber":49,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.RESPONSE,","lastModifiedDate":"2019-07-20"},{"lineNumber":50,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.ASSIGNEE,","lastModifiedDate":"2019-07-20"},{"lineNumber":51,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.DUPLICATED_ISSUES,","lastModifiedDate":"2019-07-20"},{"lineNumber":52,"author":{"gitId":"-"},"content":"        TABLE_COLUMNS.ACTIONS","lastModifiedDate":"2019-07-20"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      ];","lastModifiedDate":"2019-07-20"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-04-12"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-12"},{"lineNumber":56,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  ngOnChanges(changes: SimpleChanges) {","lastModifiedDate":"2019-04-12"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    if (!changes.teamFilter.isFirstChange()) {","lastModifiedDate":"2019-04-12"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      this.table.issues.teamFilter \u003d changes.teamFilter.currentValue;","lastModifiedDate":"2019-07-08"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-04-12"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-12"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2019-04-12"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.filter \u003d (issue: Issue): boolean \u003d\u003e {","lastModifiedDate":"2019-07-08"},{"lineNumber":65,"author":{"gitId":"Ding YuChen"},"content":"      const hasTeamResponse \u003d (issue: Issue) \u003d\u003e this.issueService.hasTeamResponse(issue.id);","lastModifiedDate":"2021-05-13"},{"lineNumber":66,"author":{"gitId":"Ding YuChen"},"content":"      const isDuplicateIssue \u003d (issue: Issue) \u003d\u003e !!issue.duplicateOf;","lastModifiedDate":"2021-05-13"},{"lineNumber":67,"author":{"gitId":"Ding YuChen"},"content":"      const isDuplicatedBy \u003d (issue: Issue) \u003d\u003e","lastModifiedDate":"2021-05-13"},{"lineNumber":68,"author":{"gitId":"Ding YuChen"},"content":"            !!this.issueService.issues$.getValue().filter(childIssue \u003d\u003e childIssue.duplicateOf \u003d\u003d\u003d issue.id).length;","lastModifiedDate":"2021-05-13"},{"lineNumber":69,"author":{"gitId":"Ding YuChen"},"content":"      return hasTeamResponse(issue) \u0026\u0026 isDuplicateIssue(issue) \u0026\u0026 isDuplicatedBy(issue);","lastModifiedDate":"2021-05-13"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2019-04-12"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-12"},{"lineNumber":72,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-12"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  applyFilter(filterValue: string) {","lastModifiedDate":"2019-04-12"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    this.table.issues.filter \u003d filterValue;","lastModifiedDate":"2019-07-08"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-12"},{"lineNumber":76,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-04-12"}],"authorContributionMap":{"Ding YuChen":5,"-":71}},{"path":"src/app/shared/comment-editor/comment-editor.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cform [formGroup]\u003d\"commentForm\" style\u003d\"min-height: 350px\"\u003e","lastModifiedDate":"2019-02-16"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \u003cmat-tab-group class\u003d\"mat-elevation-z1\" animationDuration\u003d\"0ms\"\u003e","lastModifiedDate":"2019-02-05"},{"lineNumber":3,"author":{"gitId":"-"},"content":"    \u003cmat-tab label\u003d\"Write\"\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"      \u003cdiv #dropArea class\u003d\"tab-content\"","lastModifiedDate":"2019-01-28"},{"lineNumber":5,"author":{"gitId":"-"},"content":"           (dragleave)\u003d\"onDragExit($event)\" (dragenter)\u003d\"onDragEnter($event)\" (drop)\u003d\"onDrop($event)\"","lastModifiedDate":"2019-01-28"},{"lineNumber":6,"author":{"gitId":"-"},"content":"           (dragover)\u003d\"enableFileDrop($event)\"\u003e","lastModifiedDate":"2019-01-28"},{"lineNumber":7,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":8,"author":{"gitId":"-"},"content":"        \u003cmat-form-field appearance\u003d\"outline\" style\u003d\"width: 100%\"\u003e","lastModifiedDate":"2019-01-28"},{"lineNumber":9,"author":{"gitId":"-"},"content":"          \u003cmat-label\u003e\u003c/mat-label\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":10,"author":{"gitId":"-"},"content":"          \u003ctextarea (paste)\u003d\"onPaste($event)\" #commentTextArea (dragover)\u003d\"disableCaretMovement($event)\"","lastModifiedDate":"2020-11-18"},{"lineNumber":11,"author":{"gitId":"Audrey Felicio Anwar"},"content":"                    id\u003d\"{{ this.id }}\" formControlName\u003d\"{{ this.id }}\" matInput","lastModifiedDate":"2021-06-24"},{"lineNumber":12,"author":{"gitId":"-"},"content":"                    cdkTextareaAutosize #autosize\u003d\"cdkTextareaAutosize\" cdkAutosizeMinRows\u003d\"10\"","lastModifiedDate":"2019-01-25"},{"lineNumber":13,"author":{"gitId":"Audrey Felicio Anwar"},"content":"                    cdkAutosizeMaxRows\u003d\"20\" class\u003d\"text-input-area\" placeholder\u003d\"{{ this.placeholderText }}\"\u003e\u003c/textarea\u003e","lastModifiedDate":"2021-06-24"},{"lineNumber":14,"author":{"gitId":"-"},"content":"          \u003cmat-error *ngIf\u003d\"commentField.errors \u0026\u0026 commentField.errors[\u0027required\u0027] \u0026\u0026 commentField.touched\"\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":15,"author":{"gitId":"-"},"content":"            Description required.","lastModifiedDate":"2019-01-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"          \u003c/mat-error\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":18,"author":{"gitId":"-"},"content":"          \u003cdiv class\u003d\"drag-and-drop\"\u003e","lastModifiedDate":"2019-01-28"},{"lineNumber":19,"author":{"gitId":"-"},"content":"            \u003cspan *ngIf\u003d\"!isInErrorState\"\u003e Attach files by dragging \u0026 dropping or select them by clicking here. \u003c/span\u003e","lastModifiedDate":"2019-02-01"},{"lineNumber":20,"author":{"gitId":"-"},"content":"            \u003cspan *ngIf\u003d\"isInErrorState\" class\u003d\"error\"\u003e {{uploadErrorMessage}} \u003c/span\u003e","lastModifiedDate":"2019-01-28"},{"lineNumber":21,"author":{"gitId":"-"},"content":"            \u003cinput #fileInput [disabled]\u003d\"this.commentField.disabled\"","lastModifiedDate":"2019-07-30"},{"lineNumber":22,"author":{"gitId":"-"},"content":"                   [accept]\u003d\"SUPPORTED_FILE_TYPES\"","lastModifiedDate":"2020-01-29"},{"lineNumber":23,"author":{"gitId":"-"},"content":"                   type\u003d\"file\" class\u003d\"file\" (change)\u003d\"onFileInputUpload($event, fileInput)\"\u003e","lastModifiedDate":"2019-02-02"},{"lineNumber":24,"author":{"gitId":"-"},"content":"          \u003c/div\u003e","lastModifiedDate":"2019-01-28"},{"lineNumber":25,"author":{"gitId":"-"},"content":"        \u003c/mat-form-field\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    \u003c/mat-tab\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    \u003cmat-tab label\u003d\"Preview\"\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"tab-content\" style\u003d\"min-height: 228px\"\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":30,"author":{"gitId":"-"},"content":"        \u003cmarkdown #markdownArea *ngIf\u003d\"commentField.value !\u003d\u003d \u0027\u0027\" [data]\u003d\"commentField.value\"\u003e\u003c/markdown\u003e","lastModifiedDate":"2019-02-01"},{"lineNumber":31,"author":{"gitId":"-"},"content":"        \u003cdiv *ngIf\u003d\"commentField.value \u003d\u003d\u003d\u0027\u0027\"\u003e Nothing to preview. \u003c/div\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":32,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    \u003c/mat-tab\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  \u003c/mat-tab-group\u003e","lastModifiedDate":"2019-01-25"},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003c/form\u003e","lastModifiedDate":"2019-01-25"}],"authorContributionMap":{"Audrey Felicio Anwar":2,"-":33}},{"path":"src/app/shared/comment-editor/comment-editor.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-10-22"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { AbstractControl, FormGroup } from \u0027@angular/forms\u0027;","lastModifiedDate":"2019-01-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2021-03-13"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  FILE_TYPE_SUPPORT_ERROR,","lastModifiedDate":"2021-03-13"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  SUPPORTED_FILE_TYPES,","lastModifiedDate":"2021-03-13"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  UploadService,","lastModifiedDate":"2021-03-13"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  getSizeExceedErrorMsg } from \u0027../../core/services/upload.service\u0027;","lastModifiedDate":"2021-03-13"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","lastModifiedDate":"2019-01-28"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { HttpErrorResponse } from \u0027@angular/common/http\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027../../core/services/electron.service\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-25"},{"lineNumber":12,"author":{"gitId":"-"},"content":"const DISPLAYABLE_CONTENT \u003d [\u0027gif\u0027, \u0027jpeg\u0027, \u0027jpg\u0027, \u0027png\u0027];","lastModifiedDate":"2019-02-01"},{"lineNumber":13,"author":{"gitId":"-"},"content":"const BYTES_PER_MB \u003d 1000000;","lastModifiedDate":"2021-03-13"},{"lineNumber":14,"author":{"gitId":"-"},"content":"const MAX_UPLOAD_SIZE \u003d 10 * BYTES_PER_MB; // 10MB","lastModifiedDate":"2021-03-13"},{"lineNumber":15,"author":{"gitId":"-"},"content":"const MAX_VIDEO_UPLOAD_SIZE \u003d 5 * BYTES_PER_MB; // 5MB","lastModifiedDate":"2021-03-13"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":17,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  selector: \u0027app-comment-editor\u0027,","lastModifiedDate":"2019-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./comment-editor.component.html\u0027,","lastModifiedDate":"2019-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./comment-editor.component.css\u0027],","lastModifiedDate":"2019-01-28"},{"lineNumber":21,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"export class CommentEditorComponent implements OnInit {","lastModifiedDate":"2019-01-25"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  readonly SUPPORTED_FILE_TYPES \u003d SUPPORTED_FILE_TYPES;","lastModifiedDate":"2020-02-03"},{"lineNumber":24,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-02-03"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  constructor(private uploadService: UploadService,","lastModifiedDate":"2019-02-01"},{"lineNumber":26,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2021-01-09"},{"lineNumber":27,"author":{"gitId":"-"},"content":"              private electronService: ElectronService) {}","lastModifiedDate":"2021-01-09"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-25"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  @Input() commentField: AbstractControl; // Compulsory Input","lastModifiedDate":"2019-07-20"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  @Input() commentForm: FormGroup; // Compulsory Input","lastModifiedDate":"2019-07-20"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  @Input() id: string; // Compulsory Input","lastModifiedDate":"2019-07-20"},{"lineNumber":32,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  @Input() initialDescription?: string;","lastModifiedDate":"2019-07-20"},{"lineNumber":34,"author":{"gitId":"Audrey Felicio Anwar"},"content":"  placeholderText \u003d \u0027No details provided.\u0027;","lastModifiedDate":"2021-06-24"},{"lineNumber":35,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  // Allows the comment editor to control the overall form\u0027s completeness.","lastModifiedDate":"2019-10-22"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  @Input() isFormPending?: boolean;","lastModifiedDate":"2019-10-22"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  @Output() isFormPendingChange: EventEmitter\u003cboolean\u003e \u003d new EventEmitter\u003cboolean\u003e();","lastModifiedDate":"2019-10-22"},{"lineNumber":39,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  // Allow the comment editor to control the text of the submit button to prompt the user.","lastModifiedDate":"2019-10-22"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  @Input() submitButtonText?: string;","lastModifiedDate":"2019-10-22"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  @Output() submitButtonTextChange: EventEmitter\u003cstring\u003e \u003d new EventEmitter\u003cstring\u003e();","lastModifiedDate":"2019-10-22"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  formatFileUploadingButtonText: (string) \u003d\u003e string \u003d ((currentButtonText: string) \u003d\u003e {","lastModifiedDate":"2019-10-23"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    return currentButtonText + \u0027 (Waiting for File Upload to finish...)\u0027;","lastModifiedDate":"2019-10-23"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2019-10-23"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  initialSubmitButtonText: string;","lastModifiedDate":"2019-10-29"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  lastUploadingTime: string;","lastModifiedDate":"2019-10-29"},{"lineNumber":48,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027dropArea\u0027) dropArea;","lastModifiedDate":"2019-01-28"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027commentTextArea\u0027) commentTextArea;","lastModifiedDate":"2019-01-28"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  @ViewChild(\u0027markdownArea\u0027) markdownArea;","lastModifiedDate":"2019-02-01"},{"lineNumber":52,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  dragActiveCounter \u003d 0;","lastModifiedDate":"2019-01-28"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  uploadErrorMessage: string;","lastModifiedDate":"2019-01-28"},{"lineNumber":55,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-25"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2019-07-20"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    if (this.initialDescription !\u003d\u003d undefined) {","lastModifiedDate":"2019-07-20"},{"lineNumber":58,"author":{"gitId":"-"},"content":"      this.commentField.setValue(this.initialDescription);","lastModifiedDate":"2019-07-20"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-07-20"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-20"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    if (this.commentField \u003d\u003d\u003d undefined || this.commentForm \u003d\u003d\u003d undefined || this.id \u003d\u003d\u003d undefined) {","lastModifiedDate":"2019-07-20"},{"lineNumber":62,"author":{"gitId":"-"},"content":"      throw new Error(\u0027Comment Editor\\\u0027s compulsory properties are not defined.\u0027);","lastModifiedDate":"2019-07-20"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-07-20"},{"lineNumber":64,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-29"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    this.initialSubmitButtonText \u003d this.submitButtonText;","lastModifiedDate":"2019-10-29"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-20"},{"lineNumber":67,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  onDragEnter(event) {","lastModifiedDate":"2019-01-28"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    event.preventDefault();","lastModifiedDate":"2019-01-28"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-01-28"},{"lineNumber":71,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    this.dragActiveCounter++;","lastModifiedDate":"2019-01-28"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    if (this.commentField.disabled) {","lastModifiedDate":"2019-07-30"},{"lineNumber":74,"author":{"gitId":"-"},"content":"      this.dropArea.nativeElement.classList.add(\u0027highlight-drag-box-disabled\u0027);","lastModifiedDate":"2019-07-30"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-07-30"},{"lineNumber":76,"author":{"gitId":"-"},"content":"      this.dropArea.nativeElement.classList.add(\u0027highlight-drag-box\u0027);","lastModifiedDate":"2019-01-28"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-28"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-30"},{"lineNumber":79,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  // Prevent cursor in textarea from moving when file is dragged over it.","lastModifiedDate":"2019-01-28"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  disableCaretMovement(event) {","lastModifiedDate":"2019-01-28"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    event.preventDefault();","lastModifiedDate":"2019-01-28"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":84,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  // To enable file drop in non-input elements, the dragOver event must be cancelled.","lastModifiedDate":"2019-01-28"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  enableFileDrop(event) {","lastModifiedDate":"2019-01-28"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    event.preventDefault();","lastModifiedDate":"2019-01-28"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":89,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  onDrop(event) {","lastModifiedDate":"2019-01-28"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    event.preventDefault();","lastModifiedDate":"2019-01-28"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-01-28"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    this.removeHighlightBorderStyle();","lastModifiedDate":"2019-02-10"},{"lineNumber":94,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    if (this.commentField.disabled) {","lastModifiedDate":"2019-07-30"},{"lineNumber":96,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2019-07-30"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-07-30"},{"lineNumber":98,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-30"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    const files \u003d event.dataTransfer.files;","lastModifiedDate":"2019-07-30"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    if (files.length \u003e 0) {","lastModifiedDate":"2019-01-28"},{"lineNumber":101,"author":{"gitId":"-"},"content":"      this.readAndUploadFile(files[0]);","lastModifiedDate":"2019-01-28"},{"lineNumber":102,"author":{"gitId":"-"},"content":"      this.commentTextArea.nativeElement.focus();","lastModifiedDate":"2019-02-01"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-28"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":105,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  onDragExit(event) {","lastModifiedDate":"2019-01-28"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    event.preventDefault();","lastModifiedDate":"2019-01-28"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-01-28"},{"lineNumber":109,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    this.removeHighlightBorderStyle();","lastModifiedDate":"2019-01-28"},{"lineNumber":111,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":112,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  onFileInputUpload(event, fileInput) {","lastModifiedDate":"2019-02-01"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    event.preventDefault();","lastModifiedDate":"2019-02-01"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-02-01"},{"lineNumber":116,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    const files \u003d fileInput.files;","lastModifiedDate":"2019-02-01"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    if (files.length \u003e 0) {","lastModifiedDate":"2019-02-01"},{"lineNumber":119,"author":{"gitId":"-"},"content":"      this.readAndUploadFile(files[0]);","lastModifiedDate":"2019-02-01"},{"lineNumber":120,"author":{"gitId":"-"},"content":"      fileInput.value \u003d \u0027\u0027;","lastModifiedDate":"2019-02-01"},{"lineNumber":121,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-01"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-01"},{"lineNumber":123,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":124,"author":{"gitId":"-"},"content":"  updateParentFormsSubmittability(isFormPending: boolean, submitButtonText: string) {","lastModifiedDate":"2019-10-22"},{"lineNumber":125,"author":{"gitId":"-"},"content":"      this.isFormPendingChange.emit(isFormPending);","lastModifiedDate":"2019-10-22"},{"lineNumber":126,"author":{"gitId":"-"},"content":"      this.submitButtonTextChange.emit(submitButtonText);","lastModifiedDate":"2019-10-22"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-10-22"},{"lineNumber":128,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  readAndUploadFile(file: File): void {","lastModifiedDate":"2019-01-28"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    this.uploadErrorMessage \u003d null;","lastModifiedDate":"2019-02-02"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    const reader \u003d new FileReader();","lastModifiedDate":"2019-01-28"},{"lineNumber":132,"author":{"gitId":"-"},"content":"    const filename \u003d file.name;","lastModifiedDate":"2019-01-28"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    const insertedText \u003d this.insertUploadingText(filename);","lastModifiedDate":"2019-02-01"},{"lineNumber":134,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    if (file.size \u003e\u003d MAX_UPLOAD_SIZE) {","lastModifiedDate":"2019-02-02"},{"lineNumber":136,"author":{"gitId":"-"},"content":"      const uploadSizeLimitMb \u003d MAX_UPLOAD_SIZE / BYTES_PER_MB;","lastModifiedDate":"2021-03-13"},{"lineNumber":137,"author":{"gitId":"-"},"content":"      this.handleUploadError(getSizeExceedErrorMsg(\u0027file\u0027, uploadSizeLimitMb), insertedText);","lastModifiedDate":"2021-03-13"},{"lineNumber":138,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2021-03-13"},{"lineNumber":139,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2021-03-13"},{"lineNumber":140,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-13"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    if (this.uploadService.isVideoFile(filename) \u0026\u0026 file.size \u003e\u003d MAX_VIDEO_UPLOAD_SIZE) {","lastModifiedDate":"2021-03-13"},{"lineNumber":142,"author":{"gitId":"-"},"content":"      const videoUploadSizeLimitMb \u003d MAX_VIDEO_UPLOAD_SIZE / BYTES_PER_MB;","lastModifiedDate":"2021-03-13"},{"lineNumber":143,"author":{"gitId":"-"},"content":"      this.handleUploadError(getSizeExceedErrorMsg(\u0027video\u0027, videoUploadSizeLimitMb), insertedText);","lastModifiedDate":"2021-03-13"},{"lineNumber":144,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2019-02-02"},{"lineNumber":145,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-02"},{"lineNumber":146,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-02"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    if (!this.uploadService.isSupportedFileType(filename)) {","lastModifiedDate":"2019-10-29"},{"lineNumber":148,"author":{"gitId":"-"},"content":"      this.handleUploadError(FILE_TYPE_SUPPORT_ERROR, insertedText);","lastModifiedDate":"2019-10-29"},{"lineNumber":149,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2019-10-29"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-10-29"},{"lineNumber":151,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-29"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    // Log the most recent upload.","lastModifiedDate":"2019-10-29"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    this.lastUploadingTime \u003d new Date().getTime().toString();","lastModifiedDate":"2019-10-29"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    const currentFileUploadTime \u003d this.lastUploadingTime;","lastModifiedDate":"2019-10-29"},{"lineNumber":155,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    // Prevents Form Submission during Upload","lastModifiedDate":"2019-10-22"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    this.updateParentFormsSubmittability(true, this.formatFileUploadingButtonText(this.initialSubmitButtonText));","lastModifiedDate":"2019-10-29"},{"lineNumber":158,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-22"},{"lineNumber":159,"author":{"gitId":"-"},"content":"    reader.onload \u003d () \u003d\u003e {","lastModifiedDate":"2019-01-28"},{"lineNumber":160,"author":{"gitId":"-"},"content":"      this.uploadService.uploadFile(reader.result, filename).subscribe((response) \u003d\u003e {","lastModifiedDate":"2019-02-16"},{"lineNumber":161,"author":{"gitId":"-"},"content":"        this.insertUploadUrl(filename, response.data.content.download_url);","lastModifiedDate":"2019-02-01"},{"lineNumber":162,"author":{"gitId":"-"},"content":"      }, (error) \u003d\u003e {","lastModifiedDate":"2019-01-28"},{"lineNumber":163,"author":{"gitId":"-"},"content":"        this.handleUploadError(error, insertedText);","lastModifiedDate":"2019-02-01"},{"lineNumber":164,"author":{"gitId":"-"},"content":"        // Allow button enabling if this is the last file that was uploaded.","lastModifiedDate":"2019-10-29"},{"lineNumber":165,"author":{"gitId":"-"},"content":"        if (currentFileUploadTime \u003d\u003d\u003d this.lastUploadingTime) {","lastModifiedDate":"2019-10-29"},{"lineNumber":166,"author":{"gitId":"-"},"content":"          this.updateParentFormsSubmittability(false, this.initialSubmitButtonText);","lastModifiedDate":"2019-10-29"},{"lineNumber":167,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2019-10-29"},{"lineNumber":168,"author":{"gitId":"-"},"content":"      }, () \u003d\u003e {","lastModifiedDate":"2019-10-22"},{"lineNumber":169,"author":{"gitId":"-"},"content":"        // Allow button enabling if this is the last file that was uploaded.","lastModifiedDate":"2019-10-29"},{"lineNumber":170,"author":{"gitId":"-"},"content":"        if (currentFileUploadTime \u003d\u003d\u003d this.lastUploadingTime) {","lastModifiedDate":"2019-10-29"},{"lineNumber":171,"author":{"gitId":"-"},"content":"          this.updateParentFormsSubmittability(false, this.initialSubmitButtonText);","lastModifiedDate":"2019-10-29"},{"lineNumber":172,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2019-10-29"},{"lineNumber":173,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2019-01-28"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2019-01-28"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    reader.readAsDataURL(file);","lastModifiedDate":"2019-01-28"},{"lineNumber":176,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":177,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":178,"author":{"gitId":"-"},"content":"  onPaste(event) {","lastModifiedDate":"2020-11-18"},{"lineNumber":179,"author":{"gitId":"-"},"content":"    const items \u003d event.clipboardData.items;","lastModifiedDate":"2020-11-18"},{"lineNumber":180,"author":{"gitId":"-"},"content":"    let blob \u003d null;","lastModifiedDate":"2020-11-18"},{"lineNumber":181,"author":{"gitId":"-"},"content":"    for (const item of items) {","lastModifiedDate":"2020-11-18"},{"lineNumber":182,"author":{"gitId":"-"},"content":"      if (item.type.indexOf(\u0027image\u0027) \u003d\u003d\u003d 0) {","lastModifiedDate":"2020-11-18"},{"lineNumber":183,"author":{"gitId":"-"},"content":"        blob \u003d item.getAsFile();","lastModifiedDate":"2020-11-18"},{"lineNumber":184,"author":{"gitId":"-"},"content":"        break;","lastModifiedDate":"2020-11-18"},{"lineNumber":185,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-03-31"},{"lineNumber":186,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-10-29"},{"lineNumber":187,"author":{"gitId":"-"},"content":"    if (blob) {","lastModifiedDate":"2020-11-18"},{"lineNumber":188,"author":{"gitId":"-"},"content":"      this.readAndUploadFile(blob);","lastModifiedDate":"2020-11-18"},{"lineNumber":189,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-10-29"},{"lineNumber":190,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-31"},{"lineNumber":191,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-31"},{"lineNumber":192,"author":{"gitId":"-"},"content":"  get isInErrorState(): boolean {","lastModifiedDate":"2019-01-28"},{"lineNumber":193,"author":{"gitId":"-"},"content":"    return !!this.uploadErrorMessage;","lastModifiedDate":"2019-01-28"},{"lineNumber":194,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":195,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":196,"author":{"gitId":"-"},"content":"  private handleUploadError(error, insertedText: string) {","lastModifiedDate":"2019-02-01"},{"lineNumber":197,"author":{"gitId":"-"},"content":"    if (error instanceof HttpErrorResponse) {","lastModifiedDate":"2020-01-14"},{"lineNumber":198,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":199,"author":{"gitId":"-"},"content":"      this.uploadErrorMessage \u003d \u0027Something went wrong while uploading your file. Please try again.\u0027;","lastModifiedDate":"2019-02-02"},{"lineNumber":200,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-01-28"},{"lineNumber":201,"author":{"gitId":"-"},"content":"      this.uploadErrorMessage \u003d error;","lastModifiedDate":"2019-01-28"},{"lineNumber":202,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-28"},{"lineNumber":203,"author":{"gitId":"-"},"content":"    this.commentField.setValue(this.commentField.value.replace(insertedText, \u0027\u0027));","lastModifiedDate":"2019-02-01"},{"lineNumber":204,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":205,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  private insertUploadingText(filename: string): string {","lastModifiedDate":"2019-02-01"},{"lineNumber":207,"author":{"gitId":"-"},"content":"    const originalDescription \u003d this.commentField.value;","lastModifiedDate":"2019-01-28"},{"lineNumber":208,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":209,"author":{"gitId":"-"},"content":"    const fileType \u003d filename.split(\u0027.\u0027).pop();","lastModifiedDate":"2019-10-01"},{"lineNumber":210,"author":{"gitId":"-"},"content":"    let toInsert: string;","lastModifiedDate":"2019-02-01"},{"lineNumber":211,"author":{"gitId":"-"},"content":"    if (DISPLAYABLE_CONTENT.includes(fileType.toLowerCase())) {","lastModifiedDate":"2019-11-01"},{"lineNumber":212,"author":{"gitId":"-"},"content":"      toInsert \u003d `![Uploading ${filename}...]\\n`;","lastModifiedDate":"2019-10-22"},{"lineNumber":213,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-02-01"},{"lineNumber":214,"author":{"gitId":"-"},"content":"      toInsert \u003d `[Uploading ${filename}...]\\n`;","lastModifiedDate":"2019-10-22"},{"lineNumber":215,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-02-01"},{"lineNumber":216,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":217,"author":{"gitId":"-"},"content":"    const cursorPosition \u003d this.commentTextArea.nativeElement.selectionEnd;","lastModifiedDate":"2019-04-01"},{"lineNumber":218,"author":{"gitId":"-"},"content":"    const endOfLineIndex \u003d originalDescription.indexOf(\u0027\\n\u0027, cursorPosition);","lastModifiedDate":"2019-04-01"},{"lineNumber":219,"author":{"gitId":"-"},"content":"    const nextCursorPosition \u003d cursorPosition + toInsert.length;","lastModifiedDate":"2019-04-01"},{"lineNumber":220,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-01"},{"lineNumber":221,"author":{"gitId":"-"},"content":"    if (endOfLineIndex \u003d\u003d\u003d -1) {","lastModifiedDate":"2019-01-28"},{"lineNumber":222,"author":{"gitId":"-"},"content":"      if (this.commentField.value \u003d\u003d\u003d \u0027\u0027) {","lastModifiedDate":"2019-01-28"},{"lineNumber":223,"author":{"gitId":"-"},"content":"        this.commentField.setValue(toInsert);","lastModifiedDate":"2019-01-28"},{"lineNumber":224,"author":{"gitId":"-"},"content":"      } else {","lastModifiedDate":"2019-01-28"},{"lineNumber":225,"author":{"gitId":"-"},"content":"        this.commentField.setValue(`${this.commentField.value}\\n${toInsert}`);","lastModifiedDate":"2019-01-28"},{"lineNumber":226,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-01-28"},{"lineNumber":227,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-01-28"},{"lineNumber":228,"author":{"gitId":"-"},"content":"      const startTillNewline \u003d originalDescription.slice(0, endOfLineIndex + 1);","lastModifiedDate":"2019-01-28"},{"lineNumber":229,"author":{"gitId":"-"},"content":"      const newlineTillEnd \u003d originalDescription.slice(endOfLineIndex);","lastModifiedDate":"2019-01-28"},{"lineNumber":230,"author":{"gitId":"-"},"content":"      this.commentField.setValue(`${startTillNewline + toInsert + newlineTillEnd}`);","lastModifiedDate":"2019-01-28"},{"lineNumber":231,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-28"},{"lineNumber":232,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-01"},{"lineNumber":233,"author":{"gitId":"-"},"content":"    this.commentTextArea.nativeElement.setSelectionRange(nextCursorPosition, nextCursorPosition);","lastModifiedDate":"2019-04-01"},{"lineNumber":234,"author":{"gitId":"-"},"content":"    return toInsert;","lastModifiedDate":"2019-02-01"},{"lineNumber":235,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":236,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":237,"author":{"gitId":"-"},"content":"  private insertUploadUrl(filename: string, uploadUrl: string) {","lastModifiedDate":"2019-01-28"},{"lineNumber":238,"author":{"gitId":"-"},"content":"    const cursorPosition \u003d this.commentTextArea.nativeElement.selectionEnd;","lastModifiedDate":"2019-04-01"},{"lineNumber":239,"author":{"gitId":"-"},"content":"    const startIndexOfString \u003d this.commentField.value.indexOf(`[Uploading ${filename}...]`);","lastModifiedDate":"2019-10-22"},{"lineNumber":240,"author":{"gitId":"-"},"content":"    const endIndexOfString \u003d startIndexOfString + `[Uploading ${filename}...]`.length;","lastModifiedDate":"2019-10-22"},{"lineNumber":241,"author":{"gitId":"-"},"content":"    const endOfInsertedString \u003d startIndexOfString + `[${filename}](${uploadUrl})`.length;","lastModifiedDate":"2019-04-01"},{"lineNumber":242,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-01"},{"lineNumber":243,"author":{"gitId":"-"},"content":"    this.commentField.setValue(","lastModifiedDate":"2019-01-28"},{"lineNumber":244,"author":{"gitId":"-"},"content":"      this.commentField.value.replace(`[Uploading ${filename}...]`, `[${filename}](${uploadUrl})`));","lastModifiedDate":"2019-10-22"},{"lineNumber":245,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-01"},{"lineNumber":246,"author":{"gitId":"-"},"content":"    if (cursorPosition \u003e startIndexOfString - 1 \u0026\u0026 cursorPosition \u003c\u003d endIndexOfString) { // within the range of uploading text","lastModifiedDate":"2019-04-01"},{"lineNumber":247,"author":{"gitId":"-"},"content":"      this.commentTextArea.nativeElement.setSelectionRange(endOfInsertedString, endOfInsertedString);","lastModifiedDate":"2019-04-01"},{"lineNumber":248,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-04-01"},{"lineNumber":249,"author":{"gitId":"-"},"content":"      this.commentTextArea.nativeElement.setSelectionRange(cursorPosition, cursorPosition);","lastModifiedDate":"2019-04-01"},{"lineNumber":250,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-04-01"},{"lineNumber":251,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":252,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-28"},{"lineNumber":253,"author":{"gitId":"-"},"content":"  private removeHighlightBorderStyle() {","lastModifiedDate":"2019-01-28"},{"lineNumber":254,"author":{"gitId":"-"},"content":"    this.dragActiveCounter--;","lastModifiedDate":"2019-01-28"},{"lineNumber":255,"author":{"gitId":"-"},"content":"    if (this.dragActiveCounter \u003d\u003d\u003d 0) { // To make sure when dragging over a child element, drop area is still highlight.","lastModifiedDate":"2019-01-28"},{"lineNumber":256,"author":{"gitId":"-"},"content":"      this.dropArea.nativeElement.classList.remove(\u0027highlight-drag-box\u0027);","lastModifiedDate":"2019-01-28"},{"lineNumber":257,"author":{"gitId":"-"},"content":"      this.dropArea.nativeElement.classList.remove(\u0027highlight-drag-box-disabled\u0027);","lastModifiedDate":"2019-07-30"},{"lineNumber":258,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-01-28"},{"lineNumber":259,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-28"},{"lineNumber":260,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-25"}],"authorContributionMap":{"Audrey Felicio Anwar":1,"-":259}},{"path":"src/app/shared/issue-tables/IssuesDataTable.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { BehaviorSubject, merge, Observable, Subscription } from \u0027rxjs\u0027;","lastModifiedDate":"2019-04-19"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { DataSource } from \u0027@angular/cdk/table\u0027;","lastModifiedDate":"2019-02-01"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","lastModifiedDate":"2019-02-01"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Issue, ISSUE_TYPE_ORDER, SEVERITY_ORDER } from \u0027../../core/models/issue.model\u0027;","lastModifiedDate":"2019-02-01"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { MatPaginator, MatSort } from \u0027@angular/material\u0027;","lastModifiedDate":"2019-02-01"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { delay, flatMap, map, startWith, tap } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","lastModifiedDate":"2019-02-21"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { getSortedData } from \u0027./issue-sorter\u0027;","lastModifiedDate":"2021-01-23"},{"lineNumber":9,"author":{"gitId":"Kang Su Min"},"content":"import { paginateData } from \u0027./issue-paginator\u0027;","lastModifiedDate":"2021-04-15"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { applySearchFilter } from \u0027./search-filter\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":12,"author":{"gitId":"-"},"content":"export class IssuesDataTable extends DataSource\u003cIssue\u003e {","lastModifiedDate":"2019-02-04"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  private filterChange \u003d new BehaviorSubject(\u0027\u0027);","lastModifiedDate":"2019-02-01"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  private teamFilterChange \u003d new BehaviorSubject(\u0027\u0027);","lastModifiedDate":"2019-03-21"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  private issuesSubject \u003d new BehaviorSubject\u003cIssue[]\u003e([]);","lastModifiedDate":"2019-02-21"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  private issueSubscription: Subscription;","lastModifiedDate":"2019-04-19"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  public isLoading$ \u003d this.issueService.isLoading.asObservable();","lastModifiedDate":"2020-09-12"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-21"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  constructor(private issueService: IssueService, private errorHandlingService: ErrorHandlingService, private sort: MatSort,","lastModifiedDate":"2019-02-21"},{"lineNumber":21,"author":{"gitId":"-"},"content":"              private paginator: MatPaginator, private displayedColumn: string[],","lastModifiedDate":"2019-03-21"},{"lineNumber":22,"author":{"gitId":"-"},"content":"              private defaultFilter?: (issue: Issue) \u003d\u003e boolean) {","lastModifiedDate":"2019-03-21"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    super();","lastModifiedDate":"2019-02-01"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-01"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  connect(): Observable\u003cIssue[]\u003e {","lastModifiedDate":"2019-02-01"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    return this.issuesSubject.asObservable();","lastModifiedDate":"2019-02-21"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-21"},{"lineNumber":29,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-21"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  disconnect() {","lastModifiedDate":"2019-04-19"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    this.filterChange.complete();","lastModifiedDate":"2019-04-19"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    this.teamFilterChange.complete();","lastModifiedDate":"2019-04-19"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    this.issuesSubject.complete();","lastModifiedDate":"2019-04-19"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    this.issueSubscription.unsubscribe();","lastModifiedDate":"2019-04-19"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    this.issueService.stopPollIssues();","lastModifiedDate":"2020-09-12"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-19"},{"lineNumber":37,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-21"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  loadIssues() {","lastModifiedDate":"2019-02-21"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    const displayDataChanges \u003d [","lastModifiedDate":"2019-02-01"},{"lineNumber":40,"author":{"gitId":"-"},"content":"      this.issueService.issues$,","lastModifiedDate":"2019-02-21"},{"lineNumber":41,"author":{"gitId":"-"},"content":"      this.paginator.page,","lastModifiedDate":"2019-02-01"},{"lineNumber":42,"author":{"gitId":"-"},"content":"      this.sort.sortChange,","lastModifiedDate":"2019-02-01"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      this.filterChange,","lastModifiedDate":"2019-03-21"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      this.teamFilterChange,","lastModifiedDate":"2019-03-21"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    ];","lastModifiedDate":"2019-02-01"},{"lineNumber":46,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    this.issueService.startPollIssues();","lastModifiedDate":"2020-09-12"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    this.issueSubscription \u003d this.issueService.issues$.pipe(","lastModifiedDate":"2020-09-12"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      flatMap(() \u003d\u003e {","lastModifiedDate":"2019-02-21"},{"lineNumber":50,"author":{"gitId":"-"},"content":"        return merge(...displayDataChanges).pipe(","lastModifiedDate":"2019-02-21"},{"lineNumber":51,"author":{"gitId":"-"},"content":"          map(() \u003d\u003e {","lastModifiedDate":"2019-02-21"},{"lineNumber":52,"author":{"gitId":"-"},"content":"            let data \u003d \u003cIssue[]\u003eObject.values(this.issueService.issues$.getValue()).reverse();","lastModifiedDate":"2019-04-01"},{"lineNumber":53,"author":{"gitId":"-"},"content":"            if (this.defaultFilter) {","lastModifiedDate":"2019-02-28"},{"lineNumber":54,"author":{"gitId":"-"},"content":"              data \u003d data.filter(this.defaultFilter);","lastModifiedDate":"2019-02-28"},{"lineNumber":55,"author":{"gitId":"-"},"content":"            }","lastModifiedDate":"2019-02-28"},{"lineNumber":56,"author":{"gitId":"-"},"content":"            data \u003d getSortedData(this.sort, data);","lastModifiedDate":"2021-01-23"},{"lineNumber":57,"author":{"gitId":"-"},"content":"            data \u003d this.getFilteredTeamData(data);","lastModifiedDate":"2019-03-21"},{"lineNumber":58,"author":{"gitId":"-"},"content":"            data \u003d applySearchFilter(this.filter, this.displayedColumn, this.issueService, data);","lastModifiedDate":"2021-02-26"},{"lineNumber":59,"author":{"gitId":"Kang Su Min"},"content":"            data \u003d paginateData(this.paginator, data);","lastModifiedDate":"2021-04-15"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":61,"author":{"gitId":"-"},"content":"            return data;","lastModifiedDate":"2019-02-01"},{"lineNumber":62,"author":{"gitId":"-"},"content":"          })","lastModifiedDate":"2019-08-02"},{"lineNumber":63,"author":{"gitId":"-"},"content":"        );","lastModifiedDate":"2019-08-02"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2019-02-21"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    ).subscribe((issues) \u003d\u003e {","lastModifiedDate":"2019-02-21"},{"lineNumber":66,"author":{"gitId":"-"},"content":"      this.issuesSubject.next(issues);","lastModifiedDate":"2019-02-21"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2019-02-21"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-01"},{"lineNumber":70,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  get filter(): string {","lastModifiedDate":"2019-02-01"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    return this.filterChange.value;","lastModifiedDate":"2019-02-01"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-01"},{"lineNumber":74,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-01"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  set filter(filter: string) {","lastModifiedDate":"2019-02-01"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    this.filterChange.next(filter);","lastModifiedDate":"2019-02-01"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-21"},{"lineNumber":78,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-21"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  get teamFilter(): string {","lastModifiedDate":"2019-03-21"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    return this.teamFilterChange.value;","lastModifiedDate":"2019-03-21"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-21"},{"lineNumber":82,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-21"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  set teamFilter(teamFilter: string) {","lastModifiedDate":"2019-03-21"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    this.teamFilterChange.next(teamFilter);","lastModifiedDate":"2019-03-21"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    this.issueService.setIssueTeamFilter(this.teamFilterChange.value);","lastModifiedDate":"2019-06-10"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-21"},{"lineNumber":87,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-21"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  private getFilteredTeamData(data: Issue[]): Issue[] {","lastModifiedDate":"2019-03-21"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    return data.filter((issue) \u003d\u003e {","lastModifiedDate":"2019-03-21"},{"lineNumber":90,"author":{"gitId":"-"},"content":"      if (!this.teamFilter || this.teamFilter \u003d\u003d\u003d \u0027All Teams\u0027) {","lastModifiedDate":"2019-03-21"},{"lineNumber":91,"author":{"gitId":"-"},"content":"        return true;","lastModifiedDate":"2019-03-21"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-03-21"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      return issue.teamAssigned.id \u003d\u003d\u003d this.teamFilter;","lastModifiedDate":"2019-03-21"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-03-21"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-02-01"},{"lineNumber":96,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-02-01"}],"authorContributionMap":{"Kang Su Min":2,"-":94}},{"path":"src/app/shared/issue-tables/issue-paginator.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Kang Su Min"},"content":"import { MatPaginator } from \u0027@angular/material\u0027;","lastModifiedDate":"2021-04-15"},{"lineNumber":2,"author":{"gitId":"Kang Su Min"},"content":"import { Issue } from \u0027../../core/models/issue.model\u0027;","lastModifiedDate":"2021-04-15"},{"lineNumber":3,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":4,"author":{"gitId":"Kang Su Min"},"content":"export function paginateData(paginator: MatPaginator, data: Issue[]): Issue[] {","lastModifiedDate":"2021-04-15"},{"lineNumber":5,"author":{"gitId":"Kang Su Min"},"content":"    paginator.length \u003d data.length;","lastModifiedDate":"2021-04-15"},{"lineNumber":6,"author":{"gitId":"Kang Su Min"},"content":"    let result \u003d getDataForPage(paginator.pageIndex, paginator.pageSize, data);","lastModifiedDate":"2021-04-15"},{"lineNumber":7,"author":{"gitId":"Kang Su Min"},"content":"    if (result.length \u003d\u003d\u003d 0) {","lastModifiedDate":"2021-04-15"},{"lineNumber":8,"author":{"gitId":"Kang Su Min"},"content":"        paginator.pageIndex -\u003d 1;","lastModifiedDate":"2021-04-15"},{"lineNumber":9,"author":{"gitId":"Kang Su Min"},"content":"        result \u003d getDataForPage(paginator.pageIndex, paginator.pageSize, data);","lastModifiedDate":"2021-04-15"},{"lineNumber":10,"author":{"gitId":"Kang Su Min"},"content":"    }","lastModifiedDate":"2021-04-15"},{"lineNumber":11,"author":{"gitId":"Kang Su Min"},"content":"    return result;","lastModifiedDate":"2021-04-15"},{"lineNumber":12,"author":{"gitId":"Kang Su Min"},"content":"}","lastModifiedDate":"2021-04-15"},{"lineNumber":13,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":14,"author":{"gitId":"Kang Su Min"},"content":"function getDataForPage(pageIndex: number, pageSize: number, data: Issue[]): Issue[] {","lastModifiedDate":"2021-04-15"},{"lineNumber":15,"author":{"gitId":"Kang Su Min"},"content":"    const startIndex \u003d pageIndex * pageSize;","lastModifiedDate":"2021-04-15"},{"lineNumber":16,"author":{"gitId":"Kang Su Min"},"content":"    return data.splice(startIndex, pageSize);","lastModifiedDate":"2021-04-15"},{"lineNumber":17,"author":{"gitId":"Kang Su Min"},"content":"}","lastModifiedDate":"2021-04-15"}],"authorContributionMap":{"Kang Su Min":17}},{"path":"src/app/shared/issue-tables/issue-tables.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003ctable mat-table [dataSource]\u003d\"this.issues\" matSort class\u003d\"mat-elevation-z8\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":2,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":3,"author":{"gitId":"-"},"content":"  \u003c!-- ID Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"id\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef mat-sort-header\u003e ID \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":6,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":7,"author":{"gitId":"-"},"content":"      \u003cspan (click)\u003d\"$event.stopPropagation()\" style\u003d\"cursor: default;\"\u003e{{issue.id}}\u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  \u003c!-- Title Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"title\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef mat-sort-header\u003e Title \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":14,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":15,"author":{"gitId":"-"},"content":"      \u003ca class\u003d\"no-underline link-grey-dark\" [routerLink]\u003d\"\u0027issues/\u0027 + issue.id\"\u003e {{this.fitTitleText(issue.title)}} \u003c/a\u003e","lastModifiedDate":"2019-10-16"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":18,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  \u003c!-- Team Assigned Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  \u003cng-container *ngIf\u003d\"userService.currentUser.role !\u003d\u003d \u0027Student\u0027\" matColumnDef\u003d\"teamAssigned\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef mat-sort-header\u003e Team \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e {{ issue.teamAssigned \u0026\u0026 issue.teamAssigned.id || \u0027-\u0027}} \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":24,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  \u003c!-- Type Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"type\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell [style.width]\u003d\"permissions.isTeamResponseEditable() ? \u002710%\u0027 : \u002715%\u0027\" *matHeaderCellDef mat-sort-header\u003e Type \u003c/th\u003e","lastModifiedDate":"2019-07-24"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":29,"author":{"gitId":"-"},"content":"          \u003cspan (click)\u003d\"$event.stopPropagation()\" [ngStyle]\u003d\"this.labelService.setLabelStyle(this.labelService.getColorOfLabel(issue.type))\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":30,"author":{"gitId":"-"},"content":"              {{issue.type || \u0027-\u0027}}","lastModifiedDate":"2019-07-08"},{"lineNumber":31,"author":{"gitId":"-"},"content":"          \u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  \u003c!-- Severity Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"severity\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell [style.width]\u003d\"permissions.isTeamResponseEditable() ? \u00279%\u0027 : \u002712%\u0027\" *matHeaderCellDef mat-sort-header\u003e Severity \u003c/th\u003e","lastModifiedDate":"2019-07-24"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":39,"author":{"gitId":"-"},"content":"        \u003cspan (click)\u003d\"$event.stopPropagation()\" [ngStyle]\u003d\"this.labelService.setLabelStyle(this.labelService.getColorOfLabel(issue.severity))\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":40,"author":{"gitId":"-"},"content":"          {{issue.severity || \u0027-\u0027}}","lastModifiedDate":"2019-07-08"},{"lineNumber":41,"author":{"gitId":"-"},"content":"        \u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  \u003c!--Response Tag Column--\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"responseTag\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef mat-sort-header\u003e Response \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":49,"author":{"gitId":"-"},"content":"        \u003cspan (click)\u003d\"$event.stopPropagation()\" *ngIf\u003d\"issue.responseTag\"","lastModifiedDate":"2019-07-08"},{"lineNumber":50,"author":{"gitId":"-"},"content":"              [ngStyle]\u003d\"this.labelService.setLabelStyle(this.labelService.getColorOfLabel(issue.responseTag))\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":51,"author":{"gitId":"-"},"content":"          {{issue.responseTag}}","lastModifiedDate":"2019-07-08"},{"lineNumber":52,"author":{"gitId":"-"},"content":"        \u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      \u003cspan *ngIf\u003d\"!issue.responseTag\" style\u003d\"margin-left: 10%\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":54,"author":{"gitId":"-"},"content":"          \u003cmat-icon matTooltip\u003d\"Should not be empty\" matTooltipPosition\u003d\"above\" color\u003d\"warn\"\u003ewarning\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":55,"author":{"gitId":"-"},"content":"        \u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":57,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  \u003c!--Assignee Column--\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"assignees\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    \u003cth [style.width]\u003d\"userService.currentUser.role \u003d\u003d\u003d \u0027Student\u0027 ? \u002715%\u0027 : \u002710%\u0027\" mat-header-cell *matHeaderCellDef mat-sort-header\u003e Assignees \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        \u003cspan (click)\u003d\"$event.stopPropagation()\" style\u003d\"cursor: default;\" *ngIf\u003d\"issue.assignees.length !\u003d\u003d 0\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":63,"author":{"gitId":"-"},"content":"          {{issue.assignees.join(\u0027, \u0027)}}","lastModifiedDate":"2019-07-08"},{"lineNumber":64,"author":{"gitId":"-"},"content":"        \u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":65,"author":{"gitId":"-"},"content":"      \u003cspan *ngIf\u003d\"issue.assignees.length \u003d\u003d\u003d 0\" style\u003d\"margin-left: 5%\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":66,"author":{"gitId":"-"},"content":"          \u003cmat-icon matTooltip\u003d\"We strongly recommend assigning all issues to someone\"","lastModifiedDate":"2019-10-01"},{"lineNumber":67,"author":{"gitId":"-"},"content":"                    matTooltipPosition\u003d\"above\" style\u003d\"color: #FFAB40;\"\u003ewarning\u003c/mat-icon\u003e","lastModifiedDate":"2019-10-01"},{"lineNumber":68,"author":{"gitId":"-"},"content":"        \u003c/span\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":70,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  \u003c!-- Duplicated Issues Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"duplicatedIssues\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef\u003e Duplicates \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      \u003cdiv *ngIf\u003d\"(issueService.getDuplicateIssuesFor(issue) | async).length \u003d\u003d\u003d 0\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":76,"author":{"gitId":"-"},"content":"        -","lastModifiedDate":"2019-07-08"},{"lineNumber":77,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      \u003cmat-chip-list *ngFor\u003d\"let duplicateIssue of (issueService.getDuplicateIssuesFor(issue) | async)\" style\u003d\"display: inline-block; margin-left: 5px;\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":79,"author":{"gitId":"-"},"content":"        \u003cmat-chip [routerLink]\u003d\"[\u0027issues/\u0027 + duplicateIssue.id]\"","lastModifiedDate":"2019-07-08"},{"lineNumber":80,"author":{"gitId":"-"},"content":"                  [matTooltip]\u003d\"duplicateIssue.title\" matTooltipPosition\u003d\"above\"","lastModifiedDate":"2019-07-08"},{"lineNumber":81,"author":{"gitId":"-"},"content":"                  style\u003d\"font-size: 12px; cursor: pointer\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":82,"author":{"gitId":"-"},"content":"          #{{duplicateIssue.id}}","lastModifiedDate":"2019-07-08"},{"lineNumber":83,"author":{"gitId":"-"},"content":"        \u003c/mat-chip\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      \u003c/mat-chip-list\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":87,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  \u003c!-- To do Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"Todo Remaining\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef mat-sort-header\u003e Todo Remaining \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      \u003cspan *ngIf\u003d\"isTodoListChecked(issue) \u0026\u0026 issue.issueDisputes.length \u003e 0\"\u003e \u003cfont color\u003d\"green\"\u003eAll tasks are completed\u003c/font\u003e \u003c/span\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      \u003cspan *ngIf\u003d\"!isTodoListChecked(issue)\"\u003e \u003cfont color\u003d\"red\"\u003e{{ issue.issueDisputes.length - todoFinished(issue) }}/{{ issue.issueDisputes.length }} tasks pending.\u003c/font\u003e\u003c/span\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      \u003cprogress *ngIf\u003d\"issue.issueDisputes.length \u003e 0\" value\u003d{{todoFinished(issue)}} max\u003d{{issue.issueDisputes.length}} role\u003d\"progressbar\" style\u003d\"width: 100%\" aria-valuenow\u003d\"100\" aria-valuemin\u003d\"0\" aria-valuemax\u003d\"100\"\u003e\u003c/progress\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":95,"author":{"gitId":"-"},"content":"      \u003cspan *ngIf\u003d\"issue.issueDisputes.length \u003d\u003d\u003d 0\"\u003e No Todo List for this issue \u003c/span\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":98,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  \u003c!-- Action Buttons Column --\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  \u003cng-container matColumnDef\u003d\"actions\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    \u003cth mat-header-cell *matHeaderCellDef\u003e Actions \u003c/th\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    \u003ctd mat-cell *matCellDef\u003d\"let issue\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":103,"author":{"gitId":"-"},"content":"      \u003cbutton mat-button matTooltip\u003d\"View this issue in web-browser\" *ngIf\u003d\"this.isActionVisible(action_buttons.VIEW_IN_WEB)\"","lastModifiedDate":"2019-07-08"},{"lineNumber":104,"author":{"gitId":"ptvrajsk"},"content":"              (click)\u003d\"this.viewIssueInBrowser(issue.id)\" style\u003d\"","lastModifiedDate":"2021-04-19"},{"lineNumber":105,"author":{"gitId":"-"},"content":"              transform: scale(0.8)\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":106,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003elink\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":107,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":108,"author":{"gitId":"-"},"content":"      \u003cbutton *ngIf\u003d\"this.isResponseEditable() \u0026\u0026 !issue.status","lastModifiedDate":"2020-08-31"},{"lineNumber":109,"author":{"gitId":"-"},"content":"       \u0026\u0026 this.isActionVisible(action_buttons.RESPOND_TO_ISSUE); else tryEditIssue\"","lastModifiedDate":"2020-02-25"},{"lineNumber":110,"author":{"gitId":"-"},"content":"              [routerLink]\u003d\"\u0027issues/\u0027 + issue.id\" mat-button color\u003d\"accent\"","lastModifiedDate":"2019-07-20"},{"lineNumber":111,"author":{"gitId":"ptvrajsk"},"content":"              style\u003d\"transform: scale(0.8)\" matTooltip\u003d\"Respond to this issue\" (click)\u003d\"this.logIssueRespondRouting(issue.id)\"\u003e","lastModifiedDate":"2021-04-19"},{"lineNumber":112,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003efeedback\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":113,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":114,"author":{"gitId":"-"},"content":"      \u003cng-template #tryEditIssue\u003e","lastModifiedDate":"2020-02-25"},{"lineNumber":115,"author":{"gitId":"-"},"content":"        \u003cbutton *ngIf\u003d\"permissions.isIssueEditable() \u0026\u0026 this.isActionVisible(action_buttons.FIX_ISSUE)\"","lastModifiedDate":"2020-02-25"},{"lineNumber":116,"author":{"gitId":"-"},"content":"                mat-button color\u003d\"accent\"","lastModifiedDate":"2020-02-25"},{"lineNumber":117,"author":{"gitId":"-"},"content":"                style\u003d\"transform: scale(0.8)\" matTooltip\u003d\"Edit this issue\" \u003e","lastModifiedDate":"2020-03-04"},{"lineNumber":118,"author":{"gitId":"-"},"content":"          \u003cmat-icon\u003eedit\u003c/mat-icon\u003e","lastModifiedDate":"2020-02-25"},{"lineNumber":119,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2020-02-25"},{"lineNumber":120,"author":{"gitId":"-"},"content":"      \u003c/ng-template\u003e","lastModifiedDate":"2020-02-25"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      \u003cbutton *ngIf\u003d\"this.isResponseEditable() \u0026\u0026 issue.status","lastModifiedDate":"2020-08-31"},{"lineNumber":122,"author":{"gitId":"-"},"content":"      \u0026\u0026 this.isActionVisible(action_buttons.MARK_AS_RESPONDED)\"","lastModifiedDate":"2019-07-08"},{"lineNumber":123,"author":{"gitId":"-"},"content":"              mat-button color\u003d\"primary\" (click)\u003d\"markAsResponded(issue)\"","lastModifiedDate":"2019-07-08"},{"lineNumber":124,"author":{"gitId":"-"},"content":"              style\u003d\"transform: scale(0.8)\" matTooltip\u003d\"Mark this issue as Responded\"\u003e","lastModifiedDate":"2020-03-04"},{"lineNumber":125,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003echeck_circle\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":126,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":127,"author":{"gitId":"-"},"content":"      \u003cbutton color\u003d\"primary\" matTooltip\u003d\"Mark this issue as Pending\" mat-button (click)\u003d\"markAsPending(issue)\"","lastModifiedDate":"2019-07-08"},{"lineNumber":128,"author":{"gitId":"-"},"content":"              style\u003d\"transform: scale(0.8)\" *ngIf\u003d\"(userService.currentUser.role \u003d\u003d\u003d \u0027Student\u0027 || userService.currentUser.role \u003d\u003d\u003d \u0027Admin\u0027)","lastModifiedDate":"2019-07-08"},{"lineNumber":129,"author":{"gitId":"-"},"content":"              \u0026\u0026 this.isActionVisible(action_buttons.MARK_AS_PENDING)\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":130,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003ecancel\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":131,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      \u003cbutton mat-button color\u003d\"warn\" *ngIf\u003d\"permissions.isIssueDeletable() \u0026\u0026 !issuesPendingDeletion[issue.id]","lastModifiedDate":"2019-07-24"},{"lineNumber":133,"author":{"gitId":"-"},"content":"          \u0026\u0026 this.isActionVisible(action_buttons.DELETE_ISSUE)\"","lastModifiedDate":"2019-07-08"},{"lineNumber":134,"author":{"gitId":"-"},"content":"              (click)\u003d\"deleteIssue(issue.id)\" matTooltip\u003d\"Delete this issue\" style\u003d\"transform: scale(0.8)\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":135,"author":{"gitId":"-"},"content":"        \u003cmat-icon\u003edelete_outline\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":136,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":137,"author":{"gitId":"-"},"content":"      \u003cmat-spinner color\u003d\"warn\" [diameter]\u003d\"25\" style\u003d\"display: inline; padding-right: 30px; margin-left: 5px\"","lastModifiedDate":"2019-07-08"},{"lineNumber":138,"author":{"gitId":"-"},"content":"                   *ngIf\u003d\"issuesPendingDeletion[issue.id] \u0026\u0026 this.isActionVisible(action_buttons.DELETE_ISSUE)\" \u003e\u003c/mat-spinner\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":139,"author":{"gitId":"-"},"content":"    \u003c/td\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  \u003c/ng-container\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":141,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":142,"author":{"gitId":"-"},"content":"  \u003ctr mat-header-row *matHeaderRowDef\u003d\"this.headers\"\u003e\u003c/tr\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":143,"author":{"gitId":"ptvrajsk"},"content":"  \u003ctr mat-row *matRowDef\u003d\"let issue; columns: this.headers;\" (click)\u003d\"this.logIssueEditRouting(issue.id)\" [routerLink]\u003d\"\u0027issues/\u0027 + issue.id\" style\u003d\"cursor: pointer\"\u003e\u003c/tr\u003e","lastModifiedDate":"2021-04-19"},{"lineNumber":144,"author":{"gitId":"-"},"content":"\u003c/table\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":145,"author":{"gitId":"-"},"content":"\u003cmat-card *ngIf\u003d\"this.issues.isLoading$ | async\"","lastModifiedDate":"2019-07-08"},{"lineNumber":146,"author":{"gitId":"-"},"content":"          style\u003d\"display: flex; justify-content: center; align-items: center\"\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  \u003cmat-progress-spinner color\u003d\"primary\" mode\u003d\"indeterminate\" diameter\u003d\"50\" strokeWidth\u003d\"5\"\u003e\u003c/mat-progress-spinner\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":148,"author":{"gitId":"-"},"content":"\u003c/mat-card\u003e","lastModifiedDate":"2019-07-08"},{"lineNumber":149,"author":{"gitId":"-"},"content":"\u003cmat-paginator [pageSize]\u003d\"20\" [pageSizeOptions]\u003d\"[10, 20, 50]\"\u003e\u003c/mat-paginator\u003e","lastModifiedDate":"2019-07-08"}],"authorContributionMap":{"ptvrajsk":3,"-":146}},{"path":"src/app/shared/issue-tables/issue-tables.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { AfterViewInit, Component, Input, OnInit, ViewChild } from \u0027@angular/core\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Issue, STATUS } from \u0027../../core/models/issue.model\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { PermissionService } from \u0027../../core/services/permission.service\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../core/services/label.service\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../core/services/user.service\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../../core/services/github.service\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { finalize } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { IssuesDataTable } from \u0027./IssuesDataTable\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { MatPaginator, MatSort } from \u0027@angular/material\u0027;","lastModifiedDate":"2019-07-08"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../core/services/phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":13,"author":{"gitId":"ptvrajsk"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":15,"author":{"gitId":"-"},"content":"export enum ACTION_BUTTONS {","lastModifiedDate":"2019-07-08"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  VIEW_IN_WEB,","lastModifiedDate":"2019-07-08"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  MARK_AS_RESPONDED,","lastModifiedDate":"2019-07-08"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  MARK_AS_PENDING,","lastModifiedDate":"2019-07-08"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  RESPOND_TO_ISSUE,","lastModifiedDate":"2019-07-08"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  FIX_ISSUE,","lastModifiedDate":"2019-07-08"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  DELETE_ISSUE","lastModifiedDate":"2019-07-08"},{"lineNumber":22,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-07-08"},{"lineNumber":23,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":24,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-07-08"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  selector: \u0027app-issue-tables\u0027,","lastModifiedDate":"2019-07-08"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./issue-tables.component.html\u0027,","lastModifiedDate":"2019-07-08"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./issue-tables.component.css\u0027]","lastModifiedDate":"2019-07-08"},{"lineNumber":28,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-07-08"},{"lineNumber":29,"author":{"gitId":"-"},"content":"export class IssueTablesComponent implements OnInit, AfterViewInit {","lastModifiedDate":"2020-09-12"},{"lineNumber":30,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  @Input() headers: string[];","lastModifiedDate":"2019-07-08"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  @Input() actions: ACTION_BUTTONS[];","lastModifiedDate":"2019-07-08"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  @Input() filters?: any \u003d undefined;","lastModifiedDate":"2019-07-08"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  @ViewChild(MatSort) sort: MatSort;","lastModifiedDate":"2019-07-08"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  @ViewChild(MatPaginator) paginator: MatPaginator;","lastModifiedDate":"2019-07-08"},{"lineNumber":37,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  issues: IssuesDataTable;","lastModifiedDate":"2019-07-08"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  issuesPendingDeletion: {[id: number]: boolean};","lastModifiedDate":"2019-07-08"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  private readonly action_buttons \u003d ACTION_BUTTONS;","lastModifiedDate":"2019-07-08"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  constructor(public userService: UserService,","lastModifiedDate":"2019-07-22"},{"lineNumber":43,"author":{"gitId":"-"},"content":"              private permissions: PermissionService,","lastModifiedDate":"2019-07-22"},{"lineNumber":44,"author":{"gitId":"-"},"content":"              private labelService: LabelService,","lastModifiedDate":"2019-07-08"},{"lineNumber":45,"author":{"gitId":"-"},"content":"              private githubService: GithubService,","lastModifiedDate":"2019-07-08"},{"lineNumber":46,"author":{"gitId":"-"},"content":"              private issueService: IssueService,","lastModifiedDate":"2019-07-08"},{"lineNumber":47,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService,","lastModifiedDate":"2020-08-31"},{"lineNumber":48,"author":{"gitId":"ptvrajsk"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2021-04-19"},{"lineNumber":49,"author":{"gitId":"ptvrajsk"},"content":"              private loggingService: LoggingService) { }","lastModifiedDate":"2021-04-19"},{"lineNumber":50,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2019-07-08"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    this.issues \u003d new IssuesDataTable(this.issueService, this.errorHandlingService, this.sort,","lastModifiedDate":"2019-07-08"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      this.paginator, this.headers, this.filters);","lastModifiedDate":"2019-07-08"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    this.issuesPendingDeletion \u003d {};","lastModifiedDate":"2019-07-08"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":56,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  ngAfterViewInit(): void {","lastModifiedDate":"2020-09-12"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    setTimeout(() \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      this.issues.loadIssues();","lastModifiedDate":"2020-09-12"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-09-12"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-09-12"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-09-12"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-10-16"},{"lineNumber":64,"author":{"gitId":"-"},"content":"   * Formats the title text to account for those that contain long words.","lastModifiedDate":"2019-10-16"},{"lineNumber":65,"author":{"gitId":"-"},"content":"   * @param title - Title of Issue that is to be displayed in the Table Row.","lastModifiedDate":"2019-10-16"},{"lineNumber":66,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-10-16"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  fitTitleText(title: string): string {","lastModifiedDate":"2019-10-16"},{"lineNumber":68,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-16"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    // Arbitrary Length of Characters beyond which an overflow occurs.","lastModifiedDate":"2019-10-16"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    const MAX_WORD_LENGTH \u003d 43;","lastModifiedDate":"2019-10-16"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    const SPLITTER_TEXT \u003d \u0027 \u0027;","lastModifiedDate":"2019-10-16"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    const ELLIPSES \u003d \u0027...\u0027;","lastModifiedDate":"2019-10-16"},{"lineNumber":73,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-16"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    return title.split(SPLITTER_TEXT).map(word \u003d\u003e {","lastModifiedDate":"2019-10-16"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      if (word.length \u003e MAX_WORD_LENGTH) {","lastModifiedDate":"2019-10-16"},{"lineNumber":76,"author":{"gitId":"-"},"content":"        return word.substring(0, MAX_WORD_LENGTH - 5).concat(ELLIPSES);","lastModifiedDate":"2019-10-16"},{"lineNumber":77,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2019-10-16"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      return word;","lastModifiedDate":"2019-10-16"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    }).join(SPLITTER_TEXT);","lastModifiedDate":"2019-10-16"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-10-16"},{"lineNumber":81,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-10-16"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  isActionVisible(action: ACTION_BUTTONS): boolean {","lastModifiedDate":"2019-07-08"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    return this.actions.includes(action);","lastModifiedDate":"2019-07-08"},{"lineNumber":84,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":85,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  markAsResponded(issue: Issue) {","lastModifiedDate":"2019-07-08"},{"lineNumber":87,"author":{"gitId":"ptvrajsk"},"content":"    this.loggingService.info(`IssueTablesComponent: Marking Issue ${issue.id} as Responded`);","lastModifiedDate":"2021-04-19"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    const newIssue \u003d issue.clone(this.phaseService.currentPhase);","lastModifiedDate":"2020-09-27"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    newIssue.status \u003d STATUS.Done;","lastModifiedDate":"2020-09-27"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    this.issueService.updateIssue(newIssue).subscribe((updatedIssue) \u003d\u003e {","lastModifiedDate":"2020-09-27"},{"lineNumber":91,"author":{"gitId":"-"},"content":"      this.issueService.updateLocalStore(updatedIssue);","lastModifiedDate":"2019-07-08"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    }, error \u003d\u003e {","lastModifiedDate":"2019-07-08"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-07-08"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-07-08"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":97,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  isResponseEditable() {","lastModifiedDate":"2020-08-31"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    return this.permissions.isTeamResponseEditable() || this.permissions.isTesterResponseEditable();","lastModifiedDate":"2020-08-31"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-08-31"},{"lineNumber":101,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-08-31"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  markAsPending(issue: Issue) {","lastModifiedDate":"2019-07-08"},{"lineNumber":103,"author":{"gitId":"ptvrajsk"},"content":"    this.loggingService.info(`IssueTablesComponent: Marking Issue ${issue.id} as Pending`);","lastModifiedDate":"2021-04-19"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    const newIssue \u003d issue.clone(this.phaseService.currentPhase);","lastModifiedDate":"2020-09-27"},{"lineNumber":105,"author":{"gitId":"-"},"content":"    newIssue.status \u003d STATUS.Incomplete;","lastModifiedDate":"2020-09-27"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    this.issueService.updateIssue(newIssue).subscribe((updatedIssue) \u003d\u003e {","lastModifiedDate":"2020-09-27"},{"lineNumber":107,"author":{"gitId":"-"},"content":"      this.issueService.updateLocalStore(updatedIssue);","lastModifiedDate":"2019-07-08"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    }, error \u003d\u003e {","lastModifiedDate":"2019-07-08"},{"lineNumber":109,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-07-08"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-07-08"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":113,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":114,"author":{"gitId":"ptvrajsk"},"content":"  logIssueRespondRouting(id: number) {","lastModifiedDate":"2021-04-19"},{"lineNumber":115,"author":{"gitId":"ptvrajsk"},"content":"    this.loggingService.info(`IssueTablesComponent: Proceeding to Respond to Issue ${id}`);","lastModifiedDate":"2021-04-19"},{"lineNumber":116,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":117,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":118,"author":{"gitId":"ptvrajsk"},"content":"  logIssueEditRouting(id: number) {","lastModifiedDate":"2021-04-19"},{"lineNumber":119,"author":{"gitId":"ptvrajsk"},"content":"    this.loggingService.info(`IssueTablesComponent: Proceeding to Edit Issue ${id}`);","lastModifiedDate":"2021-04-19"},{"lineNumber":120,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":121,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-19"},{"lineNumber":123,"author":{"gitId":"-"},"content":"   * Gets the number of resolved disputes.","lastModifiedDate":"2020-02-19"},{"lineNumber":124,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-19"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  todoFinished(issue: Issue): number {","lastModifiedDate":"2020-01-14"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    return issue.issueDisputes.length - issue.numOfUnresolvedDisputes();","lastModifiedDate":"2020-02-19"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":128,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-02-19"},{"lineNumber":130,"author":{"gitId":"-"},"content":"   * Checks if all the disputes are resolved.","lastModifiedDate":"2020-02-19"},{"lineNumber":131,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-02-19"},{"lineNumber":132,"author":{"gitId":"-"},"content":"  isTodoListChecked(issue: Issue): boolean {","lastModifiedDate":"2020-01-14"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    return issue.issueDisputes \u0026\u0026 issue.numOfUnresolvedDisputes() \u003d\u003d\u003d 0;","lastModifiedDate":"2020-02-19"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":135,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-08"},{"lineNumber":136,"author":{"gitId":"ptvrajsk"},"content":"  viewIssueInBrowser(id: number) {","lastModifiedDate":"2021-04-19"},{"lineNumber":137,"author":{"gitId":"ptvrajsk"},"content":"    this.loggingService.info(`IssueTablesComponent: Opening Issue ${id} on Github`);","lastModifiedDate":"2021-04-19"},{"lineNumber":138,"author":{"gitId":"ptvrajsk"},"content":"    this.githubService.viewIssueInBrowser(id);","lastModifiedDate":"2021-04-19"},{"lineNumber":139,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":140,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  deleteIssue(id: number) {","lastModifiedDate":"2019-07-08"},{"lineNumber":142,"author":{"gitId":"ptvrajsk"},"content":"    this.loggingService.info(`IssueTablesComponent: Deleting Issue ${id}`);","lastModifiedDate":"2021-04-19"},{"lineNumber":143,"author":{"gitId":"-"},"content":"    this.issuesPendingDeletion \u003d {","lastModifiedDate":"2019-07-08"},{"lineNumber":144,"author":{"gitId":"-"},"content":"      ...this.issuesPendingDeletion,","lastModifiedDate":"2019-07-08"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      [id]: true,","lastModifiedDate":"2019-07-08"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    };","lastModifiedDate":"2019-07-08"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    this.issueService.deleteIssue(id).pipe(finalize(() \u003d\u003e {","lastModifiedDate":"2019-07-08"},{"lineNumber":148,"author":{"gitId":"-"},"content":"      const { [id]: issueRemoved, ...theRest } \u003d this.issuesPendingDeletion;","lastModifiedDate":"2019-07-08"},{"lineNumber":149,"author":{"gitId":"-"},"content":"      this.issuesPendingDeletion \u003d theRest;","lastModifiedDate":"2019-07-08"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    })).subscribe((removedIssue) \u003d\u003e {","lastModifiedDate":"2019-07-08"},{"lineNumber":151,"author":{"gitId":"-"},"content":"    }, (error) \u003d\u003e {","lastModifiedDate":"2019-07-08"},{"lineNumber":152,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-07-08"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    event.stopPropagation();","lastModifiedDate":"2019-07-08"},{"lineNumber":155,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-08"},{"lineNumber":156,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-07-08"}],"authorContributionMap":{"ptvrajsk":19,"-":137}},{"path":"src/app/shared/layout/header.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cmat-toolbar color\u003d\"primary\" style\u003d\"position: sticky; position: -webkit-sticky; top: 0; z-index: 1000;\"\u003e","lastModifiedDate":"2019-04-12"},{"lineNumber":2,"author":{"gitId":"ptvrajsk"},"content":"  \u003cbutton *ngIf\u003d\"isBackButtonShown()\" mat-icon-button class\u003d\"mat-toolbar mat-primary back-button\" style\u003d\"transform: scale(0.9)\" (click)\u003d\"goBack()\"\u003e","lastModifiedDate":"2021-03-31"},{"lineNumber":3,"author":{"gitId":"-"},"content":"    \u003cmat-icon\u003earrow_back_ios\u003c/mat-icon\u003e","lastModifiedDate":"2019-03-21"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \u003c/button\u003e","lastModifiedDate":"2019-03-21"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  \u003ca class\u003d\"mat-toolbar mat-primary\" style\u003d\"text-decoration: none\" [routerLink]\u003d\"phaseService.currentPhase\"\u003eCATcher ","lastModifiedDate":"2021-03-29"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    v{{this.getVersion()}}\u003c/a\u003e","lastModifiedDate":"2021-03-29"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  \u003cspan id\u003d\"phase-descriptor\" *ngIf\u003d\"auth.isAuthenticated()\" style\u003d\"margin-left: 10px\"\u003e","lastModifiedDate":"2021-01-25"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    ({{this.getPhaseDescription(phaseService.currentPhase)}})","lastModifiedDate":"2021-01-25"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  \u003c/span\u003e","lastModifiedDate":"2019-02-26"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-02-26"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  \u003cdiv *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 this.phaseService.sessionData.openPhases.length \u003e 1\"\u003e","lastModifiedDate":"2019-07-10"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    \u003cbutton mat-button [matMenuTriggerFor]\u003d\"menu\"\u003e\u003cmat-icon style\u003d\"color: white;\"\u003eexpand_more\u003c/mat-icon\u003e\u003c/button\u003e","lastModifiedDate":"2019-07-25"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    \u003cmat-menu #menu\u003d\"matMenu\"\u003e","lastModifiedDate":"2019-07-10"},{"lineNumber":14,"author":{"gitId":"-"},"content":"      \u003cbutton mat-menu-item *ngFor\u003d\"let openPhase of this.phaseService.sessionData.openPhases\"","lastModifiedDate":"2019-07-10"},{"lineNumber":15,"author":{"gitId":"-"},"content":"       (click)\u003d\"this.routeToSelectedPhase(openPhase)\"\u003e","lastModifiedDate":"2019-07-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"        \u003cspan\u003e","lastModifiedDate":"2019-07-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"          \u003cmat-icon [ngStyle]\u003d\"{color: \u0027green\u0027,","lastModifiedDate":"2019-07-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"            visibility: this.phaseService.currentPhase \u003d\u003d\u003d openPhase ? \u0027visible\u0027 : \u0027hidden\u0027}\"\u003edone\u003c/mat-icon\u003e","lastModifiedDate":"2019-07-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"          {{this.getPhaseDescription(openPhase)}}","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"        \u003c/span\u003e","lastModifiedDate":"2019-07-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2019-07-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    \u003c/mat-menu\u003e","lastModifiedDate":"2019-07-10"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","lastModifiedDate":"2019-07-10"},{"lineNumber":24,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  \u003cspan style\u003d\"flex: 1 1 auto\"\u003e\u003c/span\u003e","lastModifiedDate":"2019-01-16"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  \u003cbutton *ngIf\u003d\"auth.isAuthenticated()\" mat-button matTooltip\u003d\"Download CATcher Log\" (click)\u003d\"this.loggingService.exportLogFile()\"\u003e","lastModifiedDate":"2021-03-13"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    Download Log","lastModifiedDate":"2021-03-13"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    \u003cmat-icon\u003ereceipt\u003c/mat-icon\u003e","lastModifiedDate":"2021-03-13"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  \u003c/button\u003e","lastModifiedDate":"2021-03-13"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  \u003cbutton *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 isOpenUrlButtonShown()\" mat-button matTooltip\u003d\"View current page on GitHub\" (click)\u003d\"viewBrowser()\"\u003e","lastModifiedDate":"2021-02-10"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    View on GitHub","lastModifiedDate":"2021-02-10"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    \u003cmat-icon\u003elink\u003c/mat-icon\u003e","lastModifiedDate":"2019-06-06"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  \u003c/button\u003e","lastModifiedDate":"2019-06-06"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  \u003cbutton *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 isReloadButtonShown() \u0026\u0026 !this.isReloadButtonDisabled\"","lastModifiedDate":"2019-07-05"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    mat-button matTooltip\u003d\"Synchronize with Github data\" (click)\u003d\"reload()\"\u003e","lastModifiedDate":"2019-06-04"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    Sync","lastModifiedDate":"2019-05-23"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    \u003cmat-icon\u003erefresh\u003c/mat-icon\u003e","lastModifiedDate":"2019-05-23"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  \u003c/button\u003e","lastModifiedDate":"2019-05-23"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  \u003cdiv class\u003d\"sync-spinner\" *ngIf\u003d\"auth.isAuthenticated() \u0026\u0026 isReloadButtonShown() \u0026\u0026 this.isReloadButtonDisabled\"\u003e","lastModifiedDate":"2019-07-05"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    \u003cspan style\u003d\"font-size: 14px; margin-right: 7px;\"\u003eSync\u003c/span\u003e","lastModifiedDate":"2019-07-05"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    \u003cmat-spinner class\u003d\"white-spinner\" [diameter]\u003d\"20\"\u003e\u003c/mat-spinner\u003e","lastModifiedDate":"2019-07-05"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","lastModifiedDate":"2019-07-05"},{"lineNumber":43,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-05"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  \u003cbutton *ngIf\u003d\"auth.isAuthenticated()\" mat-button matTooltip\u003d\"Log out\" (click)\u003d\"logOut()\"\u003e","lastModifiedDate":"2019-03-21"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    ({{userService.currentUser.loginId}})","lastModifiedDate":"2019-03-21"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    \u003cmat-icon style\u003d\"margin-left: 2px\"\u003eexit_to_app\u003c/mat-icon\u003e","lastModifiedDate":"2019-03-21"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  \u003c/button\u003e","lastModifiedDate":"2019-01-16"},{"lineNumber":48,"author":{"gitId":"-"},"content":"\u003c/mat-toolbar\u003e","lastModifiedDate":"2019-01-16"}],"authorContributionMap":{"Low Jun Kai, Sean":2,"ptvrajsk":1,"-":45}},{"path":"src/app/shared/layout/header.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, OnInit } from \u0027@angular/core\u0027;","lastModifiedDate":"2019-01-16"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Location } from \u0027@angular/common\u0027;","lastModifiedDate":"2019-04-11"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { AuthService } from \u0027../../core/services/auth.service\u0027;","lastModifiedDate":"2019-01-18"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { PhaseService, PhaseDescription } from \u0027../../core/services/phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../../core/models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../core/services/user.service\u0027;","lastModifiedDate":"2019-03-21"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { Router, RoutesRecognized } from \u0027@angular/router\u0027;","lastModifiedDate":"2019-05-31"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { filter, pairwise } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2019-04-19"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { GithubEventService } from \u0027../../core/services/githubevent.service\u0027;","lastModifiedDate":"2019-05-28"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../core/services/error-handling.service\u0027;","lastModifiedDate":"2019-05-28"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../core/services/issue.service\u0027;","lastModifiedDate":"2019-05-31"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { GithubService } from \u0027../../core/services/github.service\u0027;","lastModifiedDate":"2019-06-06"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { UserRole } from \u0027../../core/models/user.model\u0027;","lastModifiedDate":"2019-06-12"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { ElectronService } from \u0027../../core/services/electron.service\u0027;","lastModifiedDate":"2021-01-09"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { LoggingService } from \u0027../../core/services/logging.service\u0027;","lastModifiedDate":"2021-03-13"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { AppConfig } from \u0027../../../environments/environment\u0027;","lastModifiedDate":"2021-03-29"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-16"},{"lineNumber":18,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2019-01-16"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  selector: \u0027app-layout-header\u0027,","lastModifiedDate":"2019-01-16"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./header.component.html\u0027","lastModifiedDate":"2019-01-16"},{"lineNumber":21,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2019-01-16"},{"lineNumber":22,"author":{"gitId":"-"},"content":"export class HeaderComponent implements OnInit {","lastModifiedDate":"2019-01-16"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  private prevUrl;","lastModifiedDate":"2019-04-19"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  isReloadButtonDisabled \u003d false;","lastModifiedDate":"2019-07-05"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  ISSUE_FILTER \u003d \u0027/issues?q\u003dis:issue+is:open\u0027; // the filtered list must be an issue and must be open","lastModifiedDate":"2019-06-12"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  TUTORIAL_LABEL \u003d \u0027+label:tutorial.\u0027;","lastModifiedDate":"2019-06-11"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  TEAM_LABEL \u003d \u0027+label:team.\u0027;","lastModifiedDate":"2019-06-11"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  EXCLUDE_DUPLICATE \u003d \u0027+-label:duplicate\u0027; // exclude duplicate issues","lastModifiedDate":"2019-06-11"},{"lineNumber":29,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-19"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  constructor(private router: Router,","lastModifiedDate":"2021-01-09"},{"lineNumber":31,"author":{"gitId":"-"},"content":"              public auth: AuthService,","lastModifiedDate":"2021-01-09"},{"lineNumber":32,"author":{"gitId":"-"},"content":"              public phaseService: PhaseService,","lastModifiedDate":"2021-01-09"},{"lineNumber":33,"author":{"gitId":"-"},"content":"              public userService: UserService,","lastModifiedDate":"2021-01-09"},{"lineNumber":34,"author":{"gitId":"-"},"content":"              private loggingService: LoggingService,","lastModifiedDate":"2021-03-13"},{"lineNumber":35,"author":{"gitId":"-"},"content":"              private location: Location,","lastModifiedDate":"2021-01-09"},{"lineNumber":36,"author":{"gitId":"-"},"content":"              private githubEventService: GithubEventService,","lastModifiedDate":"2021-01-09"},{"lineNumber":37,"author":{"gitId":"-"},"content":"              private issueService: IssueService,","lastModifiedDate":"2021-01-09"},{"lineNumber":38,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2021-01-09"},{"lineNumber":39,"author":{"gitId":"-"},"content":"              private githubService: GithubService,","lastModifiedDate":"2021-01-09"},{"lineNumber":40,"author":{"gitId":"-"},"content":"              private electronService: ElectronService) {","lastModifiedDate":"2021-01-09"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    router.events.pipe(","lastModifiedDate":"2019-04-19"},{"lineNumber":42,"author":{"gitId":"-"},"content":"      filter((e: any) \u003d\u003e e instanceof RoutesRecognized),","lastModifiedDate":"2019-04-19"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      pairwise()","lastModifiedDate":"2019-04-19"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    ).subscribe(e \u003d\u003e {","lastModifiedDate":"2019-04-19"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      this.prevUrl \u003d e[0].urlAfterRedirects;","lastModifiedDate":"2019-04-19"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2019-04-19"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-19"},{"lineNumber":48,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-16"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  ngOnInit() {}","lastModifiedDate":"2019-04-05"},{"lineNumber":50,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-03-21"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2019-07-10"},{"lineNumber":52,"author":{"gitId":"-"},"content":"   * Replaces and resets the current phase data and routes the app to the","lastModifiedDate":"2019-07-10"},{"lineNumber":53,"author":{"gitId":"-"},"content":"   * newly selected phase.","lastModifiedDate":"2019-07-10"},{"lineNumber":54,"author":{"gitId":"-"},"content":"   * @param openPhase - Open Phase that is selected by the user.","lastModifiedDate":"2019-07-10"},{"lineNumber":55,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2019-07-10"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  routeToSelectedPhase(openPhase: string): void {","lastModifiedDate":"2019-07-10"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    // Do nothing if the selected phase is the current phase.","lastModifiedDate":"2019-07-25"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    if (this.phaseService.currentPhase \u003d\u003d\u003d Phase[openPhase]) {","lastModifiedDate":"2019-07-25"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2019-07-25"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-07-25"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    // Replace Current Phase Data.","lastModifiedDate":"2019-07-10"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    this.phaseService.currentPhase \u003d Phase[openPhase];","lastModifiedDate":"2019-07-10"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    this.githubService.storePhaseDetails(this.phaseService.getPhaseOwner(this.phaseService.currentPhase),","lastModifiedDate":"2019-07-10"},{"lineNumber":64,"author":{"gitId":"-"},"content":"        this.phaseService.sessionData[openPhase]);","lastModifiedDate":"2019-07-10"},{"lineNumber":65,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    // Remove current phase issues and load selected phase issues.","lastModifiedDate":"2019-07-10"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    this.githubService.reset();","lastModifiedDate":"2020-01-14"},{"lineNumber":68,"author":{"gitId":"ptvrajsk"},"content":"    this.issueService.reset(false);","lastModifiedDate":"2021-04-05"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    this.reload();","lastModifiedDate":"2019-07-10"},{"lineNumber":70,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    // Route app to new phase.","lastModifiedDate":"2019-07-10"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    this.router.navigateByUrl(this.phaseService.currentPhase);","lastModifiedDate":"2019-07-10"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-07-10"},{"lineNumber":74,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-07-10"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  isBackButtonShown(): boolean {","lastModifiedDate":"2019-07-05"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    return `/${this.phaseService.currentPhase}` !\u003d\u003d this.router.url \u0026\u0026 this.router.url !\u003d\u003d \u0027/\u0027 \u0026\u0026 !this.router.url.startsWith(\u0027/?code\u0027);","lastModifiedDate":"2021-01-09"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-03-21"},{"lineNumber":78,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-01-18"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  isReloadButtonShown(): boolean {","lastModifiedDate":"2019-07-05"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    return this.router.url !\u003d\u003d \u0027/phaseBugReporting/issues/new\u0027;","lastModifiedDate":"2019-07-23"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-23"},{"lineNumber":82,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-23"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  isOpenUrlButtonShown(): boolean {","lastModifiedDate":"2019-07-05"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    return this.phaseService.currentPhase \u003d\u003d\u003d Phase.phaseBugReporting ||","lastModifiedDate":"2019-07-23"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    this.userService.currentUser.role \u003d\u003d\u003d UserRole.Student ||","lastModifiedDate":"2019-06-12"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    (this.issueService.getIssueTeamFilter() !\u003d\u003d \u0027All Teams\u0027 || this.router.url.includes(\u0027/issues\u0027));","lastModifiedDate":"2019-06-18"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-12"},{"lineNumber":88,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-12"},{"lineNumber":89,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  getVersion(): string {","lastModifiedDate":"2021-03-29"},{"lineNumber":90,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return AppConfig.version;","lastModifiedDate":"2021-03-29"},{"lineNumber":91,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-03-29"},{"lineNumber":92,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-29"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  getPhaseDescription(openPhase: string): string {","lastModifiedDate":"2021-01-25"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    return PhaseDescription[openPhase];","lastModifiedDate":"2021-01-25"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2021-01-25"},{"lineNumber":96,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  goBack() {","lastModifiedDate":"2019-04-05"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    if (this.prevUrl \u003d\u003d\u003d `/${this.phaseService.currentPhase}/issues/new`) {","lastModifiedDate":"2019-04-19"},{"lineNumber":99,"author":{"gitId":"-"},"content":"      this.router.navigate([\u0027/phaseBugReporting\u0027]);","lastModifiedDate":"2019-07-23"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-04-19"},{"lineNumber":101,"author":{"gitId":"-"},"content":"      this.location.back();","lastModifiedDate":"2019-04-05"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-04-05"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-04-19"},{"lineNumber":104,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-04-05"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  viewBrowser() {","lastModifiedDate":"2019-06-06"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    const routerUrl \u003d this.router.url.substring(1); // remove the first \u0027/\u0027 from string","lastModifiedDate":"2019-06-07"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    const issueUrlIndex \u003d routerUrl.indexOf(\u0027/\u0027); // find the index of second \u0027/\u0027","lastModifiedDate":"2019-06-10"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    let issueUrl: string;","lastModifiedDate":"2019-06-07"},{"lineNumber":109,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-07"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    // If can\u0027t find the index of second \u0027/\u0027, then router is at the /issues (table list) page","lastModifiedDate":"2019-06-10"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    if (issueUrlIndex \u003c 0) {","lastModifiedDate":"2019-06-07"},{"lineNumber":112,"author":{"gitId":"-"},"content":"      // Apply filters to the issueUrl","lastModifiedDate":"2019-06-10"},{"lineNumber":113,"author":{"gitId":"-"},"content":"      issueUrl \u003d this.ISSUE_FILTER.concat(this.getTeamFilterString());","lastModifiedDate":"2019-06-13"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2019-06-07"},{"lineNumber":115,"author":{"gitId":"-"},"content":"      // issueUrl will be from the second \u0027/\u0027","lastModifiedDate":"2019-06-10"},{"lineNumber":116,"author":{"gitId":"-"},"content":"      issueUrl \u003d routerUrl.substring(issueUrlIndex);","lastModifiedDate":"2019-06-10"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-06-06"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    // Open the url in user\u0027s preferred browser","lastModifiedDate":"2019-06-12"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    this.electronService.openLink(\u0027https://github.com/\u0027.concat(this.githubService.getRepoURL()).concat(issueUrl));","lastModifiedDate":"2021-01-09"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-06"},{"lineNumber":121,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-06"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  private getTeamFilterString() {","lastModifiedDate":"2019-06-10"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    // First Phase does not need team filtering","lastModifiedDate":"2019-06-11"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    if (this.phaseService.currentPhase \u003d\u003d\u003d Phase.phaseBugReporting || this.phaseService.currentPhase \u003d\u003d\u003d Phase.phaseTesterResponse) {","lastModifiedDate":"2019-07-23"},{"lineNumber":125,"author":{"gitId":"-"},"content":"      return \u0027\u0027;","lastModifiedDate":"2019-06-11"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-06-11"},{"lineNumber":127,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-11"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    // Initialise the team filter for Students in other Phases, as they do not have team filter assigned by default","lastModifiedDate":"2019-06-12"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    if (this.userService.currentUser.team) {","lastModifiedDate":"2019-06-11"},{"lineNumber":130,"author":{"gitId":"-"},"content":"      this.issueService.setIssueTeamFilter(this.userService.currentUser.team.id); // e.g W12-3","lastModifiedDate":"2019-06-11"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2019-06-11"},{"lineNumber":132,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-11"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    const teamFilter \u003d this.issueService.getIssueTeamFilter().split(\u0027-\u0027); // e.g CS2103T-W12-3 -\u003e CS2103T, W12 and 3","lastModifiedDate":"2019-10-22"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    // The team filter string E.g \"+label:tutorial.W12+label:team.3\"","lastModifiedDate":"2019-06-12"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    const teamFilterString \u003d this.TUTORIAL_LABEL.concat(`${teamFilter[0]}-${teamFilter[1]}`).concat(this.TEAM_LABEL).concat(teamFilter[2]);","lastModifiedDate":"2019-10-22"},{"lineNumber":136,"author":{"gitId":"-"},"content":"    // Only include duplicate Issues in last Phase","lastModifiedDate":"2019-06-12"},{"lineNumber":137,"author":{"gitId":"-"},"content":"    return (this.phaseService.currentPhase \u003d\u003d\u003d Phase.phaseModeration) ? teamFilterString : this.EXCLUDE_DUPLICATE.concat(teamFilterString);","lastModifiedDate":"2019-07-23"},{"lineNumber":138,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-06-10"},{"lineNumber":139,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-06-10"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  reload() {","lastModifiedDate":"2019-06-04"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    this.isReloadButtonDisabled \u003d true;","lastModifiedDate":"2019-07-05"},{"lineNumber":142,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-28"},{"lineNumber":143,"author":{"gitId":"-"},"content":"    this.githubEventService.reloadPage().subscribe(","lastModifiedDate":"2019-06-07"},{"lineNumber":144,"author":{"gitId":"-"},"content":"      (success) \u003d\u003e success,","lastModifiedDate":"2019-06-07"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      (error) \u003d\u003e {","lastModifiedDate":"2019-06-07"},{"lineNumber":146,"author":{"gitId":"-"},"content":"        this.errorHandlingService.handleError(error, () \u003d\u003e this.githubEventService.reloadPage());","lastModifiedDate":"2020-01-14"},{"lineNumber":147,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2019-05-29"},{"lineNumber":148,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-28"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    // Prevent user from spamming the reload button","lastModifiedDate":"2019-05-23"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    setTimeout(() \u003d\u003e {","lastModifiedDate":"2019-05-23"},{"lineNumber":151,"author":{"gitId":"-"},"content":"      this.isReloadButtonDisabled \u003d false;","lastModifiedDate":"2019-07-05"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2019-05-23"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    3000);","lastModifiedDate":"2019-05-23"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-05-23"},{"lineNumber":155,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2019-05-23"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  logOut() {","lastModifiedDate":"2019-01-18"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    this.auth.logOut();","lastModifiedDate":"2019-01-18"},{"lineNumber":158,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2019-01-18"},{"lineNumber":159,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-01-16"}],"authorContributionMap":{"Low Jun Kai, Sean":5,"ptvrajsk":1,"-":153}},{"path":"src/app/shared/lib/marked.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { MarkedOptions, MarkedRenderer } from \"ngx-markdown\";","lastModifiedDate":"2021-06-01"},{"lineNumber":2,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-06-01"},{"lineNumber":3,"author":{"gitId":"Low Jun Kai, Sean"},"content":"export function markedOptionsFactory(): MarkedOptions {","lastModifiedDate":"2021-06-01"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const renderer \u003d new MarkedRenderer();","lastModifiedDate":"2021-06-01"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const linkRenderer \u003d renderer.link;","lastModifiedDate":"2021-06-01"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-06-01"},{"lineNumber":7,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  renderer.link \u003d (href, title, text) \u003d\u003e {","lastModifiedDate":"2021-06-01"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    const html \u003d linkRenderer.call(renderer, href, title, text);","lastModifiedDate":"2021-06-01"},{"lineNumber":9,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    return html.replace(/^\u003ca /, \u0027\u003ca target\u003d\"_blank\" \u0027);","lastModifiedDate":"2021-06-01"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  };","lastModifiedDate":"2021-06-01"},{"lineNumber":11,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-06-01"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  return {","lastModifiedDate":"2021-06-01"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    renderer,","lastModifiedDate":"2021-06-01"},{"lineNumber":14,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    gfm: true,","lastModifiedDate":"2021-06-01"},{"lineNumber":15,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    tables: true,","lastModifiedDate":"2021-06-01"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    breaks: false,","lastModifiedDate":"2021-06-01"},{"lineNumber":17,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    pedantic: false,","lastModifiedDate":"2021-06-01"},{"lineNumber":18,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    sanitize: false,","lastModifiedDate":"2021-06-01"},{"lineNumber":19,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    smartLists: true,","lastModifiedDate":"2021-06-01"},{"lineNumber":20,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    smartypants: false,","lastModifiedDate":"2021-06-01"},{"lineNumber":21,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  };","lastModifiedDate":"2021-06-01"},{"lineNumber":22,"author":{"gitId":"Low Jun Kai, Sean"},"content":"}","lastModifiedDate":"2021-06-01"}],"authorContributionMap":{"Low Jun Kai, Sean":22}},{"path":"src/app/shared/view-issue/new-team-response/new-team-response.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, EventEmitter, Input, OnInit, Output } from \u0027@angular/core\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../../core/services/issue.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { FormBuilder, FormGroup, NgForm, Validators } from \u0027@angular/forms\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Issue, SEVERITY_ORDER, STATUS } from \u0027../../../core/models/issue.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../../core/services/error-handling.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { finalize, flatMap, map } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { Observable, throwError } from \u0027rxjs\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { LabelService } from \u0027../../../core/services/label.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { IssueComment } from \u0027../../../core/models/comment.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { SUBMIT_BUTTON_TEXT } from \u0027../view-issue.component\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { Conflict } from \u0027../../../core/models/conflict/conflict.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { MatDialog } from \u0027@angular/material\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { ConflictDialogComponent } from \u0027./conflict-dialog/conflict-dialog.component\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../../core/services/phase.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { MatCheckboxChange } from \u0027@angular/material/checkbox\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":17,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2020-01-14"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  selector: \u0027app-new-team-response\u0027,","lastModifiedDate":"2020-01-14"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./new-team-response.component.html\u0027,","lastModifiedDate":"2020-01-14"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./new-team-response.component.css\u0027]","lastModifiedDate":"2020-01-14"},{"lineNumber":21,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2020-01-14"},{"lineNumber":22,"author":{"gitId":"-"},"content":"export class NewTeamResponseComponent implements OnInit {","lastModifiedDate":"2020-01-14"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  newTeamResponseForm: FormGroup;","lastModifiedDate":"2020-01-14"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  teamMembers: string[];","lastModifiedDate":"2020-01-14"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  duplicatedIssueList: Observable\u003cIssue[]\u003e;","lastModifiedDate":"2020-01-14"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  conflict: Conflict;","lastModifiedDate":"2020-01-14"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  isFormPending \u003d false;","lastModifiedDate":"2020-01-14"},{"lineNumber":29,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  submitButtonText: string;","lastModifiedDate":"2020-01-14"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  @Input() issue: Issue;","lastModifiedDate":"2020-01-14"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  @Output() issueUpdated \u003d new EventEmitter\u003cIssue\u003e();","lastModifiedDate":"2020-01-14"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  constructor(private issueService: IssueService,","lastModifiedDate":"2020-01-14"},{"lineNumber":36,"author":{"gitId":"-"},"content":"              private formBuilder: FormBuilder,","lastModifiedDate":"2020-01-14"},{"lineNumber":37,"author":{"gitId":"-"},"content":"              public labelService: LabelService,","lastModifiedDate":"2020-01-14"},{"lineNumber":38,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2020-01-14"},{"lineNumber":39,"author":{"gitId":"-"},"content":"              private dialog: MatDialog,","lastModifiedDate":"2020-01-14"},{"lineNumber":40,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService) { }","lastModifiedDate":"2020-01-14"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2020-01-14"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    this.teamMembers \u003d this.issue.teamAssigned.teamMembers.map((member) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      return member.loginId;","lastModifiedDate":"2020-01-14"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    this.duplicatedIssueList \u003d this.getDupIssueList();","lastModifiedDate":"2020-01-14"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    this.newTeamResponseForm \u003d this.formBuilder.group({","lastModifiedDate":"2020-01-14"},{"lineNumber":48,"author":{"gitId":"Audrey Felicio Anwar"},"content":"      description: [\u0027\u0027],","lastModifiedDate":"2021-06-24"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      severity: [this.issue.severity, Validators.required],","lastModifiedDate":"2020-01-14"},{"lineNumber":50,"author":{"gitId":"-"},"content":"      type: [this.issue.type, Validators.required],","lastModifiedDate":"2020-01-14"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      responseTag: [this.issue.responseTag, Validators.required],","lastModifiedDate":"2020-01-14"},{"lineNumber":52,"author":{"gitId":"-"},"content":"      assignees: [this.issue.assignees.map(a \u003d\u003e a.toLowerCase())],","lastModifiedDate":"2020-01-14"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      duplicated: [false],","lastModifiedDate":"2020-01-14"},{"lineNumber":54,"author":{"gitId":"-"},"content":"      duplicateOf: [\u0027\u0027]","lastModifiedDate":"2020-01-14"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.duplicated.valueChanges.subscribe(checked \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":57,"author":{"gitId":"-"},"content":"      if (checked) {","lastModifiedDate":"2020-01-14"},{"lineNumber":58,"author":{"gitId":"-"},"content":"        this.duplicateOf.setValidators(Validators.required);","lastModifiedDate":"2020-01-14"},{"lineNumber":59,"author":{"gitId":"-"},"content":"        this.responseTag.setValidators(null);","lastModifiedDate":"2020-01-14"},{"lineNumber":60,"author":{"gitId":"-"},"content":"      } else {","lastModifiedDate":"2020-01-14"},{"lineNumber":61,"author":{"gitId":"-"},"content":"        this.duplicateOf.setValidators(null);","lastModifiedDate":"2020-01-14"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        this.responseTag.setValidators(Validators.required);","lastModifiedDate":"2020-01-14"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-01-14"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      this.duplicateOf.updateValueAndValidity();","lastModifiedDate":"2020-01-14"},{"lineNumber":65,"author":{"gitId":"-"},"content":"      this.responseTag.updateValueAndValidity();","lastModifiedDate":"2020-01-14"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    this.submitButtonText \u003d SUBMIT_BUTTON_TEXT.SUBMIT;","lastModifiedDate":"2020-01-14"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":69,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  submitNewTeamResponse(form: NgForm) {","lastModifiedDate":"2020-01-14"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    if (this.newTeamResponseForm.invalid) {","lastModifiedDate":"2020-01-14"},{"lineNumber":72,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2020-01-14"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    this.isFormPending \u003d true;","lastModifiedDate":"2020-01-14"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    const latestIssue \u003d this.getUpdatedIssue();","lastModifiedDate":"2020-01-14"},{"lineNumber":76,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    this.isSafeToSubmit().pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      flatMap((isSaveToSubmit: boolean) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":79,"author":{"gitId":"-"},"content":"        const newCommentDescription \u003d latestIssue.createGithubTeamResponse();","lastModifiedDate":"2020-01-14"},{"lineNumber":80,"author":{"gitId":"-"},"content":"        if (isSaveToSubmit) {","lastModifiedDate":"2020-01-14"},{"lineNumber":81,"author":{"gitId":"-"},"content":"          return this.issueService.createTeamResponse(latestIssue);","lastModifiedDate":"2020-09-12"},{"lineNumber":82,"author":{"gitId":"-"},"content":"        } else if (this.submitButtonText \u003d\u003d\u003d SUBMIT_BUTTON_TEXT.OVERWRITE) {","lastModifiedDate":"2020-01-14"},{"lineNumber":83,"author":{"gitId":"-"},"content":"          const issueCommentId \u003d this.issueService.issues[this.issue.id].issueComment.id;","lastModifiedDate":"2020-01-14"},{"lineNumber":84,"author":{"gitId":"-"},"content":"          return this.issueService.updateIssueWithComment(latestIssue, \u003cIssueComment\u003e{","lastModifiedDate":"2020-09-12"},{"lineNumber":85,"author":{"gitId":"-"},"content":"            id: issueCommentId,","lastModifiedDate":"2020-01-14"},{"lineNumber":86,"author":{"gitId":"-"},"content":"            description: newCommentDescription,","lastModifiedDate":"2020-01-14"},{"lineNumber":87,"author":{"gitId":"-"},"content":"          });","lastModifiedDate":"2020-09-12"},{"lineNumber":88,"author":{"gitId":"-"},"content":"        } else {","lastModifiedDate":"2020-01-14"},{"lineNumber":89,"author":{"gitId":"-"},"content":"          this.conflict \u003d new Conflict(\u0027 \u0027, this.issueService.issues[this.issue.id].teamResponse);","lastModifiedDate":"2020-01-14"},{"lineNumber":90,"author":{"gitId":"-"},"content":"          this.submitButtonText \u003d SUBMIT_BUTTON_TEXT.OVERWRITE;","lastModifiedDate":"2020-01-14"},{"lineNumber":91,"author":{"gitId":"-"},"content":"          this.viewUpdatedResponse();","lastModifiedDate":"2020-01-14"},{"lineNumber":92,"author":{"gitId":"-"},"content":"          return throwError(\u0027A response has been submitted. Please verify the changes and try again.\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":93,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-01-14"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-01-14"},{"lineNumber":95,"author":{"gitId":"-"},"content":"      finalize(() \u003d\u003e this.isFormPending \u003d false)","lastModifiedDate":"2020-01-14"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    ).subscribe((updatedIssue: Issue) \u003d\u003e {","lastModifiedDate":"2020-09-12"},{"lineNumber":97,"author":{"gitId":"-"},"content":"      // updatedIssue.issueComment \u003d updatedComment;","lastModifiedDate":"2020-09-12"},{"lineNumber":98,"author":{"gitId":"-"},"content":"      this.issueUpdated.emit(updatedIssue);","lastModifiedDate":"2020-01-14"},{"lineNumber":99,"author":{"gitId":"-"},"content":"      form.resetForm();","lastModifiedDate":"2020-03-02"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    }, (error) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":101,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":104,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":106,"author":{"gitId":"-"},"content":"   * @return - Determines whether it is safe to submit a tester response.","lastModifiedDate":"2020-01-14"},{"lineNumber":107,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  isSafeToSubmit(): Observable\u003cboolean\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    return this.issueService.getLatestIssue(this.issue.id).pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":110,"author":{"gitId":"-"},"content":"      map((issue: Issue) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":111,"author":{"gitId":"-"},"content":"        return !issue.teamResponse;","lastModifiedDate":"2020-01-14"},{"lineNumber":112,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-01-14"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":115,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":117,"author":{"gitId":"-"},"content":"   * @return - an updated copy of issue with its updated value from the form.","lastModifiedDate":"2020-01-14"},{"lineNumber":118,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  getUpdatedIssue(): Issue {","lastModifiedDate":"2020-01-14"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    const clone \u003d this.issue.clone(this.phaseService.currentPhase);","lastModifiedDate":"2020-01-14"},{"lineNumber":121,"author":{"gitId":"-"},"content":"    clone.severity \u003d this.severity.value;","lastModifiedDate":"2020-01-14"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    clone.type \u003d this.type.value;","lastModifiedDate":"2020-01-14"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    clone.assignees \u003d this.assignees.value;","lastModifiedDate":"2020-01-14"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    clone.responseTag \u003d this.responseTag.value;","lastModifiedDate":"2020-01-14"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    clone.duplicated \u003d this.duplicated.value;","lastModifiedDate":"2020-01-14"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    clone.duplicateOf \u003d this.duplicateOf.value;","lastModifiedDate":"2020-01-14"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    clone.status \u003d STATUS.Done;","lastModifiedDate":"2020-01-14"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    clone.teamResponse \u003d Issue.updateTeamResponse(this.description.value);","lastModifiedDate":"2020-02-28"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    return clone;","lastModifiedDate":"2020-01-14"},{"lineNumber":130,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":131,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":132,"author":{"gitId":"-"},"content":"  dupIssueOptionIsDisabled(issue: Issue): boolean {","lastModifiedDate":"2020-01-14"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    return SEVERITY_ORDER[this.severity.value] \u003e SEVERITY_ORDER[issue.severity] || (issue.duplicated || !!issue.duplicateOf);","lastModifiedDate":"2020-01-14"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":135,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  getDisabledDupOptionErrorText(issue: Issue): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":137,"author":{"gitId":"-"},"content":"    const reason \u003d new Array\u003cstring\u003e();","lastModifiedDate":"2020-01-14"},{"lineNumber":138,"author":{"gitId":"-"},"content":"    if (this.dupIssueOptionIsDisabled(issue)) {","lastModifiedDate":"2020-01-14"},{"lineNumber":139,"author":{"gitId":"-"},"content":"      if (SEVERITY_ORDER[this.severity.value] \u003e SEVERITY_ORDER[issue.severity]) {","lastModifiedDate":"2020-01-14"},{"lineNumber":140,"author":{"gitId":"-"},"content":"        reason.push(\u0027Issue of lower priority\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":141,"author":{"gitId":"-"},"content":"      } else if (issue.duplicated || !!issue.duplicateOf) {","lastModifiedDate":"2020-01-14"},{"lineNumber":142,"author":{"gitId":"-"},"content":"        reason.push(\u0027A duplicated issue\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":143,"author":{"gitId":"-"},"content":"      }","lastModifiedDate":"2020-01-14"},{"lineNumber":144,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":145,"author":{"gitId":"-"},"content":"    return reason.join(\u0027, \u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":146,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":147,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  handleChangeOfDuplicateCheckbox(event: MatCheckboxChange) {","lastModifiedDate":"2020-01-14"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    if (event.checked) {","lastModifiedDate":"2020-01-14"},{"lineNumber":150,"author":{"gitId":"-"},"content":"      this.responseTag.setValue(\u0027\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":151,"author":{"gitId":"-"},"content":"      this.assignees.setValue([]);","lastModifiedDate":"2020-01-14"},{"lineNumber":152,"author":{"gitId":"-"},"content":"      this.responseTag.markAsUntouched();","lastModifiedDate":"2020-01-14"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2020-01-14"},{"lineNumber":154,"author":{"gitId":"-"},"content":"      this.duplicateOf.setValue(\u0027\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":155,"author":{"gitId":"-"},"content":"      this.duplicateOf.markAsUntouched();","lastModifiedDate":"2020-01-14"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":157,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":158,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":159,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":160,"author":{"gitId":"-"},"content":"   * Pops up a dialog that shows the updated team response that was submitted.","lastModifiedDate":"2020-01-14"},{"lineNumber":161,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":162,"author":{"gitId":"-"},"content":"  viewUpdatedResponse(): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":163,"author":{"gitId":"-"},"content":"    this.dialog.open(ConflictDialogComponent, {","lastModifiedDate":"2020-01-14"},{"lineNumber":164,"author":{"gitId":"-"},"content":"      data: this.issueService.issues[this.issue.id],","lastModifiedDate":"2020-01-14"},{"lineNumber":165,"author":{"gitId":"-"},"content":"      autoFocus: false","lastModifiedDate":"2020-01-14"},{"lineNumber":166,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":167,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":168,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":169,"author":{"gitId":"-"},"content":"  refresh(): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":170,"author":{"gitId":"-"},"content":"    const updatedIssue \u003d this.issueService.issues[this.issue.id];","lastModifiedDate":"2020-01-14"},{"lineNumber":171,"author":{"gitId":"-"},"content":"    this.issueUpdated.emit(updatedIssue);","lastModifiedDate":"2020-01-14"},{"lineNumber":172,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":173,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":174,"author":{"gitId":"-"},"content":"  private getDupIssueList(): Observable\u003cIssue[]\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    return this.issueService.issues$.pipe(map((issues) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":176,"author":{"gitId":"-"},"content":"      return issues.filter((issue) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":177,"author":{"gitId":"-"},"content":"        return this.issue.id !\u003d\u003d issue.id;","lastModifiedDate":"2020-01-14"},{"lineNumber":178,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2020-01-14"},{"lineNumber":179,"author":{"gitId":"-"},"content":"    }));","lastModifiedDate":"2020-01-14"},{"lineNumber":180,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":181,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":182,"author":{"gitId":"-"},"content":"  get description() {","lastModifiedDate":"2020-01-14"},{"lineNumber":183,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027description\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":184,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":185,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":186,"author":{"gitId":"-"},"content":"  get severity() {","lastModifiedDate":"2020-01-14"},{"lineNumber":187,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027severity\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":188,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":189,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":190,"author":{"gitId":"-"},"content":"  get type() {","lastModifiedDate":"2020-01-14"},{"lineNumber":191,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027type\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":192,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":193,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":194,"author":{"gitId":"-"},"content":"  get assignees() {","lastModifiedDate":"2020-01-14"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027assignees\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":196,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":197,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":198,"author":{"gitId":"-"},"content":"  get responseTag() {","lastModifiedDate":"2020-01-14"},{"lineNumber":199,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027responseTag\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":200,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":201,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":202,"author":{"gitId":"-"},"content":"  get duplicated() {","lastModifiedDate":"2020-01-14"},{"lineNumber":203,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027duplicated\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":204,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":205,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  get duplicateOf() {","lastModifiedDate":"2020-01-14"},{"lineNumber":207,"author":{"gitId":"-"},"content":"    return this.newTeamResponseForm.get(\u0027duplicateOf\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":208,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":209,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2020-01-14"}],"authorContributionMap":{"Audrey Felicio Anwar":1,"-":208}},{"path":"src/app/shared/view-issue/tester-response/tester-response.component.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":".container {","lastModifiedDate":"2019-07-20"},{"lineNumber":2,"author":{"gitId":"-"},"content":"    padding: 10px 20px 0 20px;","lastModifiedDate":"2019-07-20"},{"lineNumber":3,"author":{"gitId":"-"},"content":"    display: grid;","lastModifiedDate":"2019-07-20"},{"lineNumber":4,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2019-07-20"},{"lineNumber":5,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-26"},{"lineNumber":6,"author":{"gitId":"ptvrajsk"},"content":".mat-radio-button ~ .mat-radio-button {","lastModifiedDate":"2021-03-26"},{"lineNumber":7,"author":{"gitId":"ptvrajsk"},"content":"  margin-left: 16px;","lastModifiedDate":"2021-03-26"},{"lineNumber":8,"author":{"gitId":"ptvrajsk"},"content":"}","lastModifiedDate":"2021-03-26"}],"authorContributionMap":{"ptvrajsk":4,"-":4}},{"path":"src/app/shared/view-issue/tester-response/tester-response.component.html","fileType":"html","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003ch3 class\u003d\"mat-title\"\u003eTester\u0027s Response\u003c/h3\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":2,"author":{"gitId":"-"},"content":"\u003cform [formGroup]\u003d\"testerResponseForm\" (ngSubmit)\u003d\"submitTesterResponseForm()\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":3,"author":{"gitId":"-"},"content":"  \u003cdiv class\u003d\"timeline-comment\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":4,"author":{"gitId":"-"},"content":"    \u003cdiv class\u003d\"timeline-header\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":5,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"vertical-align: middle; margin-left: 5px\" *ngIf\u003d\"this.isNewResponse()\"\u003e Please verify the following item(s). \u003c/span\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":6,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"vertical-align: middle; margin-left: 5px\" *ngIf\u003d\"!this.isNewResponse()\"\u003e \u003cstrong\u003eTester\u003c/strong\u003e responded. \u003c/span\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":7,"author":{"gitId":"-"},"content":"      \u003cbutton mat-button style\u003d\"float: right;\" *ngIf\u003d\"!isEditing\" (click)\u003d\"changeToEditMode()\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":8,"author":{"gitId":"-"},"content":"          Edit","lastModifiedDate":"2020-01-14"},{"lineNumber":9,"author":{"gitId":"-"},"content":"      \u003c/button\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":10,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    \u003cdiv\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":12,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"container\" *ngFor\u003d\"let response of issue.testerResponses; index as i; trackBy: trackDisagreeList\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":13,"author":{"gitId":"-"},"content":"        \u003cdiv style\u003d\"display: flex; align-items: center\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":14,"author":{"gitId":"-"},"content":"          \u003cdiv class\u003d\"question-mark\"\u003e ? \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":15,"author":{"gitId":"-"},"content":"          \u003cmarkdown [data]\u003d\"response.getTitleInMarkDown()\"\u003e\u003c/markdown\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":16,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":17,"author":{"gitId":"-"},"content":"        \u003cbr\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":18,"author":{"gitId":"-"},"content":"        \u003cmarkdown [data]\u003d\"response.description\"\u003e\u003c/markdown\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":19,"author":{"gitId":"-"},"content":"        \u003cbr\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":20,"author":{"gitId":"-"},"content":"        \u003cdiv\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":21,"author":{"gitId":"ptvrajsk"},"content":"          \u003cmat-radio-group style\u003d\"display: inline-block; width: 20%\"","lastModifiedDate":"2021-03-26"},{"lineNumber":22,"author":{"gitId":"ptvrajsk"},"content":"                           aria-label\u003d\"Select Agree or Disagree to Team\u0027s Response\"","lastModifiedDate":"2021-03-26"},{"lineNumber":23,"author":{"gitId":"-"},"content":"                           [disableControl]\u003d\"!isEditing\"","lastModifiedDate":"2020-01-14"},{"lineNumber":24,"author":{"gitId":"ptvrajsk"},"content":"                           [id]\u003d\"getDisagreeRadioFormId(i)\"","lastModifiedDate":"2021-03-26"},{"lineNumber":25,"author":{"gitId":"ptvrajsk"},"content":"                           [formControlName]\u003d\"getDisagreeRadioFormId(i)\"","lastModifiedDate":"2021-03-26"},{"lineNumber":26,"author":{"gitId":"ptvrajsk"},"content":"                           (change)\u003d\"handleChangeOfDisagreeRadioButton($event, i)\"\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":27,"author":{"gitId":"ptvrajsk"},"content":"            \u003cmat-radio-button [value]\u003d\"false\"\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":28,"author":{"gitId":"ptvrajsk"},"content":"              I Agree","lastModifiedDate":"2021-03-26"},{"lineNumber":29,"author":{"gitId":"ptvrajsk"},"content":"            \u003c/mat-radio-button\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":30,"author":{"gitId":"ptvrajsk"},"content":"            \u003cmat-radio-button [value]\u003d\"true\"\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":31,"author":{"gitId":"ptvrajsk"},"content":"              I Disagree","lastModifiedDate":"2021-03-26"},{"lineNumber":32,"author":{"gitId":"ptvrajsk"},"content":"            \u003c/mat-radio-button\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":33,"author":{"gitId":"ptvrajsk"},"content":"          \u003c/mat-radio-group\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":34,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":35,"author":{"gitId":"ptvrajsk"},"content":"        \u003cdiv *ngIf\u003d\"testerResponseForm.get(getDisagreeRadioFormId(i)).value\"\u003e","lastModifiedDate":"2021-03-26"},{"lineNumber":36,"author":{"gitId":"-"},"content":"          \u003cdiv\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":37,"author":{"gitId":"-"},"content":"            \u003cp style\u003d\"font-weight: 500;\"\u003e Reason for Disagreement: \u003c/p\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":38,"author":{"gitId":"-"},"content":"            \u003cmarkdown [data]\u003d\"response.reasonForDisagreement\" *ngIf\u003d\"!isEditing\"\u003e\u003c/markdown\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":39,"author":{"gitId":"-"},"content":"          \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":40,"author":{"gitId":"-"},"content":"          \u003cdiv *ngIf\u003d\"isEditing\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":41,"author":{"gitId":"-"},"content":"            \u003capp-comment-editor [commentField]\u003d\"testerResponseForm.get(getTesterResponseFormId(i))\"","lastModifiedDate":"2020-01-14"},{"lineNumber":42,"author":{"gitId":"-"},"content":"                                [id]\u003d\"getTesterResponseFormId(i)\"","lastModifiedDate":"2020-01-14"},{"lineNumber":43,"author":{"gitId":"-"},"content":"                                [commentForm]\u003d\"testerResponseForm\"","lastModifiedDate":"2020-01-14"},{"lineNumber":44,"author":{"gitId":"-"},"content":"                                [(isFormPending)]\u003d\"isFormPending\"","lastModifiedDate":"2020-01-14"},{"lineNumber":45,"author":{"gitId":"-"},"content":"                                [(submitButtonText)]\u003d\"submitButtonText\"","lastModifiedDate":"2020-01-14"},{"lineNumber":46,"author":{"gitId":"-"},"content":"            \u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":47,"author":{"gitId":"-"},"content":"            \u003c/app-comment-editor\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":48,"author":{"gitId":"-"},"content":"          \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":49,"author":{"gitId":"-"},"content":"        \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":50,"author":{"gitId":"-"},"content":"        \u003cbr\u003e \u003cmarkdown data\u003d\"-------------------\"\u003e\u003c/markdown\u003e \u003cbr\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":52,"author":{"gitId":"-"},"content":"      \u003cmat-divider\u003e\u003c/mat-divider\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      \u003cdiv class\u003d\"editor-actions\" *ngIf\u003d\"isEditing\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":54,"author":{"gitId":"-"},"content":"        \u003cbutton class\u003d\"editor-action\" *ngIf\u003d\"conflict\" type\u003d\"button\" [disabled]\u003d\"isFormPending\"","lastModifiedDate":"2020-01-14"},{"lineNumber":55,"author":{"gitId":"-"},"content":"                mat-raised-button color\u003d\"primary\" (click)\u003d\"viewChanges()\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":56,"author":{"gitId":"-"},"content":"          View Updated Response","lastModifiedDate":"2020-01-14"},{"lineNumber":57,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":58,"author":{"gitId":"-"},"content":"        \u003cbutton type\u003d\"submit\" [disabled]\u003d\"testerResponseForm.invalid || isFormPending\" mat-stroked-button","lastModifiedDate":"2020-01-14"},{"lineNumber":59,"author":{"gitId":"-"},"content":"                color\u003d\"primary\" *ngIf\u003d\"!conflict\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":60,"author":{"gitId":"-"},"content":"          {{ submitButtonText }}","lastModifiedDate":"2020-01-14"},{"lineNumber":61,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        \u003cbutton class\u003d\"editor-action\" type\u003d\"submit\" [disabled]\u003d\"testerResponseForm.invalid || isFormPending\"","lastModifiedDate":"2020-01-14"},{"lineNumber":63,"author":{"gitId":"-"},"content":"                mat-raised-button color\u003d\"warn\" *ngIf\u003d\"conflict\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":64,"author":{"gitId":"-"},"content":"          {{ submitButtonText }}","lastModifiedDate":"2020-01-14"},{"lineNumber":65,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":66,"author":{"gitId":"-"},"content":"        \u003cbutton class\u003d\"editor-action\" type\u003d\"button\" [disabled]\u003d\"isFormPending\" *ngIf\u003d\"!this.isNewResponse()\"","lastModifiedDate":"2020-01-14"},{"lineNumber":67,"author":{"gitId":"-"},"content":"                mat-stroked-button color\u003d\"warn\" (click)\u003d\"cancelEditMode()\"\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":68,"author":{"gitId":"-"},"content":"          Cancel","lastModifiedDate":"2020-01-14"},{"lineNumber":69,"author":{"gitId":"-"},"content":"        \u003c/button\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  \u003c/div\u003e","lastModifiedDate":"2020-01-14"},{"lineNumber":73,"author":{"gitId":"-"},"content":"\u003c/form\u003e","lastModifiedDate":"2020-01-14"}],"authorContributionMap":{"ptvrajsk":13,"-":60}},{"path":"src/app/shared/view-issue/tester-response/tester-response.component.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Component, OnInit, Input, Output, EventEmitter, ViewChild, SimpleChanges, OnChanges } from \u0027@angular/core\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { FormGroup, FormBuilder, Validators, FormControl } from \u0027@angular/forms\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../../core/models/issue.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { CommentEditorComponent } from \u0027../../comment-editor/comment-editor.component\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../../core/services/issue.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ErrorHandlingService } from \u0027../../../core/services/error-handling.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../../core/services/user.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":8,"author":{"gitId":"-"},"content":"import { UserRole } from \u0027../../../core/models/user.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":9,"author":{"gitId":"-"},"content":"import { IssueComment } from \u0027../../../core/models/comment.model\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { SUBMIT_BUTTON_TEXT } from \u0027../view-issue.component\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { finalize, map, flatMap } from \u0027rxjs/operators\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { Observable, throwError } from \u0027rxjs\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { MatDialog } from \u0027@angular/material\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { ConflictDialogComponent, TesterResponseConflictData } from \u0027./conflict-dialog/conflict-dialog.component\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../../core/services/phase.service\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":16,"author":{"gitId":"ptvrajsk"},"content":"import { TesterResponse } from \u0027../../../core/models/tester-response.model\u0027;","lastModifiedDate":"2021-03-26"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":18,"author":{"gitId":"-"},"content":"@Component({","lastModifiedDate":"2020-01-14"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  selector: \u0027app-tester-response\u0027,","lastModifiedDate":"2020-01-14"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  templateUrl: \u0027./tester-response.component.html\u0027,","lastModifiedDate":"2020-01-14"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  styleUrls: [\u0027./tester-response.component.css\u0027]","lastModifiedDate":"2020-01-14"},{"lineNumber":22,"author":{"gitId":"-"},"content":"})","lastModifiedDate":"2020-01-14"},{"lineNumber":23,"author":{"gitId":"-"},"content":"export class TesterResponseComponent implements OnInit, OnChanges {","lastModifiedDate":"2020-01-14"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  testerResponseForm: FormGroup;","lastModifiedDate":"2020-01-14"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  isFormPending \u003d false;","lastModifiedDate":"2020-01-14"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  submitButtonText: string;","lastModifiedDate":"2020-01-14"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  @Input() issue: Issue;","lastModifiedDate":"2020-01-14"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  @Input() isEditing: boolean;","lastModifiedDate":"2020-01-14"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  @Output() issueUpdated \u003d new EventEmitter\u003cIssue\u003e();","lastModifiedDate":"2020-01-14"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  @Output() updateEditState \u003d new EventEmitter\u003cboolean\u003e();","lastModifiedDate":"2020-01-14"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  @ViewChild(CommentEditorComponent) commentEditor: CommentEditorComponent;","lastModifiedDate":"2020-01-14"},{"lineNumber":34,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":35,"author":{"gitId":"ptvrajsk"},"content":"  private readonly responseRadioIdentifier \u003d \u0027response-radio\u0027;","lastModifiedDate":"2021-03-26"},{"lineNumber":36,"author":{"gitId":"ptvrajsk"},"content":"  private readonly responseTextIdentifier \u003d \u0027tester-response\u0027;","lastModifiedDate":"2021-03-26"},{"lineNumber":37,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-26"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  constructor(private formBuilder: FormBuilder,","lastModifiedDate":"2020-01-14"},{"lineNumber":39,"author":{"gitId":"-"},"content":"              private issueService: IssueService,","lastModifiedDate":"2020-01-14"},{"lineNumber":40,"author":{"gitId":"-"},"content":"              public userService: UserService,","lastModifiedDate":"2020-01-14"},{"lineNumber":41,"author":{"gitId":"-"},"content":"              private errorHandlingService: ErrorHandlingService,","lastModifiedDate":"2020-01-14"},{"lineNumber":42,"author":{"gitId":"-"},"content":"              private dialog: MatDialog,","lastModifiedDate":"2020-01-14"},{"lineNumber":43,"author":{"gitId":"-"},"content":"              private phaseService: PhaseService) { }","lastModifiedDate":"2020-01-14"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  ngOnInit() {","lastModifiedDate":"2020-01-14"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    this.resetForm();","lastModifiedDate":"2020-01-14"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    this.submitButtonText \u003d this.isNewResponse() ? SUBMIT_BUTTON_TEXT.SUBMIT : SUBMIT_BUTTON_TEXT.SAVE;","lastModifiedDate":"2020-01-14"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    setTimeout(() \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      this.updateEditState.emit(this.isNewResponse());","lastModifiedDate":"2020-01-14"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":52,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  ngOnChanges(changes: SimpleChanges) {","lastModifiedDate":"2020-01-14"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    // Whenever there is a change in value of issue, we reset the form so to render the most up to date form.","lastModifiedDate":"2020-01-14"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    if (!this.isEditing \u0026\u0026 changes.issue \u0026\u0026 changes.issue.previousValue !\u003d\u003d changes.issue.currentValue) {","lastModifiedDate":"2020-01-14"},{"lineNumber":56,"author":{"gitId":"-"},"content":"      this.resetForm();","lastModifiedDate":"2020-01-14"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":59,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  submitTesterResponseForm() {","lastModifiedDate":"2020-01-14"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    if (this.testerResponseForm.invalid) {","lastModifiedDate":"2020-01-14"},{"lineNumber":62,"author":{"gitId":"-"},"content":"      return;","lastModifiedDate":"2020-01-14"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.isFormPending \u003d true;","lastModifiedDate":"2020-01-14"},{"lineNumber":65,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    this.isSafeToSubmit().pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":67,"author":{"gitId":"-"},"content":"      flatMap((isSaveToSubmit: boolean) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":68,"author":{"gitId":"-"},"content":"        if (isSaveToSubmit || this.isUpdatingDeletedResponse() ||","lastModifiedDate":"2020-01-14"},{"lineNumber":69,"author":{"gitId":"-"},"content":"            this.submitButtonText \u003d\u003d\u003d SUBMIT_BUTTON_TEXT.OVERWRITE) {","lastModifiedDate":"2020-01-14"},{"lineNumber":70,"author":{"gitId":"-"},"content":"          return this.issueService.updateTesterResponse(this.issue, \u003cIssueComment\u003e{","lastModifiedDate":"2020-01-14"},{"lineNumber":71,"author":{"gitId":"-"},"content":"            ...this.issue.issueComment,","lastModifiedDate":"2020-01-14"},{"lineNumber":72,"author":{"gitId":"-"},"content":"            description: this.getTesterResponseFromForm(),","lastModifiedDate":"2020-01-14"},{"lineNumber":73,"author":{"gitId":"-"},"content":"          });","lastModifiedDate":"2020-01-14"},{"lineNumber":74,"author":{"gitId":"-"},"content":"        } else {","lastModifiedDate":"2020-01-14"},{"lineNumber":75,"author":{"gitId":"-"},"content":"          this.submitButtonText \u003d SUBMIT_BUTTON_TEXT.OVERWRITE;","lastModifiedDate":"2020-01-14"},{"lineNumber":76,"author":{"gitId":"-"},"content":"          this.viewChanges();","lastModifiedDate":"2020-01-14"},{"lineNumber":77,"author":{"gitId":"-"},"content":"          return throwError(\u0027The content you are editing has changed. Please verify the changes and try again.\u0027);","lastModifiedDate":"2020-01-14"},{"lineNumber":78,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-01-14"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      }),","lastModifiedDate":"2020-01-14"},{"lineNumber":80,"author":{"gitId":"-"},"content":"      finalize(() \u003d\u003e this.isFormPending \u003d false)","lastModifiedDate":"2020-01-14"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    ).subscribe((updatedIssue: Issue) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":82,"author":{"gitId":"-"},"content":"      this.issueUpdated.emit(updatedIssue);","lastModifiedDate":"2020-01-14"},{"lineNumber":83,"author":{"gitId":"-"},"content":"      this.resetToDefault();","lastModifiedDate":"2020-01-14"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    }, (error) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":85,"author":{"gitId":"-"},"content":"      this.errorHandlingService.handleError(error);","lastModifiedDate":"2020-01-14"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":88,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":90,"author":{"gitId":"-"},"content":"   * @return - Determines whether it is safe to submit a tester response.","lastModifiedDate":"2020-01-14"},{"lineNumber":91,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  isSafeToSubmit(): Observable\u003cboolean\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    return this.issueService.getLatestIssue(this.issue.id).pipe(","lastModifiedDate":"2020-01-14"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      map((issue: Issue) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":95,"author":{"gitId":"-"},"content":"        if (!issue.testerResponses) {","lastModifiedDate":"2020-01-14"},{"lineNumber":96,"author":{"gitId":"-"},"content":"          return false;","lastModifiedDate":"2020-01-14"},{"lineNumber":97,"author":{"gitId":"-"},"content":"        }","lastModifiedDate":"2020-01-14"},{"lineNumber":98,"author":{"gitId":"-"},"content":"        return issue.testerResponses.reduce((result, response, index) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":99,"author":{"gitId":"-"},"content":"          return result \u0026\u0026 response.compareTo(this.issue.testerResponses[index]) \u003d\u003d\u003d 0;","lastModifiedDate":"2020-01-14"},{"lineNumber":100,"author":{"gitId":"-"},"content":"        }, true);","lastModifiedDate":"2020-01-14"},{"lineNumber":101,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2020-01-14"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2020-01-14"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":104,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":106,"author":{"gitId":"-"},"content":"   * Determines whether the user is updating a response that has already been deleted on Github.","lastModifiedDate":"2020-01-14"},{"lineNumber":107,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  isUpdatingDeletedResponse(): boolean {","lastModifiedDate":"2020-01-14"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    return this.issue.testerResponses \u0026\u0026 !this.issueService.issues[this.issue.id].testerResponses;","lastModifiedDate":"2020-01-14"},{"lineNumber":110,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":111,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":113,"author":{"gitId":"-"},"content":"   * Pops up a dialog that shows the difference between the outdated tester\u0027s response and the updated one.","lastModifiedDate":"2020-01-14"},{"lineNumber":114,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  viewChanges(): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    this.dialog.open(ConflictDialogComponent, {","lastModifiedDate":"2020-01-14"},{"lineNumber":117,"author":{"gitId":"-"},"content":"      data: \u003cTesterResponseConflictData\u003e{","lastModifiedDate":"2020-01-14"},{"lineNumber":118,"author":{"gitId":"-"},"content":"        outdatedResponses: this.issue.testerResponses,","lastModifiedDate":"2020-01-14"},{"lineNumber":119,"author":{"gitId":"-"},"content":"        updatedResponses: this.issueService.issues[this.issue.id].testerResponses,","lastModifiedDate":"2020-01-14"},{"lineNumber":120,"author":{"gitId":"-"},"content":"      },","lastModifiedDate":"2020-01-14"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      autoFocus: false","lastModifiedDate":"2020-01-14"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":123,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":124,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  changeToEditMode() {","lastModifiedDate":"2020-01-14"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    this.updateEditState.emit(true);","lastModifiedDate":"2020-01-14"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":128,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  cancelEditMode() {","lastModifiedDate":"2020-01-14"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    this.issueService.getIssue(this.issue.id).subscribe((issue: Issue) \u003d\u003e {","lastModifiedDate":"2020-01-14"},{"lineNumber":131,"author":{"gitId":"-"},"content":"      this.issueUpdated.emit(issue);","lastModifiedDate":"2020-01-14"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      this.resetToDefault();","lastModifiedDate":"2020-01-14"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2020-01-14"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":135,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":137,"author":{"gitId":"-"},"content":"   * Resets to default form state.","lastModifiedDate":"2020-01-14"},{"lineNumber":138,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":139,"author":{"gitId":"-"},"content":"  resetToDefault(): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":140,"author":{"gitId":"-"},"content":"    this.submitButtonText \u003d SUBMIT_BUTTON_TEXT.SAVE;","lastModifiedDate":"2020-01-14"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    this.updateEditState.emit(false);","lastModifiedDate":"2020-01-14"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    this.resetForm();","lastModifiedDate":"2020-01-14"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":144,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":145,"author":{"gitId":"ptvrajsk"},"content":"  handleChangeOfDisagreeRadioButton(event, index: number) {","lastModifiedDate":"2021-03-26"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    const responseFormControl \u003d this.testerResponseForm.get(this.getTesterResponseFormId(index));","lastModifiedDate":"2020-01-14"},{"lineNumber":147,"author":{"gitId":"ptvrajsk"},"content":"    const isDisagreeChecked \u003d this.isResponseDisagreed(index);","lastModifiedDate":"2021-03-26"},{"lineNumber":148,"author":{"gitId":"-"},"content":"    if (isDisagreeChecked) {","lastModifiedDate":"2020-01-14"},{"lineNumber":149,"author":{"gitId":"-"},"content":"      responseFormControl.enable();","lastModifiedDate":"2020-01-14"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    } else {","lastModifiedDate":"2020-01-14"},{"lineNumber":151,"author":{"gitId":"-"},"content":"      responseFormControl.disable();","lastModifiedDate":"2020-01-14"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":153,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":154,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":155,"author":{"gitId":"-"},"content":"  trackDisagreeList(index: number, item: string[]): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    return item[index];","lastModifiedDate":"2020-01-14"},{"lineNumber":157,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":158,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":159,"author":{"gitId":"-"},"content":"  isNewResponse(): boolean {","lastModifiedDate":"2020-01-14"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    return !this.issue.status \u0026\u0026 this.userService.currentUser.role \u003d\u003d\u003d UserRole.Student;","lastModifiedDate":"2020-01-14"},{"lineNumber":161,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":162,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":163,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":164,"author":{"gitId":"-"},"content":"   * Will create a form group with initial values in `this.issue`.","lastModifiedDate":"2020-01-14"},{"lineNumber":165,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  createFormGroup() {","lastModifiedDate":"2020-01-14"},{"lineNumber":167,"author":{"gitId":"-"},"content":"    const group: any \u003d {};","lastModifiedDate":"2020-01-14"},{"lineNumber":168,"author":{"gitId":"ptvrajsk"},"content":"    // initialize fields for tester response and the radio buttons for tester to choose \"Agree\" / \"Disagree\"","lastModifiedDate":"2021-03-26"},{"lineNumber":169,"author":{"gitId":"-"},"content":"    for (let i \u003d 0; i \u003c this.issue.testerResponses.length; i++) {","lastModifiedDate":"2020-01-14"},{"lineNumber":170,"author":{"gitId":"-"},"content":"      const response \u003d this.issue.testerResponses[i];","lastModifiedDate":"2020-01-14"},{"lineNumber":171,"author":{"gitId":"-"},"content":"      group[this.getTesterResponseFormId(i)] \u003d new FormControl({","lastModifiedDate":"2020-01-14"},{"lineNumber":172,"author":{"gitId":"-"},"content":"        value: response.reasonForDisagreement,","lastModifiedDate":"2020-01-14"},{"lineNumber":173,"author":{"gitId":"-"},"content":"        disabled: !response.isDisagree()","lastModifiedDate":"2020-01-14"},{"lineNumber":174,"author":{"gitId":"-"},"content":"      }, Validators.required);","lastModifiedDate":"2020-01-14"},{"lineNumber":175,"author":{"gitId":"ptvrajsk"},"content":"      group[this.getDisagreeRadioFormId(i)] \u003d new FormControl({","lastModifiedDate":"2021-03-26"},{"lineNumber":176,"author":{"gitId":"-"},"content":"        value: response.isDisagree(),","lastModifiedDate":"2020-01-14"},{"lineNumber":177,"author":{"gitId":"-"},"content":"        disabled: !this.isEditing","lastModifiedDate":"2020-01-14"},{"lineNumber":178,"author":{"gitId":"-"},"content":"      }, Validators.required);","lastModifiedDate":"2020-01-14"},{"lineNumber":179,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":180,"author":{"gitId":"-"},"content":"    return group;","lastModifiedDate":"2020-01-14"},{"lineNumber":181,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":182,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":183,"author":{"gitId":"-"},"content":"  resetForm(): void {","lastModifiedDate":"2020-01-14"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    this.testerResponseForm \u003d this.formBuilder.group(this.createFormGroup());","lastModifiedDate":"2020-01-14"},{"lineNumber":185,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":186,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":187,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":188,"author":{"gitId":"-"},"content":"   * Based on the updated form and `this.issue` we obtain the updated tester response in Github format.","lastModifiedDate":"2020-01-14"},{"lineNumber":189,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":190,"author":{"gitId":"-"},"content":"  getTesterResponseFromForm(): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":191,"author":{"gitId":"-"},"content":"    if (!this.issue.testerResponses) {","lastModifiedDate":"2020-01-14"},{"lineNumber":192,"author":{"gitId":"-"},"content":"      return \u0027\u0027;","lastModifiedDate":"2020-01-14"},{"lineNumber":193,"author":{"gitId":"-"},"content":"    }","lastModifiedDate":"2020-01-14"},{"lineNumber":194,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    const updatedIssue \u003d this.issue.clone(this.phaseService.currentPhase);","lastModifiedDate":"2020-01-14"},{"lineNumber":196,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":197,"author":{"gitId":"ptvrajsk"},"content":"    updatedIssue.testerResponses.map((response: TesterResponse, index: number) \u003d\u003e {","lastModifiedDate":"2021-03-26"},{"lineNumber":198,"author":{"gitId":"ptvrajsk"},"content":"      // Filter Keys based on Response Index","lastModifiedDate":"2021-03-26"},{"lineNumber":199,"author":{"gitId":"ptvrajsk"},"content":"      const isDisagree \u003d this.isResponseDisagreed(index);","lastModifiedDate":"2021-03-26"},{"lineNumber":200,"author":{"gitId":"ptvrajsk"},"content":"      const reason \u003d isDisagree ? (this.getTesterResponseText(index) || response.reasonForDisagreement) : response.INITIAL_RESPONSE;","lastModifiedDate":"2021-03-26"},{"lineNumber":201,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":202,"author":{"gitId":"-"},"content":"      response.setDisagree(isDisagree);","lastModifiedDate":"2020-01-14"},{"lineNumber":203,"author":{"gitId":"-"},"content":"      response.setReasonForDisagreement(reason);","lastModifiedDate":"2020-01-14"},{"lineNumber":204,"author":{"gitId":"ptvrajsk"},"content":"      return response;","lastModifiedDate":"2021-03-26"},{"lineNumber":205,"author":{"gitId":"ptvrajsk"},"content":"    });","lastModifiedDate":"2021-03-26"},{"lineNumber":206,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":207,"author":{"gitId":"-"},"content":"    return updatedIssue.createGithubTesterResponse();","lastModifiedDate":"2020-01-14"},{"lineNumber":208,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":209,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":210,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":211,"author":{"gitId":"-"},"content":"   * @param index - index of action which the tester disagree.","lastModifiedDate":"2020-01-14"},{"lineNumber":212,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":213,"author":{"gitId":"-"},"content":"  getTesterResponseFormId(index: number): string {","lastModifiedDate":"2020-01-14"},{"lineNumber":214,"author":{"gitId":"ptvrajsk"},"content":"    return `${this.responseTextIdentifier}-${index}`;","lastModifiedDate":"2021-03-26"},{"lineNumber":215,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-26"},{"lineNumber":216,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-26"},{"lineNumber":217,"author":{"gitId":"ptvrajsk"},"content":"  /**","lastModifiedDate":"2021-03-26"},{"lineNumber":218,"author":{"gitId":"ptvrajsk"},"content":"   * Gets the Tester\u0027s Response text.","lastModifiedDate":"2021-03-26"},{"lineNumber":219,"author":{"gitId":"ptvrajsk"},"content":"   * @param index Tester Response Index.","lastModifiedDate":"2021-03-26"},{"lineNumber":220,"author":{"gitId":"ptvrajsk"},"content":"   */","lastModifiedDate":"2021-03-26"},{"lineNumber":221,"author":{"gitId":"ptvrajsk"},"content":"  getTesterResponseText(index: number): string {","lastModifiedDate":"2021-03-26"},{"lineNumber":222,"author":{"gitId":"ptvrajsk"},"content":"    return this.testerResponseForm.get(this.getTesterResponseFormId(index)).value;","lastModifiedDate":"2021-03-26"},{"lineNumber":223,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":224,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":225,"author":{"gitId":"-"},"content":"  /**","lastModifiedDate":"2020-01-14"},{"lineNumber":226,"author":{"gitId":"-"},"content":"   * @param index - index of action which the tester disagree.","lastModifiedDate":"2020-01-14"},{"lineNumber":227,"author":{"gitId":"-"},"content":"   */","lastModifiedDate":"2020-01-14"},{"lineNumber":228,"author":{"gitId":"ptvrajsk"},"content":"  getDisagreeRadioFormId(index: number): string {","lastModifiedDate":"2021-03-26"},{"lineNumber":229,"author":{"gitId":"ptvrajsk"},"content":"    return `${this.responseRadioIdentifier}-${index}`;","lastModifiedDate":"2021-03-26"},{"lineNumber":230,"author":{"gitId":"ptvrajsk"},"content":"  }","lastModifiedDate":"2021-03-26"},{"lineNumber":231,"author":{"gitId":"ptvrajsk"},"content":"","lastModifiedDate":"2021-03-26"},{"lineNumber":232,"author":{"gitId":"ptvrajsk"},"content":"  /**","lastModifiedDate":"2021-03-26"},{"lineNumber":233,"author":{"gitId":"ptvrajsk"},"content":"   * Checks if Tester Response was agreed to or disagreed with.","lastModifiedDate":"2021-03-26"},{"lineNumber":234,"author":{"gitId":"ptvrajsk"},"content":"   * @param index Tester Response Index,","lastModifiedDate":"2021-03-26"},{"lineNumber":235,"author":{"gitId":"ptvrajsk"},"content":"   * @returns true if response was disagreed with, false if response was agreed with.","lastModifiedDate":"2021-03-26"},{"lineNumber":236,"author":{"gitId":"ptvrajsk"},"content":"   */","lastModifiedDate":"2021-03-26"},{"lineNumber":237,"author":{"gitId":"ptvrajsk"},"content":"  isResponseDisagreed(index: number): boolean {","lastModifiedDate":"2021-03-26"},{"lineNumber":238,"author":{"gitId":"ptvrajsk"},"content":"    return this.testerResponseForm.get(this.getDisagreeRadioFormId(index)).value;","lastModifiedDate":"2021-03-26"},{"lineNumber":239,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":240,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-01-14"},{"lineNumber":241,"author":{"gitId":"-"},"content":"  get conflict(): boolean {","lastModifiedDate":"2020-01-14"},{"lineNumber":242,"author":{"gitId":"-"},"content":"    return this.submitButtonText \u003d\u003d\u003d SUBMIT_BUTTON_TEXT.OVERWRITE;","lastModifiedDate":"2020-01-14"},{"lineNumber":243,"author":{"gitId":"-"},"content":"  }","lastModifiedDate":"2020-01-14"},{"lineNumber":244,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2020-01-14"}],"authorContributionMap":{"ptvrajsk":34,"-":210}},{"path":"src/environments/environment.gen.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const BaseConfig \u003d {","lastModifiedDate":"2021-01-25"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  githubUrl: \u0027https://github.com\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":3,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  accessTokenUrl: \u0027https://catcher-proxy.herokuapp.com/authenticate\u0027,","lastModifiedDate":"2021-04-19"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  clientDataUrl: \u0027https://raw.githubusercontent.com/CATcher-org/client_data/master/profiles-dev.json\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":5,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-25"},{"lineNumber":6,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"Low Jun Kai, Sean"},"content":"const appSetting \u003d require(\u0027../../package.json\u0027);","lastModifiedDate":"2021-03-29"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-29"},{"lineNumber":9,"author":{"gitId":"-"},"content":"export function generateDefaultEnv() {","lastModifiedDate":"2021-01-25"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  return {","lastModifiedDate":"2021-01-25"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    ...BaseConfig,","lastModifiedDate":"2021-01-25"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    version: appSetting.version,","lastModifiedDate":"2021-03-29"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    production: false,","lastModifiedDate":"2021-01-25"},{"lineNumber":14,"author":{"gitId":"-"},"content":"    test: false,","lastModifiedDate":"2021-01-25"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    clientId: \u00270cbc5e651d8b01e36687\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    origin: \u0027http://localhost:4200\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  };","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"export function generateTestEnv() {","lastModifiedDate":"2021-01-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  return {","lastModifiedDate":"2021-01-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    ...generateDefaultEnv(),","lastModifiedDate":"2021-01-25"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    test: true,","lastModifiedDate":"2021-01-25"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    role: \u0027student\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    username: \u0027CAT-Tester\u0027,","lastModifiedDate":"2021-01-25"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    team: \u0027CS2103T-W12-3\u0027","lastModifiedDate":"2021-01-25"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  };","lastModifiedDate":"2021-01-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"}","lastModifiedDate":"2021-01-25"}],"authorContributionMap":{"Low Jun Kai, Sean":6,"-":22}},{"path":"src/environments/environment.prod.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"const appSetting \u003d require(\u0027../../package.json\u0027);","lastModifiedDate":"2021-03-29"},{"lineNumber":2,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-29"},{"lineNumber":3,"author":{"gitId":"-"},"content":"export const AppConfig \u003d {","lastModifiedDate":"2019-01-13"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  version: appSetting.version,","lastModifiedDate":"2021-03-29"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  production: true,","lastModifiedDate":"2021-01-09"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  test: false,","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  clientId: \u00275e1ed08cff7f0de1d68d\u0027,","lastModifiedDate":"2021-01-09"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  githubUrl: \u0027https://github.com\u0027,","lastModifiedDate":"2021-01-09"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  accessTokenUrl: \u0027https://catcher-proxy.herokuapp.com/authenticate\u0027,","lastModifiedDate":"2021-01-09"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  clientDataUrl: \u0027https://raw.githubusercontent.com/CATcher-org/client_data/master/profiles.json\u0027,","lastModifiedDate":"2021-04-19"},{"lineNumber":11,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  origin: \u0027https://catcher-org.github.io\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":12,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2019-01-13"}],"authorContributionMap":{"Low Jun Kai, Sean":4,"-":8}},{"path":"tests/app/core/models/hidden-data-model.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { HiddenData } from \u0027../../../../src/app/core/models/hidden-data.model\u0027;","lastModifiedDate":"2020-12-25"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const SAMPLE_KEY \u003d \u0027Nunc dolor mauris, @/;\\\u002712345\\\u0027rhoncus \"et\" \u003c!-\u003e facilisis sit amet\u0027;","lastModifiedDate":"2020-12-25"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const SAMPLE_VALUE \u003d \u0027laoreet sit @@#$%^\u0026*()_+amet sem.-\u003e\u0027;","lastModifiedDate":"2020-12-25"},{"lineNumber":4,"author":{"gitId":"Ding YuChen"},"content":"const SAMPLE_KEY2 \u003d \u0027Version\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":5,"author":{"gitId":"Ding YuChen"},"content":"const SAMPLE_VALUE2 \u003d \u0027Desktop v3.4.4\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":6,"author":{"gitId":"Ding YuChen"},"content":"const SAMPLE_MAP \u003d new Map\u003cstring, string\u003e([","lastModifiedDate":"2021-03-24"},{"lineNumber":7,"author":{"gitId":"Ding YuChen"},"content":"  [SAMPLE_KEY, SAMPLE_VALUE],","lastModifiedDate":"2021-03-24"},{"lineNumber":8,"author":{"gitId":"Ding YuChen"},"content":"  [SAMPLE_KEY2, SAMPLE_VALUE2]","lastModifiedDate":"2021-03-24"},{"lineNumber":9,"author":{"gitId":"Ding YuChen"},"content":"]);","lastModifiedDate":"2021-03-24"},{"lineNumber":10,"author":{"gitId":"Ding YuChen"},"content":"const makeComment \u003d (key: string, value: string) \u003d\u003e `\u003c!--${key}: ${value}--\u003e`;","lastModifiedDate":"2021-03-24"},{"lineNumber":11,"author":{"gitId":"Ding YuChen"},"content":"const COMMENT \u003d makeComment(SAMPLE_KEY, SAMPLE_VALUE);","lastModifiedDate":"2021-03-24"},{"lineNumber":12,"author":{"gitId":"Ding YuChen"},"content":"const COMMENT2 \u003d makeComment(SAMPLE_KEY2, SAMPLE_VALUE2);","lastModifiedDate":"2021-03-24"},{"lineNumber":13,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-12-25"},{"lineNumber":14,"author":{"gitId":"Ding YuChen"},"content":"const embedComment \u003d (comment: string) \u003d\u003e `Lorem ipsum dolor sit amet, consectetur adipiscing elit.","lastModifiedDate":"2021-03-24"},{"lineNumber":15,"author":{"gitId":"-"},"content":"Nulla viverra nunc ac blandit dictum. Praesent vel est a erat","lastModifiedDate":"2020-12-25"},{"lineNumber":16,"author":{"gitId":"-"},"content":"aliquam lobortis. ${comment}Fusce eu metus ex. In tempus erat magna.","lastModifiedDate":"2020-12-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"In hac habitasse platea dictumst. Aenean volutpat nibh mauris,","lastModifiedDate":"2020-12-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"commodo laoreet risus lacinia vitae.`;","lastModifiedDate":"2020-12-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-12-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"describe(\u0027HiddenData\u0027, () \u003d\u003e {","lastModifiedDate":"2020-12-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  it(\u0027.embedDataIntoString should append meta info as a HTML comment\u0027, () \u003d\u003e {","lastModifiedDate":"2020-12-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    const dataWithMetaInfo \u003d HiddenData.embedDataIntoString(embedComment(\u0027\u0027), SAMPLE_MAP);","lastModifiedDate":"2021-03-03"},{"lineNumber":23,"author":{"gitId":"Ding YuChen"},"content":"    expect(dataWithMetaInfo).toEqual([embedComment(\u0027\u0027), COMMENT, COMMENT2].join(\u0027\\n\u0027));","lastModifiedDate":"2021-03-24"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-12-25"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-12-25"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  it(\u0027constructor should parse string for HTML comments and generate the data map from comments\u0027, () \u003d\u003e {","lastModifiedDate":"2020-12-25"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    const parsedData \u003d new HiddenData(embedComment(COMMENT));","lastModifiedDate":"2020-12-25"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    expect(parsedData.originalStringWithoutHiddenData).toEqual(embedComment(\u0027\u0027));","lastModifiedDate":"2021-03-03"},{"lineNumber":29,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-12-25"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    expect(parsedData.toString()).toEqual(COMMENT);","lastModifiedDate":"2020-12-25"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-12-25"},{"lineNumber":32,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-12-25"}],"authorContributionMap":{"Ding YuChen":11,"-":21}},{"path":"tests/app/phase-team-response/issues-faulty/issues-faulty.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Ding YuChen"},"content":"import { IssuesFaultyComponent } from \u0027../../../../src/app/phase-team-response/issues-faulty/issues-faulty.component\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":2,"author":{"gitId":"Ding YuChen"},"content":"import { Issue } from \u0027../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":3,"author":{"gitId":"Ding YuChen"},"content":"import { generateIssueWithRandomData, ISSUE_WITH_EMPTY_DESCRIPTION } from \u0027../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":4,"author":{"gitId":"Ding YuChen"},"content":"import { IssueService } from \u0027../../../../src/app/core/services/issue.service\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":5,"author":{"gitId":"Ding YuChen"},"content":"import { UserService } from \u0027../../../../src/app/core/services/user.service\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":6,"author":{"gitId":"Ding YuChen"},"content":"import { USER_Q, TEAM_3, TEAM_4 } from \u0027../../../constants/data.constants\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":7,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":8,"author":{"gitId":"Ding YuChen"},"content":"describe(\u0027IssuesFaultyComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":9,"author":{"gitId":"Ding YuChen"},"content":"  describe(\u0027.ngOnInit()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":10,"author":{"gitId":"Ding YuChen"},"content":"    const dummyTeam \u003d TEAM_4;","lastModifiedDate":"2021-05-13"},{"lineNumber":11,"author":{"gitId":"Ding YuChen"},"content":"    const dummyIssue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION, dummyTeam);","lastModifiedDate":"2021-05-13"},{"lineNumber":12,"author":{"gitId":"Ding YuChen"},"content":"    let issueService: IssueService;","lastModifiedDate":"2021-05-13"},{"lineNumber":13,"author":{"gitId":"Ding YuChen"},"content":"    let issuesFaultyComponent: IssuesFaultyComponent;","lastModifiedDate":"2021-05-13"},{"lineNumber":14,"author":{"gitId":"Ding YuChen"},"content":"    const userService \u003d new UserService(null, null);","lastModifiedDate":"2021-05-13"},{"lineNumber":15,"author":{"gitId":"Ding YuChen"},"content":"    userService.currentUser \u003d USER_Q;","lastModifiedDate":"2021-05-13"},{"lineNumber":16,"author":{"gitId":"Ding YuChen"},"content":"    const DUMMY_DUPLICATE_ISSUE_ID \u003d 1;","lastModifiedDate":"2021-05-13"},{"lineNumber":17,"author":{"gitId":"Ding YuChen"},"content":"    const DUMMY_RESPONSE \u003d \u0027dummy response\u0027;","lastModifiedDate":"2021-05-13"},{"lineNumber":18,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":19,"author":{"gitId":"Ding YuChen"},"content":"    beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":20,"author":{"gitId":"Ding YuChen"},"content":"      issueService \u003d new IssueService(null, null, null, null, null, null, null);","lastModifiedDate":"2021-05-13"},{"lineNumber":21,"author":{"gitId":"Ding YuChen"},"content":"      issueService.updateLocalStore(dummyIssue);","lastModifiedDate":"2021-05-13"},{"lineNumber":22,"author":{"gitId":"Ding YuChen"},"content":"      issuesFaultyComponent \u003d new IssuesFaultyComponent(issueService, userService, null);","lastModifiedDate":"2021-05-13"},{"lineNumber":23,"author":{"gitId":"Ding YuChen"},"content":"      issuesFaultyComponent.ngOnInit();","lastModifiedDate":"2021-05-13"},{"lineNumber":24,"author":{"gitId":"Ding YuChen"},"content":"    });","lastModifiedDate":"2021-05-13"},{"lineNumber":25,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":26,"author":{"gitId":"Ding YuChen"},"content":"    it(\u0027should set filter to return false for an issue with no team response\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":27,"author":{"gitId":"Ding YuChen"},"content":"      const testIssue \u003d { ...dummyIssue, teamResponse: undefined } as Issue;","lastModifiedDate":"2021-05-13"},{"lineNumber":28,"author":{"gitId":"Ding YuChen"},"content":"      issueService.updateLocalStore(testIssue);","lastModifiedDate":"2021-05-13"},{"lineNumber":29,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":30,"author":{"gitId":"Ding YuChen"},"content":"      expect(issuesFaultyComponent.filter(testIssue)).toBeFalse();","lastModifiedDate":"2021-05-13"},{"lineNumber":31,"author":{"gitId":"Ding YuChen"},"content":"    });","lastModifiedDate":"2021-05-13"},{"lineNumber":32,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":33,"author":{"gitId":"Ding YuChen"},"content":"    it(\u0027should set filter to return false for a non-duplicate issue with responses\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":34,"author":{"gitId":"Ding YuChen"},"content":"      const testIssue \u003d { ...dummyIssue, teamResponse: DUMMY_RESPONSE, duplicateOf: undefined } as Issue;","lastModifiedDate":"2021-05-13"},{"lineNumber":35,"author":{"gitId":"Ding YuChen"},"content":"      issueService.updateLocalStore(testIssue);","lastModifiedDate":"2021-05-13"},{"lineNumber":36,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":37,"author":{"gitId":"Ding YuChen"},"content":"      expect(issuesFaultyComponent.filter(testIssue)).toBeFalse();","lastModifiedDate":"2021-05-13"},{"lineNumber":38,"author":{"gitId":"Ding YuChen"},"content":"    });","lastModifiedDate":"2021-05-13"},{"lineNumber":39,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":40,"author":{"gitId":"Ding YuChen"},"content":"    it(\u0027should set filter to return false for a duplicate issue with responses that is not duplicated by other issues\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":41,"author":{"gitId":"Ding YuChen"},"content":"      const testIssue \u003d {","lastModifiedDate":"2021-05-13"},{"lineNumber":42,"author":{"gitId":"Ding YuChen"},"content":"        ...dummyIssue,","lastModifiedDate":"2021-05-13"},{"lineNumber":43,"author":{"gitId":"Ding YuChen"},"content":"        teamResponse: DUMMY_RESPONSE,","lastModifiedDate":"2021-05-13"},{"lineNumber":44,"author":{"gitId":"Ding YuChen"},"content":"        duplicateOf: DUMMY_DUPLICATE_ISSUE_ID","lastModifiedDate":"2021-05-13"},{"lineNumber":45,"author":{"gitId":"Ding YuChen"},"content":"      } as Issue;","lastModifiedDate":"2021-05-13"},{"lineNumber":46,"author":{"gitId":"Ding YuChen"},"content":"      issueService.updateLocalStore(testIssue);","lastModifiedDate":"2021-05-13"},{"lineNumber":47,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":48,"author":{"gitId":"Ding YuChen"},"content":"      expect(issuesFaultyComponent.filter(testIssue)).toBeFalse();","lastModifiedDate":"2021-05-13"},{"lineNumber":49,"author":{"gitId":"Ding YuChen"},"content":"    });","lastModifiedDate":"2021-05-13"},{"lineNumber":50,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":51,"author":{"gitId":"Ding YuChen"},"content":"    it(\u0027should set filter to return true for a duplicate issue with responses that is duplicated by other issues\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-13"},{"lineNumber":52,"author":{"gitId":"Ding YuChen"},"content":"      const testIssue \u003d {","lastModifiedDate":"2021-05-13"},{"lineNumber":53,"author":{"gitId":"Ding YuChen"},"content":"        ...Issue.createPhaseTeamResponseIssue(generateIssueWithRandomData(), TEAM_3),","lastModifiedDate":"2021-05-13"},{"lineNumber":54,"author":{"gitId":"Ding YuChen"},"content":"        duplicateOf: dummyIssue.id,","lastModifiedDate":"2021-05-13"},{"lineNumber":55,"author":{"gitId":"Ding YuChen"},"content":"        teamResponse: DUMMY_RESPONSE","lastModifiedDate":"2021-05-13"},{"lineNumber":56,"author":{"gitId":"Ding YuChen"},"content":"      } as Issue;","lastModifiedDate":"2021-05-13"},{"lineNumber":57,"author":{"gitId":"Ding YuChen"},"content":"      issueService.updateLocalStore(testIssue);","lastModifiedDate":"2021-05-13"},{"lineNumber":58,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":59,"author":{"gitId":"Ding YuChen"},"content":"      const duplicateOfTestIssue \u003d {","lastModifiedDate":"2021-05-13"},{"lineNumber":60,"author":{"gitId":"Ding YuChen"},"content":"        ...Issue.createPhaseTeamResponseIssue(generateIssueWithRandomData(), TEAM_3),","lastModifiedDate":"2021-05-13"},{"lineNumber":61,"author":{"gitId":"Ding YuChen"},"content":"        duplicateOf: testIssue.id","lastModifiedDate":"2021-05-13"},{"lineNumber":62,"author":{"gitId":"Ding YuChen"},"content":"      } as Issue;","lastModifiedDate":"2021-05-13"},{"lineNumber":63,"author":{"gitId":"Ding YuChen"},"content":"      issueService.updateLocalStore(duplicateOfTestIssue);","lastModifiedDate":"2021-05-13"},{"lineNumber":64,"author":{"gitId":"Ding YuChen"},"content":"","lastModifiedDate":"2021-05-13"},{"lineNumber":65,"author":{"gitId":"Ding YuChen"},"content":"      expect(issuesFaultyComponent.filter(testIssue)).toBeTrue();","lastModifiedDate":"2021-05-13"},{"lineNumber":66,"author":{"gitId":"Ding YuChen"},"content":"    });","lastModifiedDate":"2021-05-13"},{"lineNumber":67,"author":{"gitId":"Ding YuChen"},"content":"  });","lastModifiedDate":"2021-05-13"},{"lineNumber":68,"author":{"gitId":"Ding YuChen"},"content":"});","lastModifiedDate":"2021-05-13"}],"authorContributionMap":{"Ding YuChen":68}},{"path":"tests/app/phase-team-response/issues-pending/issues-pending.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { IssuesPendingComponent } from \u0027../../../../src/app/phase-team-response/issues-pending/issues-pending.component\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Issue, STATUS } from \u0027../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { ISSUE_WITH_EMPTY_DESCRIPTION } from \u0027../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Team } from \u0027../../../../src/app/core/models/team.model\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../../../src/app/core/services/issue.service\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../../../src/app/core/services/user.service\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { USER_Q, TEAM_4 } from \u0027../../../constants/data.constants\u0027;","lastModifiedDate":"2021-02-24"},{"lineNumber":8,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":9,"author":{"gitId":"-"},"content":"describe(\u0027IssuesPendingComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  describe(\u0027.ngOnInit()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    const dummyTeam: Team \u003d TEAM_4;","lastModifiedDate":"2021-02-24"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    let dummyIssue: Issue;","lastModifiedDate":"2021-02-07"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    let issuesPendingComponent: IssuesPendingComponent;","lastModifiedDate":"2021-02-07"},{"lineNumber":14,"author":{"gitId":"Ding YuChen"},"content":"    const issueService: IssueService \u003d new IssueService(null, null, null, null, null, null, null);","lastModifiedDate":"2021-03-24"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    const userService: UserService \u003d new UserService(null, null);","lastModifiedDate":"2021-02-07"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    userService.currentUser \u003d USER_Q;","lastModifiedDate":"2021-02-07"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    const DUMMY_DUPLICATE_ISSUE_ID \u003d 1;","lastModifiedDate":"2021-02-07"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    const DUMMY_RESPONSE \u003d \u0027dummy response\u0027;","lastModifiedDate":"2021-02-07"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":21,"author":{"gitId":"-"},"content":"      dummyIssue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION, dummyTeam);","lastModifiedDate":"2021-02-07"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(dummyIssue);","lastModifiedDate":"2021-02-07"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      issuesPendingComponent \u003d new IssuesPendingComponent(issueService, null, userService);","lastModifiedDate":"2021-02-07"},{"lineNumber":24,"author":{"gitId":"-"},"content":"      issuesPendingComponent.ngOnInit();","lastModifiedDate":"2021-02-07"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-07"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return false for a duplicate issue with no team response\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d DUMMY_DUPLICATE_ISSUE_ID;","lastModifiedDate":"2021-02-07"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      issueService.issues[dummyIssue.id].teamResponse \u003d undefined;","lastModifiedDate":"2021-02-07"},{"lineNumber":30,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      expect(issuesPendingComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-02-07"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-07"},{"lineNumber":33,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return false for a non-duplicate issue with responses\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":35,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d undefined;","lastModifiedDate":"2021-02-07"},{"lineNumber":36,"author":{"gitId":"-"},"content":"      issueService.issues[dummyIssue.id].teamResponse \u003d DUMMY_RESPONSE;","lastModifiedDate":"2021-02-07"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d STATUS.Done;","lastModifiedDate":"2021-02-07"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":39,"author":{"gitId":"-"},"content":"      expect(issuesPendingComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-02-07"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-07"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return false for a duplicate issue with responses\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d DUMMY_DUPLICATE_ISSUE_ID;","lastModifiedDate":"2021-02-07"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      issueService.issues[dummyIssue.id].teamResponse \u003d DUMMY_RESPONSE;","lastModifiedDate":"2021-02-07"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d STATUS.Done;","lastModifiedDate":"2021-02-07"},{"lineNumber":46,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      expect(issuesPendingComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-02-07"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-07"},{"lineNumber":49,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return true for a non-duplicate issue with no responses\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-07"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d undefined;","lastModifiedDate":"2021-02-07"},{"lineNumber":52,"author":{"gitId":"-"},"content":"      issueService.issues[dummyIssue.id].teamResponse \u003d undefined;","lastModifiedDate":"2021-02-07"},{"lineNumber":53,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-07"},{"lineNumber":54,"author":{"gitId":"-"},"content":"      expect(issuesPendingComponent.filter(dummyIssue)).toBeTrue();","lastModifiedDate":"2021-02-07"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-07"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-07"},{"lineNumber":57,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-07"}],"authorContributionMap":{"Ding YuChen":1,"-":56}},{"path":"tests/app/phase-team-response/issues-responded/issues-responded.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { IssuesRespondedComponent } from \u0027../../../../src/app/phase-team-response/issues-responded/issues-responded.component\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Issue, STATUS } from \u0027../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { ISSUE_WITH_EMPTY_DESCRIPTION } from \u0027../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../../../src/app/core/services/issue.service\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../../../src/app/core/services/user.service\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { USER_Q, TEAM_4 } from \u0027../../../constants/data.constants\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":7,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":8,"author":{"gitId":"-"},"content":"describe(\u0027IssuesRespondedComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  describe(\u0027.ngOnInit()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":10,"author":{"gitId":"-"},"content":"    const DUMMY_TEAM \u003d TEAM_4;","lastModifiedDate":"2021-03-11"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    const DUMMY_DUPLICATE_ISSUE_ID \u003d 1;","lastModifiedDate":"2021-03-11"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    const DUMMY_RESPONSE \u003d \u0027dummy response\u0027;","lastModifiedDate":"2021-03-11"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    let dummyIssue: Issue;","lastModifiedDate":"2021-03-11"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":15,"author":{"gitId":"Ding YuChen"},"content":"    const issueService \u003d new IssueService(null, null, null, null, null, null, null);","lastModifiedDate":"2021-03-24"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    const userService \u003d new UserService(null, null);","lastModifiedDate":"2021-03-11"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    userService.currentUser \u003d USER_Q;","lastModifiedDate":"2021-03-11"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    const issuesRespondedComponent \u003d new IssuesRespondedComponent(issueService, userService);","lastModifiedDate":"2021-03-11"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    issuesRespondedComponent.ngOnInit();","lastModifiedDate":"2021-03-11"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      dummyIssue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION, DUMMY_TEAM);","lastModifiedDate":"2021-03-11"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(dummyIssue);","lastModifiedDate":"2021-03-11"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-11"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return false for a non-duplicate issue with no team response and not marked done\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      dummyIssue.teamResponse \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":30,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      expect(issuesRespondedComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-03-11"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-11"},{"lineNumber":33,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return false for a non-duplicate issue with responses and not marked done\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":35,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":36,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      dummyIssue.teamResponse \u003d DUMMY_RESPONSE;","lastModifiedDate":"2021-03-11"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":39,"author":{"gitId":"-"},"content":"      expect(issuesRespondedComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-03-11"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-11"},{"lineNumber":41,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return false for a duplicate issue with no team response and not marked done\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d DUMMY_DUPLICATE_ISSUE_ID;","lastModifiedDate":"2021-03-11"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      dummyIssue.teamResponse \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":46,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      expect(issuesRespondedComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-03-11"},{"lineNumber":48,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d DUMMY_DUPLICATE_ISSUE_ID;","lastModifiedDate":"2021-03-11"},{"lineNumber":50,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d STATUS.Incomplete;","lastModifiedDate":"2021-03-11"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      dummyIssue.teamResponse \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":52,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      expect(issuesRespondedComponent.filter(dummyIssue)).toBeFalse();","lastModifiedDate":"2021-03-11"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-11"},{"lineNumber":55,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    it(\u0027should set filter to return true for a non-duplicate issue that is marked done with a team response\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-11"},{"lineNumber":57,"author":{"gitId":"-"},"content":"      dummyIssue.duplicateOf \u003d undefined;","lastModifiedDate":"2021-03-11"},{"lineNumber":58,"author":{"gitId":"-"},"content":"      dummyIssue.status \u003d STATUS.Done;","lastModifiedDate":"2021-03-11"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      dummyIssue.teamResponse \u003d DUMMY_RESPONSE;","lastModifiedDate":"2021-03-11"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-11"},{"lineNumber":61,"author":{"gitId":"-"},"content":"      expect(issuesRespondedComponent.filter(dummyIssue)).toBeTrue();","lastModifiedDate":"2021-03-11"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-11"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-03-11"},{"lineNumber":64,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-03-11"}],"authorContributionMap":{"Ding YuChen":1,"-":63}},{"path":"tests/app/shared/issue-tables/issue-paginator.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Kang Su Min"},"content":"import { MatPaginator } from \"@angular/material\";","lastModifiedDate":"2021-04-15"},{"lineNumber":2,"author":{"gitId":"Kang Su Min"},"content":"import { Issue } from \"../../../../src/app/core/models/issue.model\";","lastModifiedDate":"2021-04-15"},{"lineNumber":3,"author":{"gitId":"Kang Su Min"},"content":"import { TEAM_4 } from \"../../../constants/data.constants\";","lastModifiedDate":"2021-04-15"},{"lineNumber":4,"author":{"gitId":"Kang Su Min"},"content":"import {","lastModifiedDate":"2021-04-15"},{"lineNumber":5,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_WITH_ASSIGNEES,","lastModifiedDate":"2021-04-15"},{"lineNumber":6,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_WITH_EMPTY_DESCRIPTION,","lastModifiedDate":"2021-04-15"},{"lineNumber":7,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY,","lastModifiedDate":"2021-04-15"},{"lineNumber":8,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_WITH_EMPTY_DESCRIPTION_LOW_SEVERITY","lastModifiedDate":"2021-04-15"},{"lineNumber":9,"author":{"gitId":"Kang Su Min"},"content":"} from \"../../../constants/githubissue.constants\";","lastModifiedDate":"2021-04-15"},{"lineNumber":10,"author":{"gitId":"Kang Su Min"},"content":"import { paginateData } from \u0027../../../../src/app/shared/issue-tables/issue-paginator\u0027;","lastModifiedDate":"2021-04-15"},{"lineNumber":11,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":12,"author":{"gitId":"Kang Su Min"},"content":"describe(\u0027issue-paginator\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-15"},{"lineNumber":13,"author":{"gitId":"Kang Su Min"},"content":"    describe(\u0027paginateData()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-15"},{"lineNumber":14,"author":{"gitId":"Kang Su Min"},"content":"        let dataSet_7: Issue[];","lastModifiedDate":"2021-04-15"},{"lineNumber":15,"author":{"gitId":"Kang Su Min"},"content":"        let paginator: MatPaginator;","lastModifiedDate":"2021-04-15"},{"lineNumber":16,"author":{"gitId":"Kang Su Min"},"content":"        const dummyTeam \u003d TEAM_4;","lastModifiedDate":"2021-04-15"},{"lineNumber":17,"author":{"gitId":"Kang Su Min"},"content":"        const mediumSeverityIssueWithResponse: Issue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION, dummyTeam);","lastModifiedDate":"2021-04-15"},{"lineNumber":18,"author":{"gitId":"Kang Su Min"},"content":"        const mediumSeverityIssueWithAssigneee: Issue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_ASSIGNEES, dummyTeam);","lastModifiedDate":"2021-04-15"},{"lineNumber":19,"author":{"gitId":"Kang Su Min"},"content":"        const lowSeverityFeatureFlawIssue: Issue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION_LOW_SEVERITY, dummyTeam);","lastModifiedDate":"2021-04-15"},{"lineNumber":20,"author":{"gitId":"Kang Su Min"},"content":"        const highSeverityDocumentationBugIssue: Issue \u003d","lastModifiedDate":"2021-04-15"},{"lineNumber":21,"author":{"gitId":"Kang Su Min"},"content":"            Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY, dummyTeam);","lastModifiedDate":"2021-04-15"},{"lineNumber":22,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":23,"author":{"gitId":"Kang Su Min"},"content":"        beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-04-15"},{"lineNumber":24,"author":{"gitId":"Kang Su Min"},"content":"            dataSet_7 \u003d [","lastModifiedDate":"2021-04-15"},{"lineNumber":25,"author":{"gitId":"Kang Su Min"},"content":"                mediumSeverityIssueWithResponse,","lastModifiedDate":"2021-04-15"},{"lineNumber":26,"author":{"gitId":"Kang Su Min"},"content":"                mediumSeverityIssueWithAssigneee,","lastModifiedDate":"2021-04-15"},{"lineNumber":27,"author":{"gitId":"Kang Su Min"},"content":"                lowSeverityFeatureFlawIssue,","lastModifiedDate":"2021-04-15"},{"lineNumber":28,"author":{"gitId":"Kang Su Min"},"content":"                mediumSeverityIssueWithResponse,","lastModifiedDate":"2021-04-15"},{"lineNumber":29,"author":{"gitId":"Kang Su Min"},"content":"                mediumSeverityIssueWithAssigneee,","lastModifiedDate":"2021-04-15"},{"lineNumber":30,"author":{"gitId":"Kang Su Min"},"content":"                lowSeverityFeatureFlawIssue,","lastModifiedDate":"2021-04-15"},{"lineNumber":31,"author":{"gitId":"Kang Su Min"},"content":"                highSeverityDocumentationBugIssue","lastModifiedDate":"2021-04-15"},{"lineNumber":32,"author":{"gitId":"Kang Su Min"},"content":"            ];","lastModifiedDate":"2021-04-15"},{"lineNumber":33,"author":{"gitId":"Kang Su Min"},"content":"            paginator \u003d { pageSize: 3 } as MatPaginator;","lastModifiedDate":"2021-04-15"},{"lineNumber":34,"author":{"gitId":"Kang Su Min"},"content":"        });","lastModifiedDate":"2021-04-15"},{"lineNumber":35,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":36,"author":{"gitId":"Kang Su Min"},"content":"        it(\u0027should set the length of paginator to the length of data\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-15"},{"lineNumber":37,"author":{"gitId":"Kang Su Min"},"content":"            paginateData(paginator, dataSet_7);","lastModifiedDate":"2021-04-15"},{"lineNumber":38,"author":{"gitId":"Kang Su Min"},"content":"            expect(paginator.length).toEqual(7);","lastModifiedDate":"2021-04-15"},{"lineNumber":39,"author":{"gitId":"Kang Su Min"},"content":"        });","lastModifiedDate":"2021-04-15"},{"lineNumber":40,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":41,"author":{"gitId":"Kang Su Min"},"content":"        it(\u0027should return list of issues according to page index\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-15"},{"lineNumber":42,"author":{"gitId":"Kang Su Min"},"content":"            paginator.pageIndex \u003d 0;","lastModifiedDate":"2021-04-15"},{"lineNumber":43,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":44,"author":{"gitId":"Kang Su Min"},"content":"            // Returns issues index 0 to 2","lastModifiedDate":"2021-04-15"},{"lineNumber":45,"author":{"gitId":"Kang Su Min"},"content":"            const returnedList \u003d paginateData(paginator, dataSet_7);","lastModifiedDate":"2021-04-15"},{"lineNumber":46,"author":{"gitId":"Kang Su Min"},"content":"            expect(returnedList).toEqual([","lastModifiedDate":"2021-04-15"},{"lineNumber":47,"author":{"gitId":"Kang Su Min"},"content":"                mediumSeverityIssueWithResponse,","lastModifiedDate":"2021-04-15"},{"lineNumber":48,"author":{"gitId":"Kang Su Min"},"content":"                mediumSeverityIssueWithAssigneee,","lastModifiedDate":"2021-04-15"},{"lineNumber":49,"author":{"gitId":"Kang Su Min"},"content":"                lowSeverityFeatureFlawIssue","lastModifiedDate":"2021-04-15"},{"lineNumber":50,"author":{"gitId":"Kang Su Min"},"content":"            ]);","lastModifiedDate":"2021-04-15"},{"lineNumber":51,"author":{"gitId":"Kang Su Min"},"content":"        });","lastModifiedDate":"2021-04-15"},{"lineNumber":52,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":53,"author":{"gitId":"Kang Su Min"},"content":"        it(\u0027should return list of issues in the previous page if there are no issues on the current page\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-15"},{"lineNumber":54,"author":{"gitId":"Kang Su Min"},"content":"            paginator.pageIndex \u003d 3;","lastModifiedDate":"2021-04-15"},{"lineNumber":55,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":56,"author":{"gitId":"Kang Su Min"},"content":"            // Returns issues index 6 on page 2","lastModifiedDate":"2021-04-15"},{"lineNumber":57,"author":{"gitId":"Kang Su Min"},"content":"            const returnedList \u003d paginateData(paginator, dataSet_7);","lastModifiedDate":"2021-04-15"},{"lineNumber":58,"author":{"gitId":"Kang Su Min"},"content":"            expect(returnedList).toEqual([highSeverityDocumentationBugIssue]);","lastModifiedDate":"2021-04-15"},{"lineNumber":59,"author":{"gitId":"Kang Su Min"},"content":"        });","lastModifiedDate":"2021-04-15"},{"lineNumber":60,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-04-15"},{"lineNumber":61,"author":{"gitId":"Kang Su Min"},"content":"    });","lastModifiedDate":"2021-04-15"},{"lineNumber":62,"author":{"gitId":"Kang Su Min"},"content":"});","lastModifiedDate":"2021-04-15"}],"authorContributionMap":{"Kang Su Min":62}},{"path":"tests/app/shared/issue-tables/issue-tables.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { IssueTablesComponent } from \u0027../../../../src/app/shared/issue-tables/issue-tables.component\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":2,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":3,"author":{"gitId":"-"},"content":"describe(\u0027IssueTablesComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-05"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  let issueTablesComponent: IssueTablesComponent;","lastModifiedDate":"2021-02-05"},{"lineNumber":5,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  describe(\u0027.fitTitleText()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-05"},{"lineNumber":7,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-02-05"},{"lineNumber":8,"author":{"gitId":"ptvrajsk"},"content":"      issueTablesComponent \u003d new IssueTablesComponent(null, null, null, null, null, null, null, null);","lastModifiedDate":"2021-04-19"},{"lineNumber":9,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-05"},{"lineNumber":10,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    it(\u0027should format the title text to account for words longer than max word length\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-05"},{"lineNumber":12,"author":{"gitId":"-"},"content":"      // title consisting of 1 word of 30 characters and 1 word of 50 characters","lastModifiedDate":"2021-02-05"},{"lineNumber":13,"author":{"gitId":"-"},"content":"      const LONG_MIXED_TITLE \u003d \u0027012345678901234567890123456789 01234567890123456789012345678901234567890123456789\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":14,"author":{"gitId":"-"},"content":"      const FORMATTED_LONG_MIXED_TITLE \u003d \u0027012345678901234567890123456789 01234567890123456789012345678901234567...\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":15,"author":{"gitId":"-"},"content":"      expect(issueTablesComponent.fitTitleText(LONG_MIXED_TITLE)).toEqual(FORMATTED_LONG_MIXED_TITLE);","lastModifiedDate":"2021-02-05"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":17,"author":{"gitId":"-"},"content":"      // title consisting of 2 words of 50 characters","lastModifiedDate":"2021-02-05"},{"lineNumber":18,"author":{"gitId":"-"},"content":"      const LONG_TWO_WORDS_TITLE \u003d \u002701234567890123456789012345678901234567890123456789 01234567890123456789012345678901234567890123456789\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":19,"author":{"gitId":"-"},"content":"      const FORMATTED_TWO_WORDS_TITLE \u003d \u002701234567890123456789012345678901234567... 01234567890123456789012345678901234567...\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":20,"author":{"gitId":"-"},"content":"      expect(issueTablesComponent.fitTitleText(LONG_TWO_WORDS_TITLE)).toEqual(FORMATTED_TWO_WORDS_TITLE);","lastModifiedDate":"2021-02-05"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-05"},{"lineNumber":22,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    it(\u0027should retain original title if words are not longer than max word length\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-05"},{"lineNumber":24,"author":{"gitId":"-"},"content":"      // title consisting of 1 word of 30 characters","lastModifiedDate":"2021-02-05"},{"lineNumber":25,"author":{"gitId":"-"},"content":"      const SHORT_TITLE \u003d \u0027012345678901234567890123456789\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      expect(issueTablesComponent.fitTitleText(SHORT_TITLE)).toEqual(SHORT_TITLE);","lastModifiedDate":"2021-02-05"},{"lineNumber":27,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-05"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      // title consisting of 2 words of 43 characters (maximum word length)","lastModifiedDate":"2021-02-05"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      const MAX_LENGTH_TITLE \u003d \u00270123456789012345678901234567890123456789012 0123456789012345678901234567890123456789012\u0027;","lastModifiedDate":"2021-02-05"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      expect(issueTablesComponent.fitTitleText(MAX_LENGTH_TITLE)).toEqual(MAX_LENGTH_TITLE);","lastModifiedDate":"2021-02-05"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-05"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-05"},{"lineNumber":33,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-05"}],"authorContributionMap":{"ptvrajsk":1,"-":32}},{"path":"tests/app/shared/issue-tables/search-filter.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Team } from \u0027../../../../src/app/core/models/team.model\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2021-03-03"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  DUPLICATED_ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY,","lastModifiedDate":"2021-03-03"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  ISSUE_WITH_ASSIGNEES,","lastModifiedDate":"2021-03-03"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  ISSUE_WITH_EMPTY_DESCRIPTION,","lastModifiedDate":"2021-03-03"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY,","lastModifiedDate":"2021-03-03"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  ISSUE_WITH_EMPTY_DESCRIPTION_LOW_SEVERITY","lastModifiedDate":"2021-03-03"},{"lineNumber":9,"author":{"gitId":"-"},"content":"} from \u0027../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2021-03-03"},{"lineNumber":10,"author":{"gitId":"-"},"content":"import { TABLE_COLUMNS } from \u0027../../../../src/app/shared/issue-tables/issue-tables-columns\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import { IssueService } from \u0027../../../../src/app/core/services/issue.service\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { applySearchFilter } from \u0027../../../../src/app/shared/issue-tables/search-filter\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { USER_ANUBHAV } from \u0027../../../constants/data.constants\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":15,"author":{"gitId":"-"},"content":"describe(\u0027search-filter\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-26"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  describe(\u0027applySearchFilter()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-26"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    const dummyTeam: Team \u003d new Team({","lastModifiedDate":"2021-02-26"},{"lineNumber":18,"author":{"gitId":"-"},"content":"      id: \u0027dummyId\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":19,"author":{"gitId":"-"},"content":"      teamMembers: []","lastModifiedDate":"2021-03-03"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-26"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    let searchKey: string;","lastModifiedDate":"2021-02-26"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    const mediumSeverityIssueWithResponse: Issue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION, dummyTeam);","lastModifiedDate":"2021-02-26"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    mediumSeverityIssueWithResponse.responseTag \u003d \u0027Accepted\u0027;","lastModifiedDate":"2021-02-26"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    const mediumSeverityIssueWithAssigneee: Issue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_ASSIGNEES, dummyTeam);","lastModifiedDate":"2021-02-26"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    const lowSeverityFeatureFlawIssue: Issue \u003d Issue.createPhaseTeamResponseIssue(ISSUE_WITH_EMPTY_DESCRIPTION_LOW_SEVERITY, dummyTeam);","lastModifiedDate":"2021-02-26"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    const highSeverityDocumentationBugIssue: Issue \u003d Issue.createPhaseTeamResponseIssue(","lastModifiedDate":"2021-03-03"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY,","lastModifiedDate":"2021-03-03"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      dummyTeam","lastModifiedDate":"2021-03-03"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    );","lastModifiedDate":"2021-03-03"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    const duplicatedIssue: Issue \u003d Issue.createPhaseTeamResponseIssue(DUPLICATED_ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY, dummyTeam);","lastModifiedDate":"2021-02-26"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    duplicatedIssue.duplicateOf \u003d highSeverityDocumentationBugIssue.id;","lastModifiedDate":"2021-02-26"},{"lineNumber":32,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    const issuesList: Issue[] \u003d [","lastModifiedDate":"2021-02-26"},{"lineNumber":34,"author":{"gitId":"-"},"content":"      mediumSeverityIssueWithResponse,","lastModifiedDate":"2021-02-26"},{"lineNumber":35,"author":{"gitId":"-"},"content":"      mediumSeverityIssueWithAssigneee,","lastModifiedDate":"2021-02-26"},{"lineNumber":36,"author":{"gitId":"-"},"content":"      lowSeverityFeatureFlawIssue,","lastModifiedDate":"2021-02-26"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      highSeverityDocumentationBugIssue","lastModifiedDate":"2021-02-26"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    ];","lastModifiedDate":"2021-02-26"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    const displayedColumns: string[] \u003d [","lastModifiedDate":"2021-02-26"},{"lineNumber":40,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.ID,","lastModifiedDate":"2021-02-26"},{"lineNumber":41,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.TITLE,","lastModifiedDate":"2021-02-26"},{"lineNumber":42,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.TYPE,","lastModifiedDate":"2021-02-26"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.SEVERITY,","lastModifiedDate":"2021-02-26"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.RESPONSE,","lastModifiedDate":"2021-02-26"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.ASSIGNEE,","lastModifiedDate":"2021-02-26"},{"lineNumber":46,"author":{"gitId":"-"},"content":"      TABLE_COLUMNS.DUPLICATED_ISSUES","lastModifiedDate":"2021-03-03"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    ];","lastModifiedDate":"2021-02-26"},{"lineNumber":48,"author":{"gitId":"Ding YuChen"},"content":"    const issueService: IssueService \u003d new IssueService(null, null, null, null, null, null, null);","lastModifiedDate":"2021-03-24"},{"lineNumber":49,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-02-26"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(mediumSeverityIssueWithResponse);","lastModifiedDate":"2021-02-26"},{"lineNumber":52,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(mediumSeverityIssueWithAssigneee);","lastModifiedDate":"2021-02-26"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(lowSeverityFeatureFlawIssue);","lastModifiedDate":"2021-02-26"},{"lineNumber":54,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(highSeverityDocumentationBugIssue);","lastModifiedDate":"2021-02-26"},{"lineNumber":55,"author":{"gitId":"-"},"content":"      issueService.updateLocalStore(duplicatedIssue);","lastModifiedDate":"2021-02-26"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-26"},{"lineNumber":57,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    it(\u0027can filter for issues which are assigned to a specific user\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-26"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      searchKey \u003d USER_ANUBHAV.loginId;","lastModifiedDate":"2021-02-26"},{"lineNumber":60,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([mediumSeverityIssueWithAssigneee]);","lastModifiedDate":"2021-03-03"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-26"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    it(\u0027can filter for an issue by the id of its duplicate issues\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-26"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      searchKey \u003d duplicatedIssue.id.toString();","lastModifiedDate":"2021-02-26"},{"lineNumber":65,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([highSeverityDocumentationBugIssue]);","lastModifiedDate":"2021-03-03"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-26"},{"lineNumber":67,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    it(\u0027can filter for issues that contain the search key in any other column\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-26"},{"lineNumber":69,"author":{"gitId":"-"},"content":"      // Search by id of issue","lastModifiedDate":"2021-02-26"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      searchKey \u003d mediumSeverityIssueWithResponse.id.toString();","lastModifiedDate":"2021-02-26"},{"lineNumber":71,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([mediumSeverityIssueWithResponse]);","lastModifiedDate":"2021-03-03"},{"lineNumber":72,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      // Search by title of issue","lastModifiedDate":"2021-02-26"},{"lineNumber":74,"author":{"gitId":"-"},"content":"      searchKey \u003d mediumSeverityIssueWithAssigneee.title;","lastModifiedDate":"2021-02-26"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([mediumSeverityIssueWithAssigneee]);","lastModifiedDate":"2021-03-03"},{"lineNumber":76,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":77,"author":{"gitId":"-"},"content":"      // Search by type of issue","lastModifiedDate":"2021-02-26"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      searchKey \u003d highSeverityDocumentationBugIssue.type;","lastModifiedDate":"2021-02-26"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([highSeverityDocumentationBugIssue]);","lastModifiedDate":"2021-03-03"},{"lineNumber":80,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":81,"author":{"gitId":"-"},"content":"      // Search by severity of issue","lastModifiedDate":"2021-02-26"},{"lineNumber":82,"author":{"gitId":"-"},"content":"      searchKey \u003d lowSeverityFeatureFlawIssue.severity;","lastModifiedDate":"2021-02-26"},{"lineNumber":83,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([lowSeverityFeatureFlawIssue]);","lastModifiedDate":"2021-03-03"},{"lineNumber":84,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":85,"author":{"gitId":"-"},"content":"      // Search by response of issue","lastModifiedDate":"2021-02-26"},{"lineNumber":86,"author":{"gitId":"-"},"content":"      searchKey \u003d mediumSeverityIssueWithResponse.responseTag;","lastModifiedDate":"2021-02-26"},{"lineNumber":87,"author":{"gitId":"-"},"content":"      expect(applySearchFilter(searchKey, displayedColumns, issueService, issuesList)).toEqual([mediumSeverityIssueWithResponse]);","lastModifiedDate":"2021-03-03"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-26"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-26"},{"lineNumber":90,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-26"}],"authorContributionMap":{"Ding YuChen":1,"-":89}},{"path":"tests/app/shared/issue/description/description.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { DescriptionComponent } from \u0027../../../../../src/app/shared/issue/description/description.component\u0027;","lastModifiedDate":"2020-11-15"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { FormBuilder, NgForm } from \u0027@angular/forms\u0027;","lastModifiedDate":"2020-11-15"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../../../../src/app/core/services/phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../../../../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2020-11-15"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { ISSUE_WITH_EMPTY_DESCRIPTION } from \u0027../../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2020-11-15"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { of } from \u0027rxjs\u0027;","lastModifiedDate":"2020-11-15"},{"lineNumber":8,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":9,"author":{"gitId":"-"},"content":"describe(\u0027DescriptionComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  let descriptionComponent: DescriptionComponent;","lastModifiedDate":"2020-11-15"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  let issueService: any;","lastModifiedDate":"2020-11-15"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  let phaseService: PhaseService;","lastModifiedDate":"2020-11-15"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  let formBuilder: FormBuilder;","lastModifiedDate":"2020-11-15"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  let thisIssue: Issue;","lastModifiedDate":"2020-11-15"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  let dialog: any;","lastModifiedDate":"2020-11-15"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  let errorHandlingService: any;","lastModifiedDate":"2020-11-15"},{"lineNumber":17,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    formBuilder \u003d new FormBuilder();","lastModifiedDate":"2020-11-15"},{"lineNumber":20,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    phaseService \u003d new PhaseService(null, null, null, null, null);","lastModifiedDate":"2021-04-05"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    phaseService.currentPhase \u003d Phase.phaseTeamResponse;","lastModifiedDate":"2020-11-15"},{"lineNumber":22,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    dialog \u003d jasmine.createSpyObj(\u0027MatDialog\u0027, [\u0027open\u0027]);","lastModifiedDate":"2020-11-15"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    errorHandlingService \u003d jasmine.createSpyObj(\u0027ErrorHandlingService\u0027, [\u0027handleError\u0027]);","lastModifiedDate":"2020-11-15"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    issueService \u003d jasmine.createSpyObj(\u0027IssueService\u0027, [\u0027getLatestIssue\u0027, \u0027updateIssue\u0027]);","lastModifiedDate":"2020-11-15"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    descriptionComponent \u003d new DescriptionComponent(issueService, formBuilder, errorHandlingService, dialog, phaseService, null);","lastModifiedDate":"2020-11-15"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    thisIssue \u003d Issue.createPhaseBugReportingIssue(ISSUE_WITH_EMPTY_DESCRIPTION);","lastModifiedDate":"2020-11-15"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    descriptionComponent.issue \u003d thisIssue;","lastModifiedDate":"2020-11-15"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-11-15"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  it(\u0027should be initialised with a FromGroup instance\u0027, () \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    descriptionComponent.ngOnInit();","lastModifiedDate":"2020-11-15"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    expect(descriptionComponent.issueDescriptionForm.value).toEqual({ description: \u0027\u0027 });","lastModifiedDate":"2020-11-15"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-11-15"},{"lineNumber":36,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  it(\u0027should update the form value correctly and emit an event when entering edit mode\u0027, () \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    const descriptionComponentEditState \u003d spyOn(descriptionComponent.changeEditState, \u0027emit\u0027);","lastModifiedDate":"2020-11-15"},{"lineNumber":39,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    descriptionComponent.ngOnInit();","lastModifiedDate":"2020-11-15"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    descriptionComponent.changeToEditMode();","lastModifiedDate":"2020-11-15"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    expect(descriptionComponentEditState).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-11-15"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    expect(descriptionComponent.issueDescriptionForm.value).toEqual({ description: thisIssue.description });","lastModifiedDate":"2020-11-15"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-11-15"},{"lineNumber":45,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  it(\u0027should not have its value updated with issue description is invalid\u0027, () \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    descriptionComponent.issue.description \u003d undefined;","lastModifiedDate":"2020-11-15"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    descriptionComponent.ngOnInit();","lastModifiedDate":"2020-11-15"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    descriptionComponent.changeToEditMode();","lastModifiedDate":"2020-11-15"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    expect(descriptionComponent.issueDescriptionForm.value).toEqual({ description: \u0027\u0027 });","lastModifiedDate":"2020-11-15"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-11-15"},{"lineNumber":52,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  it(\u0027should highlight conflicting changes, if the issue description was updated simultaneously by another user\u0027, () \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    // Simulation of getting updated issue from Github.","lastModifiedDate":"2020-11-15"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    const updatedIssue \u003d thisIssue.clone(phaseService.currentPhase);","lastModifiedDate":"2020-11-15"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    updatedIssue.description \u003d \u0027Issue description was modified simultaneously on GitHub\u0027;","lastModifiedDate":"2020-11-15"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    issueService.issues \u003d [];","lastModifiedDate":"2020-11-15"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    issueService.issues[updatedIssue.id] \u003d updatedIssue;","lastModifiedDate":"2020-11-15"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    descriptionComponent.issue \u003d thisIssue;","lastModifiedDate":"2020-11-15"},{"lineNumber":60,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    const viewChangesCall \u003d spyOn(descriptionComponent, \u0027viewChanges\u0027);","lastModifiedDate":"2020-11-15"},{"lineNumber":62,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    const form \u003d new NgForm([], []);","lastModifiedDate":"2020-11-15"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    descriptionComponent.ngOnInit();","lastModifiedDate":"2020-11-15"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    descriptionComponent.changeToEditMode();","lastModifiedDate":"2020-11-15"},{"lineNumber":66,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    issueService.getLatestIssue.and.callFake((x: number) \u003d\u003e of(updatedIssue));","lastModifiedDate":"2020-11-15"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    dialog.open.and.callFake((x: any) \u003d\u003e {});","lastModifiedDate":"2020-11-15"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    errorHandlingService.handleError.and.callFake((x: any) \u003d\u003e {});","lastModifiedDate":"2020-11-15"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    descriptionComponent.updateDescription(form);","lastModifiedDate":"2020-11-15"},{"lineNumber":71,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    expect(viewChangesCall).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-11-15"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    expect(descriptionComponent.conflict.outdatedContent).toEqual(thisIssue.description);","lastModifiedDate":"2020-11-15"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    expect(descriptionComponent.conflict.updatedContent).toEqual(updatedIssue.description);","lastModifiedDate":"2020-11-15"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-11-15"},{"lineNumber":76,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  it(\u0027should be configured correctly when description is updated\u0027, () \u003d\u003e {","lastModifiedDate":"2020-11-15"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    const form \u003d new NgForm([], []);","lastModifiedDate":"2020-11-15"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    const formResetForm \u003d spyOn(form, \u0027resetForm\u0027);","lastModifiedDate":"2020-11-15"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    const issueUpdatedEmit \u003d spyOn(descriptionComponent.issueUpdated, \u0027emit\u0027);","lastModifiedDate":"2020-11-15"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    const resetCall \u003d spyOn(descriptionComponent, \u0027resetToDefault\u0027);","lastModifiedDate":"2020-11-15"},{"lineNumber":82,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    descriptionComponent.ngOnInit();","lastModifiedDate":"2020-11-15"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    descriptionComponent.changeToEditMode();","lastModifiedDate":"2020-11-15"},{"lineNumber":85,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    issueService.getLatestIssue.and.callFake((x: number) \u003d\u003e of(thisIssue));","lastModifiedDate":"2020-11-15"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    issueService.updateIssue.and.callFake((x: Issue) \u003d\u003e of(x));","lastModifiedDate":"2020-11-15"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    descriptionComponent.updateDescription(form);","lastModifiedDate":"2020-11-15"},{"lineNumber":89,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-11-15"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    expect(formResetForm).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-11-15"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    expect(issueUpdatedEmit).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-11-15"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    expect(resetCall).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-11-15"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-11-15"},{"lineNumber":94,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-11-15"}],"authorContributionMap":{"Low Jun Kai, Sean":1,"-":93}},{"path":"tests/app/shared/issue/duplicatedIssues/duplicated-issues.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Kang Su Min"},"content":"import { DuplicatedIssuesComponent } from \u0027../../../../../src/app/shared/issue/duplicatedIssues/duplicated-issues.component\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":2,"author":{"gitId":"Kang Su Min"},"content":"import { DebugElement } from \"@angular/core\";","lastModifiedDate":"2021-05-19"},{"lineNumber":3,"author":{"gitId":"Kang Su Min"},"content":"import { async, ComponentFixture, TestBed } from \"@angular/core/testing\";","lastModifiedDate":"2021-05-19"},{"lineNumber":4,"author":{"gitId":"Kang Su Min"},"content":"import { IssueService } from \u0027../../../../../src/app/core/services/issue.service\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":5,"author":{"gitId":"Kang Su Min"},"content":"import { ErrorHandlingService } from \u0027../../../../../src/app/core/services/error-handling.service\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":6,"author":{"gitId":"Kang Su Min"},"content":"import { PhaseService } from \u0027../../../../../src/app/core/services/phase.service\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":7,"author":{"gitId":"Kang Su Min"},"content":"import { PermissionService } from \u0027../../../../../src/app/core/services/permission.service\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":8,"author":{"gitId":"Kang Su Min"},"content":"import { Observable, of } from \u0027rxjs\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":9,"author":{"gitId":"Kang Su Min"},"content":"import { Issue } from \u0027../../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":10,"author":{"gitId":"Kang Su Min"},"content":"import { TEAM_4 } from \u0027../../../../constants/data.constants\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":11,"author":{"gitId":"Kang Su Min"},"content":"import {","lastModifiedDate":"2021-05-19"},{"lineNumber":12,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_PENDING_MODERATION,","lastModifiedDate":"2021-05-19"},{"lineNumber":13,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_PENDING_MODERATION_HIGH_SEVERITY_FEATURE_FLAW,","lastModifiedDate":"2021-05-19"},{"lineNumber":14,"author":{"gitId":"Kang Su Min"},"content":"    ISSUE_PENDING_MODERATION_LOW_SEVERITY_DOCUMENTATION_BUG","lastModifiedDate":"2021-05-19"},{"lineNumber":15,"author":{"gitId":"Kang Su Min"},"content":"    } from \u0027../../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":16,"author":{"gitId":"Kang Su Min"},"content":"import { By, HAMMER_LOADER } from \u0027@angular/platform-browser\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":17,"author":{"gitId":"Kang Su Min"},"content":"import { MaterialModule } from \u0027../../../../../src/app/shared/material.module\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":18,"author":{"gitId":"Kang Su Min"},"content":"import { RouterTestingModule } from \u0027@angular/router/testing\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":19,"author":{"gitId":"Kang Su Min"},"content":"import { Phase } from \u0027../../../../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":20,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":21,"author":{"gitId":"Kang Su Min"},"content":"describe(\u0027DuplicatedIssuesComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":22,"author":{"gitId":"Kang Su Min"},"content":"    let component: DuplicatedIssuesComponent;","lastModifiedDate":"2021-05-19"},{"lineNumber":23,"author":{"gitId":"Kang Su Min"},"content":"    let debugElement: DebugElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":24,"author":{"gitId":"Kang Su Min"},"content":"    let nativeElement: HTMLElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":25,"author":{"gitId":"Kang Su Min"},"content":"    let fixture: ComponentFixture\u003cDuplicatedIssuesComponent\u003e;","lastModifiedDate":"2021-05-19"},{"lineNumber":26,"author":{"gitId":"Kang Su Min"},"content":"    let dummyDuplicatedIssues: Observable\u003cIssue[]\u003e;","lastModifiedDate":"2021-05-19"},{"lineNumber":27,"author":{"gitId":"Kang Su Min"},"content":"    let thisIssue: Issue;","lastModifiedDate":"2021-05-19"},{"lineNumber":28,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":29,"author":{"gitId":"Kang Su Min"},"content":"    const dummyTeam \u003d TEAM_4;","lastModifiedDate":"2021-05-19"},{"lineNumber":30,"author":{"gitId":"Kang Su Min"},"content":"    const firstDummyIssue \u003d  Issue.createPhaseModerationIssue(ISSUE_PENDING_MODERATION_HIGH_SEVERITY_FEATURE_FLAW, dummyTeam);","lastModifiedDate":"2021-05-19"},{"lineNumber":31,"author":{"gitId":"Kang Su Min"},"content":"    const secondDummyIssue \u003d Issue.createPhaseModerationIssue(ISSUE_PENDING_MODERATION_LOW_SEVERITY_DOCUMENTATION_BUG, dummyTeam);","lastModifiedDate":"2021-05-19"},{"lineNumber":32,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":33,"author":{"gitId":"Kang Su Min"},"content":"    const permissionService: any \u003d jasmine.createSpyObj(\u0027PermissionService\u0027, [\u0027isTeamResponseEditable\u0027, \u0027isTutorResponseEditable\u0027]);","lastModifiedDate":"2021-05-19"},{"lineNumber":34,"author":{"gitId":"Kang Su Min"},"content":"    const issueService: any \u003d jasmine.createSpyObj(\u0027IssueService\u0027, [\u0027getDuplicateIssuesFor\u0027, \u0027updateIssueWithComment\u0027, \u0027updateIssue\u0027, \u0027updateLocalStore\u0027]);","lastModifiedDate":"2021-05-19"},{"lineNumber":35,"author":{"gitId":"Kang Su Min"},"content":"    const phaseService: any \u003d jasmine.createSpyObj(\u0027PhaseService\u0027, [], { currentPhase: Phase.phaseModeration });","lastModifiedDate":"2021-05-19"},{"lineNumber":36,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":37,"author":{"gitId":"Kang Su Min"},"content":"    beforeEach(async(() \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":38,"author":{"gitId":"Kang Su Min"},"content":"        TestBed.configureTestingModule({","lastModifiedDate":"2021-05-19"},{"lineNumber":39,"author":{"gitId":"Kang Su Min"},"content":"            declarations: [","lastModifiedDate":"2021-05-19"},{"lineNumber":40,"author":{"gitId":"Kang Su Min"},"content":"                DuplicatedIssuesComponent","lastModifiedDate":"2021-05-19"},{"lineNumber":41,"author":{"gitId":"Kang Su Min"},"content":"            ],","lastModifiedDate":"2021-05-19"},{"lineNumber":42,"author":{"gitId":"Kang Su Min"},"content":"            providers: [","lastModifiedDate":"2021-05-19"},{"lineNumber":43,"author":{"gitId":"Kang Su Min"},"content":"                IssueService, ErrorHandlingService, PhaseService, PermissionService, {","lastModifiedDate":"2021-05-19"},{"lineNumber":44,"author":{"gitId":"Kang Su Min"},"content":"                    provide: HAMMER_LOADER,","lastModifiedDate":"2021-05-19"},{"lineNumber":45,"author":{"gitId":"Kang Su Min"},"content":"                    useValue: () \u003d\u003e new Promise(() \u003d\u003e {})","lastModifiedDate":"2021-05-19"},{"lineNumber":46,"author":{"gitId":"Kang Su Min"},"content":"                  }","lastModifiedDate":"2021-05-19"},{"lineNumber":47,"author":{"gitId":"Kang Su Min"},"content":"            ],","lastModifiedDate":"2021-05-19"},{"lineNumber":48,"author":{"gitId":"Kang Su Min"},"content":"            imports: [","lastModifiedDate":"2021-05-19"},{"lineNumber":49,"author":{"gitId":"Kang Su Min"},"content":"                MaterialModule, RouterTestingModule","lastModifiedDate":"2021-05-19"},{"lineNumber":50,"author":{"gitId":"Kang Su Min"},"content":"            ]","lastModifiedDate":"2021-05-19"},{"lineNumber":51,"author":{"gitId":"Kang Su Min"},"content":"        })","lastModifiedDate":"2021-05-19"},{"lineNumber":52,"author":{"gitId":"Kang Su Min"},"content":"        .overrideProvider(PermissionService, { useValue: permissionService })","lastModifiedDate":"2021-05-19"},{"lineNumber":53,"author":{"gitId":"Kang Su Min"},"content":"        .overrideProvider(IssueService, { useValue: issueService})","lastModifiedDate":"2021-05-19"},{"lineNumber":54,"author":{"gitId":"Kang Su Min"},"content":"        .overrideProvider(PhaseService, { useValue: phaseService})","lastModifiedDate":"2021-05-19"},{"lineNumber":55,"author":{"gitId":"Kang Su Min"},"content":"        .compileComponents();","lastModifiedDate":"2021-05-19"},{"lineNumber":56,"author":{"gitId":"Kang Su Min"},"content":"    }));","lastModifiedDate":"2021-05-19"},{"lineNumber":57,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":58,"author":{"gitId":"Kang Su Min"},"content":"    beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":59,"author":{"gitId":"Kang Su Min"},"content":"        dummyDuplicatedIssues \u003d of([firstDummyIssue, secondDummyIssue]);","lastModifiedDate":"2021-05-19"},{"lineNumber":60,"author":{"gitId":"Kang Su Min"},"content":"        issueService.getDuplicateIssuesFor.and.callFake(() \u003d\u003e dummyDuplicatedIssues);","lastModifiedDate":"2021-05-19"},{"lineNumber":61,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":62,"author":{"gitId":"Kang Su Min"},"content":"        thisIssue \u003d Issue.createPhaseModerationIssue(ISSUE_PENDING_MODERATION, dummyTeam);","lastModifiedDate":"2021-05-19"},{"lineNumber":63,"author":{"gitId":"Kang Su Min"},"content":"        firstDummyIssue.duplicateOf \u003d thisIssue.id;","lastModifiedDate":"2021-05-19"},{"lineNumber":64,"author":{"gitId":"Kang Su Min"},"content":"        secondDummyIssue.duplicateOf \u003d thisIssue.id;","lastModifiedDate":"2021-05-19"},{"lineNumber":65,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":66,"author":{"gitId":"Kang Su Min"},"content":"        fixture \u003d TestBed.createComponent(DuplicatedIssuesComponent);","lastModifiedDate":"2021-05-19"},{"lineNumber":67,"author":{"gitId":"Kang Su Min"},"content":"        component \u003d fixture.componentInstance;","lastModifiedDate":"2021-05-19"},{"lineNumber":68,"author":{"gitId":"Kang Su Min"},"content":"        component.issue \u003d thisIssue;","lastModifiedDate":"2021-05-19"},{"lineNumber":69,"author":{"gitId":"Kang Su Min"},"content":"        fixture.detectChanges();","lastModifiedDate":"2021-05-19"},{"lineNumber":70,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":71,"author":{"gitId":"Kang Su Min"},"content":"        debugElement \u003d fixture.debugElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":72,"author":{"gitId":"Kang Su Min"},"content":"        nativeElement \u003d fixture.nativeElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":73,"author":{"gitId":"Kang Su Min"},"content":"    });","lastModifiedDate":"2021-05-19"},{"lineNumber":74,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":75,"author":{"gitId":"Kang Su Min"},"content":"    it(\u0027should create a chip for each duplicated issue\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":76,"author":{"gitId":"Kang Su Min"},"content":"        // Check that the number of chips is the same as the number of duplicate issues","lastModifiedDate":"2021-05-19"},{"lineNumber":77,"author":{"gitId":"Kang Su Min"},"content":"        const matChipListLength: number \u003d debugElement.queryAll(By.css(\u0027.mat-chip\u0027)).length;","lastModifiedDate":"2021-05-19"},{"lineNumber":78,"author":{"gitId":"Kang Su Min"},"content":"        const duplicateIssueslength: number \u003d getDuplicateIssuesLength();","lastModifiedDate":"2021-05-19"},{"lineNumber":79,"author":{"gitId":"Kang Su Min"},"content":"        expect(matChipListLength).toEqual(duplicateIssueslength);","lastModifiedDate":"2021-05-19"},{"lineNumber":80,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":81,"author":{"gitId":"Kang Su Min"},"content":"        // Check that first chip contains information on first issue in the duplicate issues array","lastModifiedDate":"2021-05-19"},{"lineNumber":82,"author":{"gitId":"Kang Su Min"},"content":"        const matChipAnchor: HTMLElement \u003d nativeElement.querySelector(\u0027a\u0027);","lastModifiedDate":"2021-05-19"},{"lineNumber":83,"author":{"gitId":"Kang Su Min"},"content":"        expect(matChipAnchor.innerText).toEqual(`#${firstDummyIssue.id}`);","lastModifiedDate":"2021-05-19"},{"lineNumber":84,"author":{"gitId":"Kang Su Min"},"content":"    });","lastModifiedDate":"2021-05-19"},{"lineNumber":85,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":86,"author":{"gitId":"Kang Su Min"},"content":"    it(\u0027should only allow cancellation of duplicate status if team/tutor response is editable\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":87,"author":{"gitId":"Kang Su Min"},"content":"        // Team/tutor response is not editable","lastModifiedDate":"2021-05-19"},{"lineNumber":88,"author":{"gitId":"Kang Su Min"},"content":"        mockTeamResponseEditPermission(permissionService, false);","lastModifiedDate":"2021-05-19"},{"lineNumber":89,"author":{"gitId":"Kang Su Min"},"content":"        mockTutorResponseEditPermission(permissionService, false);","lastModifiedDate":"2021-05-19"},{"lineNumber":90,"author":{"gitId":"Kang Su Min"},"content":"        fixture.detectChanges();","lastModifiedDate":"2021-05-19"},{"lineNumber":91,"author":{"gitId":"Kang Su Min"},"content":"        const cancelIconQuery \u003d debugElement.query(By.css(\u0027.mat-icon\u0027));","lastModifiedDate":"2021-05-19"},{"lineNumber":92,"author":{"gitId":"Kang Su Min"},"content":"        expect(cancelIconQuery).toBeNull();","lastModifiedDate":"2021-05-19"},{"lineNumber":93,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":94,"author":{"gitId":"Kang Su Min"},"content":"        // Team response is editable","lastModifiedDate":"2021-05-19"},{"lineNumber":95,"author":{"gitId":"Kang Su Min"},"content":"        mockTeamResponseEditPermission(permissionService, true);","lastModifiedDate":"2021-05-19"},{"lineNumber":96,"author":{"gitId":"Kang Su Min"},"content":"        mockTutorResponseEditPermission(permissionService, false);","lastModifiedDate":"2021-05-19"},{"lineNumber":97,"author":{"gitId":"Kang Su Min"},"content":"        fixture.detectChanges();","lastModifiedDate":"2021-05-19"},{"lineNumber":98,"author":{"gitId":"Kang Su Min"},"content":"        let cancelIcon: HTMLElement \u003d debugElement.query(By.css(\u0027.mat-icon\u0027)).nativeElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":99,"author":{"gitId":"Kang Su Min"},"content":"        expect(cancelIcon).toBeDefined();","lastModifiedDate":"2021-05-19"},{"lineNumber":100,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":101,"author":{"gitId":"Kang Su Min"},"content":"        // Tutor response is editable","lastModifiedDate":"2021-05-19"},{"lineNumber":102,"author":{"gitId":"Kang Su Min"},"content":"        mockTeamResponseEditPermission(permissionService, false);","lastModifiedDate":"2021-05-19"},{"lineNumber":103,"author":{"gitId":"Kang Su Min"},"content":"        mockTutorResponseEditPermission(permissionService, true);","lastModifiedDate":"2021-05-19"},{"lineNumber":104,"author":{"gitId":"Kang Su Min"},"content":"        fixture.detectChanges();","lastModifiedDate":"2021-05-19"},{"lineNumber":105,"author":{"gitId":"Kang Su Min"},"content":"        cancelIcon \u003d debugElement.query(By.css(\u0027.mat-icon\u0027)).nativeElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":106,"author":{"gitId":"Kang Su Min"},"content":"        expect(cancelIcon).toBeDefined();","lastModifiedDate":"2021-05-19"},{"lineNumber":107,"author":{"gitId":"Kang Su Min"},"content":"    });","lastModifiedDate":"2021-05-19"},{"lineNumber":108,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":109,"author":{"gitId":"Kang Su Min"},"content":"    it(\u0027should remove duplicate status of an duplicated issue once cancel icon is clicked\u0027, () \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":110,"author":{"gitId":"Kang Su Min"},"content":"        let updatedFirstDummyIssue: Issue;","lastModifiedDate":"2021-05-19"},{"lineNumber":111,"author":{"gitId":"Kang Su Min"},"content":"        issueService.updateIssueWithComment.and.callFake((duplicatedIssue: Issue) \u003d\u003e {","lastModifiedDate":"2021-05-19"},{"lineNumber":112,"author":{"gitId":"Kang Su Min"},"content":"            updatedFirstDummyIssue \u003d duplicatedIssue;","lastModifiedDate":"2021-05-19"},{"lineNumber":113,"author":{"gitId":"Kang Su Min"},"content":"            return of(duplicatedIssue);","lastModifiedDate":"2021-05-19"},{"lineNumber":114,"author":{"gitId":"Kang Su Min"},"content":"        });","lastModifiedDate":"2021-05-19"},{"lineNumber":115,"author":{"gitId":"Kang Su Min"},"content":"        mockTeamResponseEditPermission(permissionService, true);","lastModifiedDate":"2021-05-19"},{"lineNumber":116,"author":{"gitId":"Kang Su Min"},"content":"        fixture.detectChanges();","lastModifiedDate":"2021-05-19"},{"lineNumber":117,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":118,"author":{"gitId":"Kang Su Min"},"content":"        expect(firstDummyIssue.duplicateOf).toEqual(component.issue.id);","lastModifiedDate":"2021-05-19"},{"lineNumber":119,"author":{"gitId":"Kang Su Min"},"content":"        cancelDuplicateStatus();","lastModifiedDate":"2021-05-19"},{"lineNumber":120,"author":{"gitId":"Kang Su Min"},"content":"        expect(updatedFirstDummyIssue.duplicateOf).toBeNull();","lastModifiedDate":"2021-05-19"},{"lineNumber":121,"author":{"gitId":"Kang Su Min"},"content":"        expect(issueService.updateLocalStore).toHaveBeenCalledWith(updatedFirstDummyIssue);","lastModifiedDate":"2021-05-19"},{"lineNumber":122,"author":{"gitId":"Kang Su Min"},"content":"    });","lastModifiedDate":"2021-05-19"},{"lineNumber":123,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":124,"author":{"gitId":"Kang Su Min"},"content":"    function getDuplicateIssuesLength(): number {","lastModifiedDate":"2021-05-19"},{"lineNumber":125,"author":{"gitId":"Kang Su Min"},"content":"        let length: number;","lastModifiedDate":"2021-05-19"},{"lineNumber":126,"author":{"gitId":"Kang Su Min"},"content":"        component.duplicatedIssues.subscribe(x \u003d\u003e length \u003d x.length);","lastModifiedDate":"2021-05-19"},{"lineNumber":127,"author":{"gitId":"Kang Su Min"},"content":"        return length;","lastModifiedDate":"2021-05-19"},{"lineNumber":128,"author":{"gitId":"Kang Su Min"},"content":"    }","lastModifiedDate":"2021-05-19"},{"lineNumber":129,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":130,"author":{"gitId":"Kang Su Min"},"content":"    function cancelDuplicateStatus(): void {","lastModifiedDate":"2021-05-19"},{"lineNumber":131,"author":{"gitId":"Kang Su Min"},"content":"        const cancelIcon: HTMLElement \u003d debugElement.query(By.css(\u0027.mat-icon\u0027)).nativeElement;","lastModifiedDate":"2021-05-19"},{"lineNumber":132,"author":{"gitId":"Kang Su Min"},"content":"        cancelIcon.click();","lastModifiedDate":"2021-05-19"},{"lineNumber":133,"author":{"gitId":"Kang Su Min"},"content":"        fixture.detectChanges();","lastModifiedDate":"2021-05-19"},{"lineNumber":134,"author":{"gitId":"Kang Su Min"},"content":"    }","lastModifiedDate":"2021-05-19"},{"lineNumber":135,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":136,"author":{"gitId":"Kang Su Min"},"content":"    function mockTeamResponseEditPermission(permissionService: any, editable: boolean): void {","lastModifiedDate":"2021-05-19"},{"lineNumber":137,"author":{"gitId":"Kang Su Min"},"content":"        permissionService.isTeamResponseEditable.and.callFake(() \u003d\u003e editable);","lastModifiedDate":"2021-05-19"},{"lineNumber":138,"author":{"gitId":"Kang Su Min"},"content":"    }","lastModifiedDate":"2021-05-19"},{"lineNumber":139,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":140,"author":{"gitId":"Kang Su Min"},"content":"    function mockTutorResponseEditPermission(permissionService: any, editable: boolean): void {","lastModifiedDate":"2021-05-19"},{"lineNumber":141,"author":{"gitId":"Kang Su Min"},"content":"        permissionService.isTutorResponseEditable.and.callFake(() \u003d\u003e editable);","lastModifiedDate":"2021-05-19"},{"lineNumber":142,"author":{"gitId":"Kang Su Min"},"content":"    }","lastModifiedDate":"2021-05-19"},{"lineNumber":143,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":144,"author":{"gitId":"Kang Su Min"},"content":"});","lastModifiedDate":"2021-05-19"}],"authorContributionMap":{"Kang Su Min":144}},{"path":"tests/app/shared/issue/title/title.component.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { TitleComponent } from \u0027../../../../../src/app/shared/issue/title/title.component\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { ISSUE_WITH_EMPTY_DESCRIPTION } from \u0027../../../../constants/githubissue.constants\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Issue } from \u0027../../../../../src/app/core/models/issue.model\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { FormBuilder, NgForm } from \u0027@angular/forms\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { of } from \u0027rxjs\u0027;","lastModifiedDate":"2020-10-07"},{"lineNumber":6,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../../../../src/app/core/services/phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../../../../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":8,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":9,"author":{"gitId":"-"},"content":"describe(\u0027TitleComponent\u0027, () \u003d\u003e {","lastModifiedDate":"2020-10-07"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  let titleComponent: TitleComponent;","lastModifiedDate":"2020-10-07"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  let issueService: any;","lastModifiedDate":"2020-10-07"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  let thisIssue: Issue;","lastModifiedDate":"2020-10-07"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  let formBuilder: any;","lastModifiedDate":"2020-10-07"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  let phaseService: PhaseService;","lastModifiedDate":"2020-10-07"},{"lineNumber":15,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {","lastModifiedDate":"2020-10-07"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    formBuilder \u003d new FormBuilder();","lastModifiedDate":"2020-10-07"},{"lineNumber":18,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    phaseService \u003d new PhaseService(null, null, null, null, null);","lastModifiedDate":"2021-04-05"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    phaseService.currentPhase \u003d Phase.phaseTeamResponse;","lastModifiedDate":"2020-10-07"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    issueService \u003d jasmine.createSpyObj(\u0027IssueService\u0027, [\u0027updateIssue\u0027]);","lastModifiedDate":"2020-10-07"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    titleComponent \u003d new TitleComponent(issueService, formBuilder, null, null, phaseService);","lastModifiedDate":"2020-10-07"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    thisIssue \u003d Issue.createPhaseBugReportingIssue(ISSUE_WITH_EMPTY_DESCRIPTION);","lastModifiedDate":"2020-10-07"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    titleComponent.issue \u003d thisIssue;","lastModifiedDate":"2020-10-07"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-10-07"},{"lineNumber":26,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  it(\u0027should be initialised with an issueTitleForm\u0027, () \u003d\u003e {","lastModifiedDate":"2020-10-07"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    titleComponent.ngOnInit();","lastModifiedDate":"2020-10-07"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    expect(titleComponent.issueTitleForm.value).toEqual({ title: \u0027\u0027 });","lastModifiedDate":"2020-10-07"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-10-07"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  it(\u0027should be updated with correct flags and values in editing mode\u0027, () \u003d\u003e {","lastModifiedDate":"2020-10-07"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    titleComponent.ngOnInit();","lastModifiedDate":"2020-10-07"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    titleComponent.changeToEditMode();","lastModifiedDate":"2020-10-07"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    expect(titleComponent.isEditing).toEqual(true);","lastModifiedDate":"2020-10-07"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    expect(titleComponent.issueTitleForm.value).toEqual({ title: thisIssue.title });","lastModifiedDate":"2020-10-07"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-10-07"},{"lineNumber":38,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  it(\u0027should not have its value updated with issue title is invalid\u0027, () \u003d\u003e {","lastModifiedDate":"2020-10-07"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    thisIssue.title \u003d undefined;","lastModifiedDate":"2020-10-07"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    titleComponent.issue \u003d thisIssue;","lastModifiedDate":"2020-10-07"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    titleComponent.ngOnInit();","lastModifiedDate":"2020-10-07"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    titleComponent.changeToEditMode();","lastModifiedDate":"2020-10-07"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    expect(titleComponent.isEditing).toEqual(true);","lastModifiedDate":"2020-10-07"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    expect(titleComponent.issueTitleForm.value).toEqual({ title: \u0027\u0027 });","lastModifiedDate":"2020-10-07"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-10-07"},{"lineNumber":47,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  it(\u0027should be configured correctly when title is updated\u0027, () \u003d\u003e {","lastModifiedDate":"2020-10-07"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    const form \u003d new NgForm([], []);","lastModifiedDate":"2020-10-07"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    const formResetForm \u003d spyOn(form, \u0027resetForm\u0027);","lastModifiedDate":"2020-10-07"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    const titleComponentEmitter \u003d spyOn(titleComponent.issueUpdated, \u0027emit\u0027);","lastModifiedDate":"2020-10-07"},{"lineNumber":52,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    titleComponent.ngOnInit();","lastModifiedDate":"2020-10-07"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    titleComponent.changeToEditMode();","lastModifiedDate":"2020-10-07"},{"lineNumber":55,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    issueService.updateIssue.and.callFake((x: Issue) \u003d\u003e of(x));","lastModifiedDate":"2020-10-07"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    titleComponent.updateTitle(form);","lastModifiedDate":"2020-10-07"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-10-07"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    expect(formResetForm).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-10-07"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    expect(titleComponentEmitter).toHaveBeenCalledTimes(1);","lastModifiedDate":"2020-10-07"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    expect(titleComponent.isEditing).toEqual(false);","lastModifiedDate":"2020-10-07"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-10-07"},{"lineNumber":63,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-10-07"}],"authorContributionMap":{"Low Jun Kai, Sean":1,"-":62}},{"path":"tests/app/shared/lib/marked.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { markedOptionsFactory } from \u0027../../../../src/app/shared/lib/marked\u0027;","lastModifiedDate":"2021-06-01"},{"lineNumber":2,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { MarkedOptions, MarkedRenderer } from \u0027ngx-markdown\u0027;","lastModifiedDate":"2021-06-01"},{"lineNumber":3,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-06-01"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"describe(\u0027markedOptionsFactory\u0027, () \u003d\u003e {","lastModifiedDate":"2021-06-01"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const markedOptions: MarkedOptions \u003d markedOptionsFactory();","lastModifiedDate":"2021-06-01"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const renderer: MarkedRenderer \u003d markedOptions.renderer;","lastModifiedDate":"2021-06-01"},{"lineNumber":7,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-06-01"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const CUSTOM_LINK \u003d \u0027www.google.com\u0027;","lastModifiedDate":"2021-06-01"},{"lineNumber":9,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const CUSTOM_TITLE \u003d \u0027google\u0027;","lastModifiedDate":"2021-06-01"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const CUSTOM_TEXT \u003d \u0027link here\u0027;","lastModifiedDate":"2021-06-01"},{"lineNumber":11,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-06-01"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  it(\u0027should append all links with target\u003d_blank\u0027, () \u003d\u003e {","lastModifiedDate":"2021-06-01"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    const htmlOutput: string \u003d renderer.link(CUSTOM_LINK, CUSTOM_TITLE, CUSTOM_TEXT);","lastModifiedDate":"2021-06-01"},{"lineNumber":14,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    expect(htmlOutput).toContain(\u0027target\u003d\"_blank\"\u0027);","lastModifiedDate":"2021-06-01"},{"lineNumber":15,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  });","lastModifiedDate":"2021-06-01"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"});","lastModifiedDate":"2021-06-01"}],"authorContributionMap":{"Low Jun Kai, Sean":16}},{"path":"tests/constants/data.constants.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { DataFile } from \u0027../../src/app/core/models/data-file.model\u0027;","lastModifiedDate":"2020-04-15"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { Team } from \u0027../../src/app/core/models/team.model\u0027;","lastModifiedDate":"2020-04-15"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { UserRole } from \u0027../../src/app/core/models/user.model\u0027;","lastModifiedDate":"2020-04-16"},{"lineNumber":4,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-06"},{"lineNumber":5,"author":{"gitId":"-"},"content":"export const csvString \u003d","lastModifiedDate":"2021-03-03"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  `","lastModifiedDate":"2021-03-03"},{"lineNumber":7,"author":{"gitId":"-"},"content":"role,name,team","lastModifiedDate":"2020-04-06"},{"lineNumber":8,"author":{"gitId":"-"},"content":"student,JunWei96,CS2103T-W12-3","lastModifiedDate":"2020-04-06"},{"lineNumber":9,"author":{"gitId":"-"},"content":"admin,damithc,","lastModifiedDate":"2020-04-06"},{"lineNumber":10,"author":{"gitId":"-"},"content":"tutor,anubh-v,CS2103T-W12-3","lastModifiedDate":"2020-04-06"},{"lineNumber":11,"author":{"gitId":"-"},"content":"admin,geshuming,","lastModifiedDate":"2020-04-06"},{"lineNumber":12,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-05-10"},{"lineNumber":13,"author":{"gitId":"-"},"content":"tutor,jj-lim,CS2103T-W12-3","lastModifiedDate":"2020-04-06"},{"lineNumber":14,"author":{"gitId":"-"},"content":"tutor,jj-lim,CS2103T-W12-3","lastModifiedDate":"2020-04-06"},{"lineNumber":15,"author":{"gitId":"-"},"content":"tutor,jj-lim,CS2103T-W12-4","lastModifiedDate":"2020-04-06"},{"lineNumber":16,"author":{"gitId":"-"},"content":"tutor,q     ,CS2103T-W12-4","lastModifiedDate":"2020-04-06"},{"lineNumber":17,"author":{"gitId":"-"},"content":"student,003-samuel,CS2103T-W12-3","lastModifiedDate":"2020-04-06"},{"lineNumber":18,"author":{"gitId":"-"},"content":"student,damithc,CS2103T-W12-3","lastModifiedDate":"2020-04-06"},{"lineNumber":19,"author":{"gitId":"-"},"content":"student,RonakLakhotia,CS2103T-W12-4","lastModifiedDate":"2020-04-06"},{"lineNumber":20,"author":{"gitId":"-"},"content":"student,ptvrajsk,CS2103T-W12-3` + `                       `;","lastModifiedDate":"2021-03-03"},{"lineNumber":21,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-06"},{"lineNumber":22,"author":{"gitId":"-"},"content":"// jsonData is a json representation of csvString","lastModifiedDate":"2020-04-06"},{"lineNumber":23,"author":{"gitId":"-"},"content":"export const jsonData \u003d {","lastModifiedDate":"2020-04-06"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  roles: {","lastModifiedDate":"2020-04-06"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    students: {","lastModifiedDate":"2020-04-06"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      junwei96: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      \u0027003-samuel\u0027: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      damithc: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      ronaklakhotia: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      ptvrajsk: \u0027true\u0027","lastModifiedDate":"2020-04-06"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2020-04-06"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    tutors: { \u0027anubh-v\u0027: \u0027true\u0027, \u0027jj-lim\u0027: \u0027true\u0027, q: \u0027true\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    admins: { damithc: \u0027true\u0027, geshuming: \u0027true\u0027 }","lastModifiedDate":"2020-04-06"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2020-04-06"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  \u0027team-structure\u0027: {","lastModifiedDate":"2020-04-06"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    \u0027CS2103T-W12-3\u0027: {","lastModifiedDate":"2020-04-06"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      junwei96: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":38,"author":{"gitId":"-"},"content":"      \u0027003-samuel\u0027: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":39,"author":{"gitId":"-"},"content":"      damithc: \u0027true\u0027,","lastModifiedDate":"2020-04-06"},{"lineNumber":40,"author":{"gitId":"-"},"content":"      ptvrajsk: \u0027true\u0027","lastModifiedDate":"2020-04-06"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    },","lastModifiedDate":"2020-04-06"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    \u0027CS2103T-W12-4\u0027: { ronaklakhotia: \u0027true\u0027 }","lastModifiedDate":"2020-04-06"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2020-04-06"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  \u0027students-allocation\u0027: {","lastModifiedDate":"2020-04-06"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    junwei96: { teamId: \u0027CS2103T-W12-3\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    \u0027003-samuel\u0027: { teamId: \u0027CS2103T-W12-3\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    damithc: { teamId: \u0027CS2103T-W12-3\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    ronaklakhotia: { teamId: \u0027CS2103T-W12-4\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    ptvrajsk: { teamId: \u0027CS2103T-W12-3\u0027 }","lastModifiedDate":"2020-04-06"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2020-04-06"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  \u0027tutors-allocation\u0027: {","lastModifiedDate":"2020-04-06"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    \u0027anubh-v\u0027: { \u0027CS2103T-W12-3\u0027: \u0027true\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    \u0027jj-lim\u0027: { \u0027CS2103T-W12-3\u0027: \u0027true\u0027, \u0027CS2103T-W12-4\u0027: \u0027true\u0027 },","lastModifiedDate":"2020-04-06"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    q: { \u0027CS2103T-W12-4\u0027: \u0027true\u0027 }","lastModifiedDate":"2020-04-06"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  },","lastModifiedDate":"2020-04-06"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  \u0027admins-allocation\u0027: { damithc: {}, geshuming: {} }","lastModifiedDate":"2020-04-06"},{"lineNumber":57,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-16"},{"lineNumber":59,"author":{"gitId":"-"},"content":"// These are objects representing some users and teams in jsonData","lastModifiedDate":"2020-04-16"},{"lineNumber":60,"author":{"gitId":"Ding YuChen"},"content":"export const TEAM_3 \u003d new Team({","lastModifiedDate":"2021-05-13"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  id: \u0027CS2103T-W12-3\u0027,","lastModifiedDate":"2020-04-16"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  teamMembers: [","lastModifiedDate":"2021-03-03"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    { loginId: \u0027junwei96\u0027, role: UserRole.Student },","lastModifiedDate":"2021-03-03"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    { loginId: \u0027003-samuel\u0027, role: UserRole.Student },","lastModifiedDate":"2020-04-16"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    { loginId: \u0027damithc\u0027, role: UserRole.Student },","lastModifiedDate":"2020-04-16"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    { loginId: \u0027ptvrajsk\u0027, role: UserRole.Student }","lastModifiedDate":"2021-03-03"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  ]","lastModifiedDate":"2021-03-03"},{"lineNumber":68,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-09-12"},{"lineNumber":69,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-16"},{"lineNumber":70,"author":{"gitId":"-"},"content":"export const TEAM_4 \u003d new Team({","lastModifiedDate":"2021-02-24"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  id: \u0027CS2103T-W12-4\u0027,","lastModifiedDate":"2020-04-16"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  teamMembers: [{ loginId: \u0027ronaklakhotia\u0027, role: UserRole.Student }]","lastModifiedDate":"2020-04-16"},{"lineNumber":73,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-09-12"},{"lineNumber":74,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-16"},{"lineNumber":75,"author":{"gitId":"-"},"content":"export const USER_JUNWEI \u003d {","lastModifiedDate":"2020-04-16"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  loginId: \u0027junwei96\u0027,","lastModifiedDate":"2020-04-16"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  role: UserRole.Student,","lastModifiedDate":"2020-04-16"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  team: TEAM_3","lastModifiedDate":"2020-04-16"},{"lineNumber":79,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":80,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-16"},{"lineNumber":81,"author":{"gitId":"-"},"content":"export const USER_ANUBHAV \u003d {","lastModifiedDate":"2021-02-26"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  loginId: \u0027anubh-v\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  role: UserRole.Student,","lastModifiedDate":"2021-02-26"},{"lineNumber":84,"author":{"gitId":"-"},"content":"  team: TEAM_3","lastModifiedDate":"2021-02-26"},{"lineNumber":85,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-02-26"},{"lineNumber":86,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":87,"author":{"gitId":"-"},"content":"export const USER_Q \u003d {","lastModifiedDate":"2020-04-16"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  loginId: \u0027q\u0027,","lastModifiedDate":"2020-04-16"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  role: UserRole.Tutor,","lastModifiedDate":"2020-04-16"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  allocatedTeams: [TEAM_4]","lastModifiedDate":"2020-04-16"},{"lineNumber":91,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":92,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-16"},{"lineNumber":93,"author":{"gitId":"-"},"content":"export const USER_SHUMING \u003d {","lastModifiedDate":"2020-04-16"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  loginId: \u0027geshuming\u0027,","lastModifiedDate":"2020-04-16"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  role: UserRole.Admin,","lastModifiedDate":"2020-04-16"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  allocatedTeams: []","lastModifiedDate":"2020-04-16"},{"lineNumber":97,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":98,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-16"},{"lineNumber":99,"author":{"gitId":"-"},"content":"export const USER_WITH_TWO_ROLES \u003d {","lastModifiedDate":"2020-04-16"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  loginId: \u0027damithc\u0027,","lastModifiedDate":"2020-04-16"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  role: UserRole.Admin,","lastModifiedDate":"2020-04-16"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  allocatedTeams: []","lastModifiedDate":"2020-04-16"},{"lineNumber":103,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":104,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-15"},{"lineNumber":105,"author":{"gitId":"-"},"content":"export const dataFileTeamStructure: DataFile \u003d {","lastModifiedDate":"2020-04-15"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  teamStructure: new Map\u003cstring, Team\u003e([","lastModifiedDate":"2020-04-15"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    [","lastModifiedDate":"2021-03-03"},{"lineNumber":108,"author":{"gitId":"-"},"content":"      \u0027CS2103T-W12-3\u0027,","lastModifiedDate":"2021-03-03"},{"lineNumber":109,"author":{"gitId":"-"},"content":"      new Team({","lastModifiedDate":"2021-03-03"},{"lineNumber":110,"author":{"gitId":"-"},"content":"        id: \u0027CS2103T-W12-3\u0027,","lastModifiedDate":"2021-03-03"},{"lineNumber":111,"author":{"gitId":"-"},"content":"        teamMembers: [","lastModifiedDate":"2021-03-03"},{"lineNumber":112,"author":{"gitId":"-"},"content":"          { loginId: \u0027junwei96\u0027, role: UserRole.Student },","lastModifiedDate":"2020-04-15"},{"lineNumber":113,"author":{"gitId":"-"},"content":"          { loginId: \u0027003-samuel\u0027, role: UserRole.Student },","lastModifiedDate":"2020-04-15"},{"lineNumber":114,"author":{"gitId":"-"},"content":"          { loginId: \u0027damithc\u0027, role: UserRole.Student },","lastModifiedDate":"2020-04-15"},{"lineNumber":115,"author":{"gitId":"-"},"content":"          { loginId: \u0027ptvrajsk\u0027, role: UserRole.Student }","lastModifiedDate":"2020-04-15"},{"lineNumber":116,"author":{"gitId":"-"},"content":"        ]","lastModifiedDate":"2021-03-03"},{"lineNumber":117,"author":{"gitId":"-"},"content":"      })","lastModifiedDate":"2021-03-03"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    ],","lastModifiedDate":"2021-03-03"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    [\u0027CS2103T-W12-4\u0027, new Team({ id: \u0027CS2103T-W12-4\u0027, teamMembers: [{ loginId: \u0027ronaklakhotia\u0027, role: UserRole.Student }] })]","lastModifiedDate":"2021-03-03"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  ])","lastModifiedDate":"2020-04-15"},{"lineNumber":121,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-15"}],"authorContributionMap":{"Ding YuChen":1,"-":120}},{"path":"tests/constants/githubissue.constants.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { GithubIssue } from \u0027../../src/app/core/models/github/github-issue.model\u0027;","lastModifiedDate":"2020-04-08"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2020-09-12"},{"lineNumber":3,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_DOCUMENTATION_BUG,","lastModifiedDate":"2021-01-25"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_FEATURE_FLAW,","lastModifiedDate":"2021-01-25"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_FUNCTIONALITY_BUG,","lastModifiedDate":"2020-09-12"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_HIGH_SEVERITY,","lastModifiedDate":"2021-01-25"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_LOW_SEVERITY,","lastModifiedDate":"2021-01-25"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_MEDIUM_SEVERITY,","lastModifiedDate":"2020-09-12"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_TEAM_LABEL,","lastModifiedDate":"2020-09-12"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  GITHUB_LABEL_TUTORIAL_LABEL","lastModifiedDate":"2020-09-12"},{"lineNumber":11,"author":{"gitId":"-"},"content":"} from \u0027./githublabel.constants\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import { IssueState } from \u0027../../graphql/graphql-types\u0027;","lastModifiedDate":"2020-09-12"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import { EMPTY_TEAM_RESPONSE, PENDING_TUTOR_MODERATION } from \u0027./githubcomment.constants\u0027;","lastModifiedDate":"2021-01-23"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import { GithubLabel } from \u0027../../src/app/core/models/github/github-label.model\u0027;","lastModifiedDate":"2021-01-25"},{"lineNumber":15,"author":{"gitId":"Kang Su Min"},"content":"import { USER_ANUBHAV, USER_SHUMING } from \u0027./data.constants\u0027;","lastModifiedDate":"2021-05-19"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const randomId: () \u003d\u003e string \u003d () \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  return Math.floor(Math.random() * 1000000000).toString();","lastModifiedDate":"2021-01-25"},{"lineNumber":19,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-25"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":21,"author":{"gitId":"-"},"content":"const randomIssueNumber: () \u003d\u003e number \u003d () \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  return Math.round(Math.random() * 1000);","lastModifiedDate":"2021-01-25"},{"lineNumber":23,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-25"},{"lineNumber":24,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":25,"author":{"gitId":"-"},"content":"const randomISODate: (startDate?: Date, endDate?: Date) \u003d\u003e string \u003d (","lastModifiedDate":"2021-03-03"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  startDate: Date \u003d new Date(2020, 1, 1),","lastModifiedDate":"2021-03-03"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  endDate: Date \u003d new Date()","lastModifiedDate":"2021-03-03"},{"lineNumber":28,"author":{"gitId":"-"},"content":") \u003d\u003e {","lastModifiedDate":"2021-03-03"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  return new Date(startDate.getTime() + Math.random() * (startDate.getTime() - endDate.getTime())).toISOString();","lastModifiedDate":"2021-01-25"},{"lineNumber":30,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-25"},{"lineNumber":31,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-08"},{"lineNumber":32,"author":{"gitId":"Kang Su Min"},"content":"const USER_ANUBHAV_DETAILS \u003d {","lastModifiedDate":"2021-05-19"},{"lineNumber":33,"author":{"gitId":"Kang Su Min"},"content":"  login: USER_ANUBHAV.loginId,","lastModifiedDate":"2021-05-19"},{"lineNumber":34,"author":{"gitId":"Kang Su Min"},"content":"  avatar_url: \u0027https://avatars1.githubusercontent.com/u/35621759?v\u003d4\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":35,"author":{"gitId":"Kang Su Min"},"content":"  url: \u0027https://api.github.com/users/anubh-v\u0027","lastModifiedDate":"2021-05-19"},{"lineNumber":36,"author":{"gitId":"Kang Su Min"},"content":"};","lastModifiedDate":"2021-05-19"},{"lineNumber":37,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":38,"author":{"gitId":"Kang Su Min"},"content":"const USER_ANUBHAV_ASSIGNEE_DETAILS \u003d {","lastModifiedDate":"2021-05-19"},{"lineNumber":39,"author":{"gitId":"Kang Su Min"},"content":"  login: USER_ANUBHAV.loginId,","lastModifiedDate":"2021-05-19"},{"lineNumber":40,"author":{"gitId":"Kang Su Min"},"content":"  id: 35621759,","lastModifiedDate":"2021-05-19"},{"lineNumber":41,"author":{"gitId":"Kang Su Min"},"content":"  url: \u0027https://api.github.com/users/anubh-v\u0027","lastModifiedDate":"2021-05-19"},{"lineNumber":42,"author":{"gitId":"Kang Su Min"},"content":"};","lastModifiedDate":"2021-05-19"},{"lineNumber":43,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":44,"author":{"gitId":"Kang Su Min"},"content":"const USER_SHUMING_DETAILS \u003d {","lastModifiedDate":"2021-05-19"},{"lineNumber":45,"author":{"gitId":"Kang Su Min"},"content":"  login: USER_SHUMING.loginId,","lastModifiedDate":"2021-05-19"},{"lineNumber":46,"author":{"gitId":"Kang Su Min"},"content":"  avatar_url: \u0027https://avatars0.githubusercontent.com/u/43642522?v\u003d4\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":47,"author":{"gitId":"Kang Su Min"},"content":"  url: \u0027https://api.github.com/users/geshuming\u0027","lastModifiedDate":"2021-05-19"},{"lineNumber":48,"author":{"gitId":"Kang Su Min"},"content":"};","lastModifiedDate":"2021-05-19"},{"lineNumber":49,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":50,"author":{"gitId":"Kang Su Min"},"content":"const USER_SHUMING_ASSIGNEE_DETAILS \u003d {","lastModifiedDate":"2021-05-19"},{"lineNumber":51,"author":{"gitId":"Kang Su Min"},"content":"  login: \u0027geshuming\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":52,"author":{"gitId":"Kang Su Min"},"content":"  id: 43642522,","lastModifiedDate":"2021-05-19"},{"lineNumber":53,"author":{"gitId":"Kang Su Min"},"content":"  url: \u0027https://api.github.com/users/geshuming\u0027","lastModifiedDate":"2021-05-19"},{"lineNumber":54,"author":{"gitId":"Kang Su Min"},"content":"};","lastModifiedDate":"2021-05-19"},{"lineNumber":55,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":56,"author":{"gitId":"Kang Su Min"},"content":"const ISSUE_BODY \u003d \u0027# Issue Description\\n{original issue description}\\n\u0027 +","lastModifiedDate":"2021-05-19"},{"lineNumber":57,"author":{"gitId":"Kang Su Min"},"content":"\"# Team\u0027s Response\\n{team\u0027s response}\\n # Disputes\\n\\n\" +","lastModifiedDate":"2021-05-19"},{"lineNumber":58,"author":{"gitId":"Kang Su Min"},"content":"\"## :question: Issue Type\\n\\n### Team says:\\r\\n{the team\u0027s action that is being disputed}\\r\\n\\r\\n\" +","lastModifiedDate":"2021-05-19"},{"lineNumber":59,"author":{"gitId":"Kang Su Min"},"content":"\"### Tester says:\\r\\n{tester\u0027s objection}\\n\\n-------------------\\n## :question: Issue Severity\\n\\n\" +","lastModifiedDate":"2021-05-19"},{"lineNumber":60,"author":{"gitId":"Kang Su Min"},"content":"\"### Team says:\\r\\n{the team\u0027s action that is being disputed}\\r\\n\\r\\n\" +","lastModifiedDate":"2021-05-19"},{"lineNumber":61,"author":{"gitId":"Kang Su Min"},"content":"\"### Tester says:\\r\\n{tester\u0027s objection}\\n\\n-------------------\\n## :question: Not Related Question\\n\\n\" +","lastModifiedDate":"2021-05-19"},{"lineNumber":62,"author":{"gitId":"Kang Su Min"},"content":"\"### Team says:\\r\\n{the team\u0027s action that is being disputed}\\r\\n\\r\\n\" +","lastModifiedDate":"2021-05-19"},{"lineNumber":63,"author":{"gitId":"Kang Su Min"},"content":"\"### Tester says:\\r\\n{tester\u0027s objection}\\n\\n-------------------\\n\\n\";","lastModifiedDate":"2021-05-19"},{"lineNumber":64,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":65,"author":{"gitId":"-"},"content":"export const ISSUE_WITH_EMPTY_DESCRIPTION \u003d new GithubIssue({","lastModifiedDate":"2020-04-08"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  id: \u0027574085971\u0027,","lastModifiedDate":"2020-09-12"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  number: 92,","lastModifiedDate":"2020-04-08"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  assignees: [],","lastModifiedDate":"2020-04-08"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  comments: [],","lastModifiedDate":"2020-09-12"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  body: \u0027\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  created_at: \u00272020-03-02T16:19:02Z\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_FUNCTIONALITY_BUG, GITHUB_LABEL_MEDIUM_SEVERITY],","lastModifiedDate":"2021-03-03"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  state: IssueState.Open,","lastModifiedDate":"2020-09-12"},{"lineNumber":74,"author":{"gitId":"-"},"content":"  title: \u0027App starts to lag when given large amount of input\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  updated_at: \u00272020-03-13T13:37:32Z\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/92\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":77,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_ANUBHAV_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":78,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-26"},{"lineNumber":79,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":80,"author":{"gitId":"-"},"content":"export const ISSUE_WITH_EMPTY_DESCRIPTION_LOW_SEVERITY \u003d new GithubIssue({","lastModifiedDate":"2021-02-26"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  id: \u0027384830567\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  number: 130,","lastModifiedDate":"2021-02-26"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  assignees: [],","lastModifiedDate":"2021-02-26"},{"lineNumber":84,"author":{"gitId":"-"},"content":"  comments: [],","lastModifiedDate":"2021-02-26"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  body: \u0027\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  created_at: \u00272020-03-02T16:19:02Z\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_FEATURE_FLAW, GITHUB_LABEL_LOW_SEVERITY],","lastModifiedDate":"2021-03-03"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  state: IssueState.Open,","lastModifiedDate":"2021-02-26"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  title: \u0027App is sometimes slow\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  updated_at: \u00272020-03-13T13:37:32Z\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/130\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":92,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_ANUBHAV_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":93,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-26"},{"lineNumber":94,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":95,"author":{"gitId":"-"},"content":"export const ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY \u003d new GithubIssue({","lastModifiedDate":"2021-02-26"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  id: \u0027573957398\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  number: 32,","lastModifiedDate":"2021-02-26"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  assignees: [],","lastModifiedDate":"2021-02-26"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  comments: [],","lastModifiedDate":"2021-02-26"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  body: \u0027\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  created_at: \u00272010-03-12T19:12:02Z\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_DOCUMENTATION_BUG, GITHUB_LABEL_HIGH_SEVERITY],","lastModifiedDate":"2021-03-03"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  state: IssueState.Open,","lastModifiedDate":"2021-02-26"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  title: \u0027Too many typos\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  updated_at: \u00272012-03-12T19:12:02Z\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/130\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":107,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_ANUBHAV_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":108,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-26"},{"lineNumber":109,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-26"},{"lineNumber":110,"author":{"gitId":"-"},"content":"export const DUPLICATED_ISSUE_WITH_EMPTY_DESCRIPTION_HIGH_SEVERITY \u003d new GithubIssue({","lastModifiedDate":"2021-02-26"},{"lineNumber":111,"author":{"gitId":"-"},"content":"  id: \u0027573957399\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  number: 33,","lastModifiedDate":"2021-02-26"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  assignees: [],","lastModifiedDate":"2021-02-26"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  comments: [],","lastModifiedDate":"2021-02-26"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  body: \u0027\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  created_at: \u00272010-04-12T19:12:02Z\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":117,"author":{"gitId":"-"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_DOCUMENTATION_BUG, GITHUB_LABEL_HIGH_SEVERITY],","lastModifiedDate":"2021-03-03"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  state: IssueState.Open,","lastModifiedDate":"2021-02-26"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  title: \u0027Too many typos 2\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  updated_at: \u00272012-04-12T19:12:02Z\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/130\u0027,","lastModifiedDate":"2021-02-26"},{"lineNumber":122,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_ANUBHAV_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":123,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-09-12"},{"lineNumber":124,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-04-08"},{"lineNumber":125,"author":{"gitId":"-"},"content":"export const ISSUE_WITH_ASSIGNEES \u003d new GithubIssue({","lastModifiedDate":"2020-04-08"},{"lineNumber":126,"author":{"gitId":"-"},"content":"  id: \u0027551732011\u0027,","lastModifiedDate":"2020-09-12"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  number: 91,","lastModifiedDate":"2020-04-08"},{"lineNumber":128,"author":{"gitId":"-"},"content":"  assignees: [","lastModifiedDate":"2020-04-08"},{"lineNumber":129,"author":{"gitId":"Kang Su Min"},"content":"    USER_ANUBHAV_ASSIGNEE_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":130,"author":{"gitId":"-"},"content":"  ],","lastModifiedDate":"2020-04-08"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  body: \u0027Screen freezes every few minutes\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":132,"author":{"gitId":"-"},"content":"  created_at: \u00272020-01-18T07:01:45Z\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":133,"author":{"gitId":"-"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_FUNCTIONALITY_BUG, GITHUB_LABEL_MEDIUM_SEVERITY],","lastModifiedDate":"2021-03-03"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  state: IssueState.Open,","lastModifiedDate":"2020-09-12"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  title: \u0027Screen freezes\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  updated_at: \u00272020-03-02T12:50:02Z\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":137,"author":{"gitId":"-"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/91\u0027,","lastModifiedDate":"2020-04-08"},{"lineNumber":138,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_ANUBHAV_DETAILS,","lastModifiedDate":"2021-05-19"},{"lineNumber":139,"author":{"gitId":"-"},"content":"  comments: [EMPTY_TEAM_RESPONSE]","lastModifiedDate":"2021-03-03"},{"lineNumber":140,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-09-12"},{"lineNumber":141,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-23"},{"lineNumber":142,"author":{"gitId":"-"},"content":"export const generateIssueWithRandomData: () \u003d\u003e GithubIssue \u003d () \u003d\u003e {","lastModifiedDate":"2021-01-25"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  const created_and_updated_date: string \u003d randomISODate();","lastModifiedDate":"2021-01-25"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  const issueNumber: number \u003d randomIssueNumber();","lastModifiedDate":"2021-01-25"},{"lineNumber":145,"author":{"gitId":"-"},"content":"  const severityLabels: GithubLabel[] \u003d [GITHUB_LABEL_LOW_SEVERITY, GITHUB_LABEL_MEDIUM_SEVERITY, GITHUB_LABEL_HIGH_SEVERITY];","lastModifiedDate":"2021-01-25"},{"lineNumber":146,"author":{"gitId":"-"},"content":"  const typeLabels: GithubLabel[] \u003d [GITHUB_LABEL_FUNCTIONALITY_BUG, GITHUB_LABEL_FEATURE_FLAW, GITHUB_LABEL_DOCUMENTATION_BUG];","lastModifiedDate":"2021-01-25"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  return new GithubIssue({","lastModifiedDate":"2021-01-25"},{"lineNumber":148,"author":{"gitId":"-"},"content":"    id: randomId(),","lastModifiedDate":"2021-01-25"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    number: issueNumber,","lastModifiedDate":"2021-01-25"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    assignees: [],","lastModifiedDate":"2021-01-25"},{"lineNumber":151,"author":{"gitId":"-"},"content":"    comments: [],","lastModifiedDate":"2021-01-25"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    body: `Issue No.: ${issueNumber}\\nSample Content.`,","lastModifiedDate":"2021-01-25"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    created_at: created_and_updated_date,","lastModifiedDate":"2021-01-25"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, typeLabels[issueNumber % 3], severityLabels[issueNumber % 3]],","lastModifiedDate":"2021-03-03"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    state: IssueState.Open,","lastModifiedDate":"2021-01-25"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    title: `Random Issue: ${issueNumber}`,","lastModifiedDate":"2021-01-25"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    updated_at: created_and_updated_date,","lastModifiedDate":"2021-01-25"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    url: `https://api.github.com/repos/CATcher-org/pe-results/issues/${issueNumber}`,","lastModifiedDate":"2021-01-25"},{"lineNumber":159,"author":{"gitId":"Kang Su Min"},"content":"    user: USER_ANUBHAV_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":160,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-01-25"},{"lineNumber":161,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2021-01-25"},{"lineNumber":162,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-01-25"},{"lineNumber":163,"author":{"gitId":"-"},"content":"export const ISSUE_PENDING_MODERATION \u003d new GithubIssue({","lastModifiedDate":"2021-01-23"},{"lineNumber":164,"author":{"gitId":"-"},"content":"  id: \u0027574674360\u0027,","lastModifiedDate":"2021-01-23"},{"lineNumber":165,"author":{"gitId":"-"},"content":"  number: 26,","lastModifiedDate":"2021-01-23"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  assignees: [","lastModifiedDate":"2021-01-23"},{"lineNumber":167,"author":{"gitId":"Kang Su Min"},"content":"    USER_SHUMING_ASSIGNEE_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":168,"author":{"gitId":"-"},"content":"  ],","lastModifiedDate":"2021-01-23"},{"lineNumber":169,"author":{"gitId":"Kang Su Min"},"content":"  body: ISSUE_BODY,","lastModifiedDate":"2021-05-19"},{"lineNumber":170,"author":{"gitId":"-"},"content":"  created_at: \u00272020-03-03T13:38:32Z\u0027,","lastModifiedDate":"2021-01-23"},{"lineNumber":171,"author":{"gitId":"-"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_FUNCTIONALITY_BUG, GITHUB_LABEL_MEDIUM_SEVERITY],","lastModifiedDate":"2021-03-03"},{"lineNumber":172,"author":{"gitId":"-"},"content":"  state: IssueState.Open,","lastModifiedDate":"2021-01-23"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  title: \u0027Basic Issue, Three Disputes, Unsure\u0027,","lastModifiedDate":"2021-01-23"},{"lineNumber":174,"author":{"gitId":"-"},"content":"  updated_at: \u00272020-08-15T06:39:40Z\u0027,","lastModifiedDate":"2021-01-23"},{"lineNumber":175,"author":{"gitId":"-"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/26\u0027,","lastModifiedDate":"2021-01-23"},{"lineNumber":176,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_SHUMING_DETAILS,","lastModifiedDate":"2021-05-19"},{"lineNumber":177,"author":{"gitId":"Kang Su Min"},"content":"  comments: [PENDING_TUTOR_MODERATION]","lastModifiedDate":"2021-05-19"},{"lineNumber":178,"author":{"gitId":"Kang Su Min"},"content":"});","lastModifiedDate":"2021-05-19"},{"lineNumber":179,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":180,"author":{"gitId":"Kang Su Min"},"content":"export const ISSUE_PENDING_MODERATION_HIGH_SEVERITY_FEATURE_FLAW \u003d new GithubIssue({","lastModifiedDate":"2021-05-19"},{"lineNumber":181,"author":{"gitId":"Kang Su Min"},"content":"  id: \u0027239538360\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":182,"author":{"gitId":"Kang Su Min"},"content":"  number: 93,","lastModifiedDate":"2021-05-19"},{"lineNumber":183,"author":{"gitId":"Kang Su Min"},"content":"  assignees: [","lastModifiedDate":"2021-05-19"},{"lineNumber":184,"author":{"gitId":"Kang Su Min"},"content":"    USER_SHUMING_ASSIGNEE_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":185,"author":{"gitId":"Kang Su Min"},"content":"  ],","lastModifiedDate":"2021-05-19"},{"lineNumber":186,"author":{"gitId":"Kang Su Min"},"content":"  body: ISSUE_BODY,","lastModifiedDate":"2021-05-19"},{"lineNumber":187,"author":{"gitId":"Kang Su Min"},"content":"  created_at: \u00272020-10-14T10:28:32Z\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":188,"author":{"gitId":"Kang Su Min"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_FEATURE_FLAW, GITHUB_LABEL_HIGH_SEVERITY],","lastModifiedDate":"2021-05-19"},{"lineNumber":189,"author":{"gitId":"Kang Su Min"},"content":"  state: IssueState.Open,","lastModifiedDate":"2021-05-19"},{"lineNumber":190,"author":{"gitId":"Kang Su Min"},"content":"  title: \u0027Redundant buggy feature\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":191,"author":{"gitId":"Kang Su Min"},"content":"  updated_at: \u00272020-11-25T13:19:40Z\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":192,"author":{"gitId":"Kang Su Min"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/26\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":193,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_SHUMING_DETAILS,","lastModifiedDate":"2021-05-19"},{"lineNumber":194,"author":{"gitId":"Kang Su Min"},"content":"  comments: [PENDING_TUTOR_MODERATION]","lastModifiedDate":"2021-05-19"},{"lineNumber":195,"author":{"gitId":"Kang Su Min"},"content":"});","lastModifiedDate":"2021-05-19"},{"lineNumber":196,"author":{"gitId":"Kang Su Min"},"content":"","lastModifiedDate":"2021-05-19"},{"lineNumber":197,"author":{"gitId":"Kang Su Min"},"content":"export const ISSUE_PENDING_MODERATION_LOW_SEVERITY_DOCUMENTATION_BUG \u003d new GithubIssue({","lastModifiedDate":"2021-05-19"},{"lineNumber":198,"author":{"gitId":"Kang Su Min"},"content":"  id: \u0027384756360\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":199,"author":{"gitId":"Kang Su Min"},"content":"  number: 6,","lastModifiedDate":"2021-05-19"},{"lineNumber":200,"author":{"gitId":"Kang Su Min"},"content":"  assignees: [","lastModifiedDate":"2021-05-19"},{"lineNumber":201,"author":{"gitId":"Kang Su Min"},"content":"    USER_SHUMING_ASSIGNEE_DETAILS","lastModifiedDate":"2021-05-19"},{"lineNumber":202,"author":{"gitId":"Kang Su Min"},"content":"  ],","lastModifiedDate":"2021-05-19"},{"lineNumber":203,"author":{"gitId":"Kang Su Min"},"content":"  body: ISSUE_BODY,","lastModifiedDate":"2021-05-19"},{"lineNumber":204,"author":{"gitId":"Kang Su Min"},"content":"  created_at: \u00272020-03-26T09:08:12Z\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":205,"author":{"gitId":"Kang Su Min"},"content":"  labels: [GITHUB_LABEL_TEAM_LABEL, GITHUB_LABEL_TUTORIAL_LABEL, GITHUB_LABEL_DOCUMENTATION_BUG, GITHUB_LABEL_LOW_SEVERITY],","lastModifiedDate":"2021-05-19"},{"lineNumber":206,"author":{"gitId":"Kang Su Min"},"content":"  state: IssueState.Open,","lastModifiedDate":"2021-05-19"},{"lineNumber":207,"author":{"gitId":"Kang Su Min"},"content":"  title: \u0027Documentation bug, too many typos\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":208,"author":{"gitId":"Kang Su Min"},"content":"  updated_at: \u00272020-11-10T16:59:40Z\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":209,"author":{"gitId":"Kang Su Min"},"content":"  url: \u0027https://api.github.com/repos/CATcher-org/pe-results/issues/26\u0027,","lastModifiedDate":"2021-05-19"},{"lineNumber":210,"author":{"gitId":"Kang Su Min"},"content":"  user: USER_SHUMING_DETAILS,","lastModifiedDate":"2021-05-19"},{"lineNumber":211,"author":{"gitId":"-"},"content":"  comments: [PENDING_TUTOR_MODERATION]","lastModifiedDate":"2021-03-03"},{"lineNumber":212,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-01-23"}],"authorContributionMap":{"Kang Su Min":78,"-":134}},{"path":"tests/services/permissions.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { PermissionService } from \u0027../../src/app/core/services/permission.service\u0027;","lastModifiedDate":"2020-03-04"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../src/app/core/services/phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { UserService } from \u0027../../src/app/core/services/user.service\u0027;","lastModifiedDate":"2020-03-04"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import { UserRole } from \u0027../../src/app/core/models/user.model\u0027;","lastModifiedDate":"2020-03-04"},{"lineNumber":6,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":7,"author":{"gitId":"-"},"content":"const testStudent \u003d {","lastModifiedDate":"2020-03-04"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  loginId: \u0027testStudent\u0027,","lastModifiedDate":"2020-03-04"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  role: UserRole.Student","lastModifiedDate":"2020-03-04"},{"lineNumber":10,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-03-04"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":12,"author":{"gitId":"-"},"content":"const testTutor \u003d {","lastModifiedDate":"2020-03-04"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  loginId: \u0027testTutor\u0027,","lastModifiedDate":"2020-03-04"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  role: UserRole.Tutor","lastModifiedDate":"2020-03-04"},{"lineNumber":15,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":16,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const testAdmin \u003d {","lastModifiedDate":"2020-03-04"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  loginId: \u0027testAdmin\u0027,","lastModifiedDate":"2020-03-04"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  role: UserRole.Admin","lastModifiedDate":"2020-03-04"},{"lineNumber":20,"author":{"gitId":"-"},"content":"};","lastModifiedDate":"2020-04-16"},{"lineNumber":21,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":22,"author":{"gitId":"-"},"content":"const mockUserService \u003d new UserService(null, null);","lastModifiedDate":"2020-04-16"},{"lineNumber":23,"author":{"gitId":"Low Jun Kai, Sean"},"content":"const mockPhaseService \u003d new PhaseService(null, null, null, null, null);","lastModifiedDate":"2021-04-05"},{"lineNumber":24,"author":{"gitId":"-"},"content":"const permissionService \u003d new PermissionService(null, mockUserService, mockPhaseService);","lastModifiedDate":"2020-04-16"},{"lineNumber":25,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":26,"author":{"gitId":"-"},"content":"describe(\u0027Test a few permissions for each role in each phase\u0027, () \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  it(\u0027Test a few permissions for UserRole.Student\u0027, () \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseBugReporting;","lastModifiedDate":"2020-03-04"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    mockUserService.currentUser \u003d testStudent;","lastModifiedDate":"2020-03-04"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueCreatable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    expect(permissionService.isTutorResponseEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseTeamResponse;","lastModifiedDate":"2020-03-04"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueLabelsEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    expect(permissionService.isTeamResponseEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseTesterResponse;","lastModifiedDate":"2020-03-04"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueEditable()).toBe(true);","lastModifiedDate":"2020-08-31"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueDescriptionEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseModeration;","lastModifiedDate":"2020-03-04"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueDeletable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueTitleEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-03-04"},{"lineNumber":42,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  it(\u0027Test a few permissions for UserRole.Tutor\u0027, () \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseBugReporting;","lastModifiedDate":"2020-03-04"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    mockUserService.currentUser \u003d testTutor;","lastModifiedDate":"2020-03-04"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueCreatable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueTitleEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseTeamResponse;","lastModifiedDate":"2020-03-04"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueLabelsEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    expect(permissionService.isTeamResponseEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseTesterResponse;","lastModifiedDate":"2020-03-04"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueDescriptionEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseModeration;","lastModifiedDate":"2020-03-04"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    expect(permissionService.isTutorResponseEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueDeletable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-03-04"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2020-03-04"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  it(\u0027Test a few permissions for UserRole.Admin\u0027, () \u003d\u003e {","lastModifiedDate":"2020-03-04"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseBugReporting;","lastModifiedDate":"2020-03-04"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    mockUserService.currentUser \u003d testAdmin;","lastModifiedDate":"2020-03-04"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueCreatable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    expect(permissionService.isTutorResponseEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseTeamResponse;","lastModifiedDate":"2020-03-04"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueLabelsEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    expect(permissionService.isTeamResponseEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseTesterResponse;","lastModifiedDate":"2020-03-04"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueDescriptionEditable()).toBe(true);","lastModifiedDate":"2020-03-04"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    mockPhaseService.currentPhase \u003d Phase.phaseModeration;","lastModifiedDate":"2020-03-04"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueDeletable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    expect(permissionService.isIssueTitleEditable()).toBe(false);","lastModifiedDate":"2020-03-04"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2020-03-04"},{"lineNumber":74,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2020-03-04"}],"authorContributionMap":{"Low Jun Kai, Sean":1,"-":73}},{"path":"tests/services/phase.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { of } from \u0027rxjs\u0027;","lastModifiedDate":"2021-02-04"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import { NO_ACCESSIBLE_PHASES } from \u0027../../src/app/core/models/session.model\u0027;","lastModifiedDate":"2021-03-05"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import { PhaseService } from \u0027../../src/app/core/services/phase.service\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import { Phase } from \u0027../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-02-08"},{"lineNumber":5,"author":{"gitId":"-"},"content":"import {","lastModifiedDate":"2021-03-05"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  BUG_REPORTING_PHASE_SESSION_DATA,","lastModifiedDate":"2021-03-05"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  MODERATION_PHASE_SESSION_DATA,","lastModifiedDate":"2021-03-05"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  MULTIPLE_OPEN_PHASES_SESSION_DATA,","lastModifiedDate":"2021-03-05"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  NO_OPEN_PHASES_SESSION_DATA","lastModifiedDate":"2021-03-05"},{"lineNumber":10,"author":{"gitId":"-"},"content":"} from \u0027../constants/session.constants\u0027;","lastModifiedDate":"2021-03-05"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":12,"author":{"gitId":"-"},"content":"let phaseService: PhaseService;","lastModifiedDate":"2021-02-04"},{"lineNumber":13,"author":{"gitId":"-"},"content":"let githubService: any;","lastModifiedDate":"2021-02-04"},{"lineNumber":14,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":15,"author":{"gitId":"-"},"content":"describe(\u0027PhaseService\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    githubService \u003d jasmine.createSpyObj(\u0027GithubService\u0027, [\u0027fetchSettingsFile\u0027, \u0027storePhaseDetails\u0027]);","lastModifiedDate":"2021-03-03"},{"lineNumber":18,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    phaseService \u003d new PhaseService(null, githubService, null, null, null);","lastModifiedDate":"2021-04-05"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-04"},{"lineNumber":20,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  describe(\u0027.storeSessionData()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":22,"author":{"gitId":"Dylan Ghee"},"content":"    it(\u0027should not throw any errors if there is a defined openPhase\u0027, () \u003d\u003e {","lastModifiedDate":"2021-07-04"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      githubService.fetchSettingsFile.and.returnValue(of(BUG_REPORTING_PHASE_SESSION_DATA));","lastModifiedDate":"2021-03-05"},{"lineNumber":24,"author":{"gitId":"Dylan Ghee"},"content":"      phaseService.storeSessionData().subscribe({","lastModifiedDate":"2021-07-04"},{"lineNumber":25,"author":{"gitId":"Dylan Ghee"},"content":"        error: () \u003d\u003e fail()","lastModifiedDate":"2021-07-04"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2021-02-04"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-04"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":29,"author":{"gitId":"Dylan Ghee"},"content":"    it(\u0027should not throw any errors if there are multiple defined openPhases\u0027, () \u003d\u003e {","lastModifiedDate":"2021-07-04"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      githubService.fetchSettingsFile.and.returnValue(of(MULTIPLE_OPEN_PHASES_SESSION_DATA));","lastModifiedDate":"2021-03-05"},{"lineNumber":31,"author":{"gitId":"Dylan Ghee"},"content":"      phaseService.storeSessionData().subscribe({","lastModifiedDate":"2021-07-04"},{"lineNumber":32,"author":{"gitId":"Dylan Ghee"},"content":"        error: () \u003d\u003e fail()","lastModifiedDate":"2021-07-04"},{"lineNumber":33,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2021-02-04"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-04"},{"lineNumber":35,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    it(\u0027should throw an error if no openPhases are defined\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-15"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      githubService.fetchSettingsFile.and.returnValue(of(NO_OPEN_PHASES_SESSION_DATA));","lastModifiedDate":"2021-03-05"},{"lineNumber":38,"author":{"gitId":"-"},"content":"      phaseService.storeSessionData().subscribe({","lastModifiedDate":"2021-02-15"},{"lineNumber":39,"author":{"gitId":"-"},"content":"        next: () \u003d\u003e fail(),","lastModifiedDate":"2021-02-15"},{"lineNumber":40,"author":{"gitId":"-"},"content":"        error: (err) \u003d\u003e expect(err).toEqual(new Error(NO_ACCESSIBLE_PHASES))","lastModifiedDate":"2021-02-15"},{"lineNumber":41,"author":{"gitId":"-"},"content":"      });","lastModifiedDate":"2021-02-04"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-04"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-04"},{"lineNumber":44,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  describe(\u0027.githubRepoPermissionLevel()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    it(\u0027should return \"repo\" if phaseModeration is included in openPhases\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      phaseService.sessionData \u003d MODERATION_PHASE_SESSION_DATA;","lastModifiedDate":"2021-03-05"},{"lineNumber":48,"author":{"gitId":"-"},"content":"      expect(phaseService.sessionData.openPhases).toContain(Phase.phaseModeration);","lastModifiedDate":"2021-02-04"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      expect(phaseService.githubRepoPermissionLevel()).toEqual(\u0027repo\u0027);","lastModifiedDate":"2021-02-04"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-04"},{"lineNumber":51,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    it(\u0027should return \"public_repo\" if phaseModeration is not included in openPhases\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      phaseService.sessionData \u003d NO_OPEN_PHASES_SESSION_DATA;","lastModifiedDate":"2021-03-05"},{"lineNumber":54,"author":{"gitId":"-"},"content":"      expect(phaseService.sessionData.openPhases).not.toContain(Phase.phaseModeration);","lastModifiedDate":"2021-02-04"},{"lineNumber":55,"author":{"gitId":"-"},"content":"      expect(phaseService.githubRepoPermissionLevel()).toEqual(\u0027public_repo\u0027);","lastModifiedDate":"2021-02-04"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-04"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-04"},{"lineNumber":58,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-02-04"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  describe(\u0027.reset()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    it(\u0027should reset the currentPhase of the PhaseService\u0027, () \u003d\u003e {","lastModifiedDate":"2021-02-04"},{"lineNumber":61,"author":{"gitId":"-"},"content":"      phaseService.currentPhase \u003d Phase.phaseBugReporting;","lastModifiedDate":"2021-02-04"},{"lineNumber":62,"author":{"gitId":"-"},"content":"      phaseService.reset();","lastModifiedDate":"2021-02-04"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      expect(phaseService.currentPhase).toBeNull();","lastModifiedDate":"2021-02-04"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-02-04"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-02-04"},{"lineNumber":66,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-02-04"}],"authorContributionMap":{"Low Jun Kai, Sean":1,"Dylan Ghee":6,"-":59}},{"path":"tests/services/profile.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { Profile } from \u0027../../src/app/core/models/profile.model\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":2,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { GithubService } from \u0027../../src/app/core/services/github.service\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":3,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { ProfileService } from \u0027../../src/app/core/services/profile.service\u0027;","lastModifiedDate":"2021-04-19"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"let githubService: GithubService;","lastModifiedDate":"2021-04-19"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"let profileService: ProfileService;","lastModifiedDate":"2021-04-19"},{"lineNumber":7,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"const EMPTY_PROFILES \u003d [];","lastModifiedDate":"2021-04-19"},{"lineNumber":9,"author":{"gitId":"Low Jun Kai, Sean"},"content":"const VALID_PROFILES \u003d [","lastModifiedDate":"2021-04-19"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  \u003cProfile\u003e{","lastModifiedDate":"2021-04-19"},{"lineNumber":11,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    profileName: \u0027CATcher\u0027,","lastModifiedDate":"2021-04-19"},{"lineNumber":12,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    encodedText: \u0027CATcher-org/public_data\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":13,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":14,"author":{"gitId":"Low Jun Kai, Sean"},"content":"];","lastModifiedDate":"2021-04-19"},{"lineNumber":15,"author":{"gitId":"Low Jun Kai, Sean"},"content":"const INVALID_PROFILES \u003d [","lastModifiedDate":"2021-04-19"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  {","lastModifiedDate":"2021-04-19"},{"lineNumber":17,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    profileName: \u0027CATcher\u0027","lastModifiedDate":"2021-04-19"},{"lineNumber":18,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  }","lastModifiedDate":"2021-04-19"},{"lineNumber":19,"author":{"gitId":"Low Jun Kai, Sean"},"content":"];","lastModifiedDate":"2021-04-19"},{"lineNumber":20,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":21,"author":{"gitId":"Low Jun Kai, Sean"},"content":"describe(\u0027ProfileService\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":22,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":23,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    githubService \u003d new GithubService(null, null, null);","lastModifiedDate":"2021-04-19"},{"lineNumber":24,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    profileService \u003d new ProfileService(githubService);","lastModifiedDate":"2021-04-19"},{"lineNumber":25,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  });","lastModifiedDate":"2021-04-19"},{"lineNumber":26,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":27,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  describe(\u0027.fetchExternalProfiles()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":28,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should return an empty array if no profiles are given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":29,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      spyOn(window, \u0027fetch\u0027).and.returnValue(generateProfilesPromise(EMPTY_PROFILES));","lastModifiedDate":"2021-04-19"},{"lineNumber":30,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      return profileService.fetchExternalProfiles().then((profiles) \u003d\u003e expect(profiles).toEqual(EMPTY_PROFILES));","lastModifiedDate":"2021-04-19"},{"lineNumber":31,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-19"},{"lineNumber":32,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":33,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should return the set of profiles if a set of valid profiles is given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":34,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      spyOn(window, \u0027fetch\u0027).and.returnValue(generateProfilesPromise(VALID_PROFILES));","lastModifiedDate":"2021-04-19"},{"lineNumber":35,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      return profileService.fetchExternalProfiles().then((profiles) \u003d\u003e expect(profiles).toEqual(VALID_PROFILES));","lastModifiedDate":"2021-04-19"},{"lineNumber":36,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-19"},{"lineNumber":37,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":38,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should throw an error if a set of invalid profiles is given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":39,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      spyOn(window, \u0027fetch\u0027).and.returnValue(generateProfilesPromise(INVALID_PROFILES));","lastModifiedDate":"2021-04-19"},{"lineNumber":40,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      return profileService","lastModifiedDate":"2021-04-19"},{"lineNumber":41,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .fetchExternalProfiles()","lastModifiedDate":"2021-04-19"},{"lineNumber":42,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .then(() \u003d\u003e fail())","lastModifiedDate":"2021-04-19"},{"lineNumber":43,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .catch((error: Error) \u003d\u003e expect(error.message).toEqual(\u0027profiles.json is malformed\u0027));","lastModifiedDate":"2021-04-19"},{"lineNumber":44,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-19"},{"lineNumber":45,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  });","lastModifiedDate":"2021-04-19"},{"lineNumber":46,"author":{"gitId":"Low Jun Kai, Sean"},"content":"});","lastModifiedDate":"2021-04-19"},{"lineNumber":47,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-19"},{"lineNumber":48,"author":{"gitId":"Low Jun Kai, Sean"},"content":"function generateProfilesPromise(profiles: any[]): Promise\u003cResponse\u003e {","lastModifiedDate":"2021-04-19"},{"lineNumber":49,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  const mockResponse: Response \u003d { json: () \u003d\u003e Promise.resolve({ profiles: profiles }) } as Response;","lastModifiedDate":"2021-04-19"},{"lineNumber":50,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  return Promise.resolve(mockResponse);","lastModifiedDate":"2021-04-19"},{"lineNumber":51,"author":{"gitId":"Low Jun Kai, Sean"},"content":"}","lastModifiedDate":"2021-04-19"}],"authorContributionMap":{"Low Jun Kai, Sean":51}},{"path":"tests/services/repo-creator.service.spec.ts","fileType":"ts","lines":[{"lineNumber":1,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import {","lastModifiedDate":"2021-03-24"},{"lineNumber":2,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  BUG_REPORTING_INVALID_ROLE,","lastModifiedDate":"2021-03-24"},{"lineNumber":3,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  CURRENT_PHASE_REPO_CLOSED,","lastModifiedDate":"2021-03-24"},{"lineNumber":4,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  MISSING_REQUIRED_REPO,","lastModifiedDate":"2021-03-24"},{"lineNumber":5,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  RepoCreatorService","lastModifiedDate":"2021-03-24"},{"lineNumber":6,"author":{"gitId":"Low Jun Kai, Sean"},"content":"} from \u0027../../src/app/core/services/repo-creator.service\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":7,"author":{"gitId":"-"},"content":"import { of } from \u0027rxjs\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":8,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { UserService } from \u0027../../src/app/core/services/user.service\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":9,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { Phase } from \u0027../../src/app/core/models/phase.model\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":10,"author":{"gitId":"Low Jun Kai, Sean"},"content":"import { USER_JUNWEI, USER_Q } from \u0027../constants/data.constants\u0027;","lastModifiedDate":"2021-03-24"},{"lineNumber":11,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":12,"author":{"gitId":"-"},"content":"const PHASE_OWNER \u003d \u0027CATcher-org\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":13,"author":{"gitId":"-"},"content":"const PHASE_REPO \u003d \u0027bugreporting\u0027;","lastModifiedDate":"2021-03-08"},{"lineNumber":14,"author":{"gitId":"-"},"content":"let repoCreatorService: RepoCreatorService;","lastModifiedDate":"2021-03-08"},{"lineNumber":15,"author":{"gitId":"Low Jun Kai, Sean"},"content":"let matDialogRef: any;","lastModifiedDate":"2021-04-05"},{"lineNumber":16,"author":{"gitId":"Low Jun Kai, Sean"},"content":"let matDialog: any;","lastModifiedDate":"2021-04-05"},{"lineNumber":17,"author":{"gitId":"-"},"content":"let githubService: any;","lastModifiedDate":"2021-03-08"},{"lineNumber":18,"author":{"gitId":"Low Jun Kai, Sean"},"content":"let userService: UserService;","lastModifiedDate":"2021-03-24"},{"lineNumber":19,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":20,"author":{"gitId":"-"},"content":"describe(\u0027RepoCreatorService\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-08"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {","lastModifiedDate":"2021-03-08"},{"lineNumber":22,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    userService \u003d new UserService(null, null);","lastModifiedDate":"2021-03-24"},{"lineNumber":23,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    githubService \u003d jasmine.createSpyObj(\u0027GithubService\u0027, [\u0027isRepositoryPresent\u0027, \u0027createRepository\u0027]);","lastModifiedDate":"2021-03-24"},{"lineNumber":24,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    matDialog \u003d jasmine.createSpyObj(\u0027MatDialog\u0027, [\u0027open\u0027]);","lastModifiedDate":"2021-04-05"},{"lineNumber":25,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    matDialogRef \u003d jasmine.createSpyObj(\u0027MatDialogRef\u003cSessionFixConfirmationComponent\u003e\u0027, [\u0027afterClosed\u0027]);","lastModifiedDate":"2021-04-05"},{"lineNumber":26,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    repoCreatorService \u003d new RepoCreatorService(githubService, userService, matDialog);","lastModifiedDate":"2021-04-05"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-03-08"},{"lineNumber":28,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  describe(\u0027.verifyRepoCreation()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-08"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    it(\u0027should not need to check the presence of the repository if no fix was done\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-08"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      of(null).pipe(repoCreatorService.verifyRepoCreation(PHASE_OWNER, PHASE_REPO)).subscribe();","lastModifiedDate":"2021-03-08"},{"lineNumber":32,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":33,"author":{"gitId":"-"},"content":"      expect(githubService.isRepositoryPresent).not.toHaveBeenCalled();","lastModifiedDate":"2021-03-08"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-08"},{"lineNumber":35,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    it(\u0027should check the presence of the repository if a fix was done\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-08"},{"lineNumber":37,"author":{"gitId":"-"},"content":"      githubService.isRepositoryPresent.and.callFake(() \u003d\u003e of(true));","lastModifiedDate":"2021-03-08"},{"lineNumber":38,"author":{"gitId":"-"},"content":"      of(true).pipe(repoCreatorService.verifyRepoCreation(PHASE_OWNER, PHASE_REPO)).subscribe();","lastModifiedDate":"2021-03-08"},{"lineNumber":39,"author":{"gitId":"-"},"content":"","lastModifiedDate":"2021-03-08"},{"lineNumber":40,"author":{"gitId":"-"},"content":"      expect(githubService.isRepositoryPresent).toHaveBeenCalledWith(PHASE_OWNER, PHASE_REPO);","lastModifiedDate":"2021-03-08"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    });","lastModifiedDate":"2021-03-08"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  });","lastModifiedDate":"2021-03-08"},{"lineNumber":43,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":44,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  describe(\u0027.requestRepoCreationPermissions()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":45,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should not return any permissions if the repo was already created\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":46,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(true)","lastModifiedDate":"2021-04-05"},{"lineNumber":47,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.requestRepoCreationPermissions(Phase.phaseBugReporting, PHASE_REPO))","lastModifiedDate":"2021-04-05"},{"lineNumber":48,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe((repoCreationPermission: boolean | null) \u003d\u003e expect(repoCreationPermission).toBe(null));","lastModifiedDate":"2021-04-05"},{"lineNumber":49,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-05"},{"lineNumber":50,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":51,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should not return any permissions if the repo was not created and the current phase is not bugReporting\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":52,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(false)","lastModifiedDate":"2021-04-05"},{"lineNumber":53,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.requestRepoCreationPermissions(Phase.phaseModeration, PHASE_REPO))","lastModifiedDate":"2021-04-05"},{"lineNumber":54,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe((repoCreationPermission: boolean | null) \u003d\u003e expect(repoCreationPermission).toBe(null));","lastModifiedDate":"2021-04-05"},{"lineNumber":55,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-05"},{"lineNumber":56,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":57,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should return permissions from matDialog if the repo was not created and current phase is bugReporting\u0027, () \u003d\u003e {","lastModifiedDate":"2021-04-05"},{"lineNumber":58,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      userService.currentUser \u003d USER_JUNWEI;","lastModifiedDate":"2021-04-05"},{"lineNumber":59,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      matDialog.open.and.callFake(() \u003d\u003e matDialogRef);","lastModifiedDate":"2021-04-05"},{"lineNumber":60,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      const permissionFromDialog \u003d false;","lastModifiedDate":"2021-04-05"},{"lineNumber":61,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      matDialogRef.afterClosed.and.callFake(() \u003d\u003e of(permissionFromDialog));","lastModifiedDate":"2021-04-05"},{"lineNumber":62,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(false)","lastModifiedDate":"2021-04-05"},{"lineNumber":63,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.requestRepoCreationPermissions(Phase.phaseBugReporting, PHASE_REPO))","lastModifiedDate":"2021-04-05"},{"lineNumber":64,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe((repoCreationPermission: boolean | null) \u003d\u003e expect(repoCreationPermission).toBe(permissionFromDialog));","lastModifiedDate":"2021-04-05"},{"lineNumber":65,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":66,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      expect(matDialog.open).toHaveBeenCalledTimes(1);","lastModifiedDate":"2021-04-05"},{"lineNumber":67,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      expect(matDialogRef.afterClosed).toHaveBeenCalledTimes(1);","lastModifiedDate":"2021-04-05"},{"lineNumber":68,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-04-05"},{"lineNumber":69,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  });","lastModifiedDate":"2021-04-05"},{"lineNumber":70,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-04-05"},{"lineNumber":71,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  describe(\u0027verifyRepoCreationPermissions()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":72,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should return the original permissions if repo creation was not needed\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":73,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      userService.currentUser \u003d USER_JUNWEI;","lastModifiedDate":"2021-03-24"},{"lineNumber":74,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(null)","lastModifiedDate":"2021-03-24"},{"lineNumber":75,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.verifyRepoCreationPermissions(Phase.phaseBugReporting))","lastModifiedDate":"2021-03-24"},{"lineNumber":76,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe((repoCreationPermission: boolean | null) \u003d\u003e expect(repoCreationPermission).toBe(null));","lastModifiedDate":"2021-03-24"},{"lineNumber":77,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":78,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":79,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should return the original permissions if permissions were given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":80,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      userService.currentUser \u003d USER_JUNWEI;","lastModifiedDate":"2021-03-24"},{"lineNumber":81,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(true)","lastModifiedDate":"2021-03-24"},{"lineNumber":82,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.verifyRepoCreationPermissions(Phase.phaseBugReporting))","lastModifiedDate":"2021-03-24"},{"lineNumber":83,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe((repoCreationPermission: boolean | null) \u003d\u003e expect(repoCreationPermission).toBe(true));","lastModifiedDate":"2021-03-24"},{"lineNumber":84,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":85,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":86,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should throw an error if no permissions were given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":87,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(false)","lastModifiedDate":"2021-03-24"},{"lineNumber":88,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.verifyRepoCreationPermissions(Phase.phaseBugReporting))","lastModifiedDate":"2021-03-24"},{"lineNumber":89,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe({","lastModifiedDate":"2021-03-24"},{"lineNumber":90,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          next: () \u003d\u003e fail(),","lastModifiedDate":"2021-03-24"},{"lineNumber":91,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          error: (err) \u003d\u003e expect(err).toEqual(new Error(MISSING_REQUIRED_REPO))","lastModifiedDate":"2021-03-24"},{"lineNumber":92,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        });","lastModifiedDate":"2021-03-24"},{"lineNumber":93,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":94,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":95,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should throw an error if the wrong phase were given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":96,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(true)","lastModifiedDate":"2021-03-24"},{"lineNumber":97,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.verifyRepoCreationPermissions(Phase.phaseModeration))","lastModifiedDate":"2021-03-24"},{"lineNumber":98,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe({","lastModifiedDate":"2021-03-24"},{"lineNumber":99,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          next: () \u003d\u003e fail(),","lastModifiedDate":"2021-03-24"},{"lineNumber":100,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          error: (err) \u003d\u003e expect(err).toEqual(new Error(CURRENT_PHASE_REPO_CLOSED))","lastModifiedDate":"2021-03-24"},{"lineNumber":101,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        });","lastModifiedDate":"2021-03-24"},{"lineNumber":102,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":103,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":104,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should throw an error if permissions, correct phase, but wrong user role were given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":105,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      userService.currentUser \u003d USER_Q;","lastModifiedDate":"2021-03-24"},{"lineNumber":106,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(true)","lastModifiedDate":"2021-03-24"},{"lineNumber":107,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .pipe(repoCreatorService.verifyRepoCreationPermissions(Phase.phaseBugReporting))","lastModifiedDate":"2021-03-24"},{"lineNumber":108,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        .subscribe({","lastModifiedDate":"2021-03-24"},{"lineNumber":109,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          next: () \u003d\u003e fail(),","lastModifiedDate":"2021-03-24"},{"lineNumber":110,"author":{"gitId":"Low Jun Kai, Sean"},"content":"          error: (err) \u003d\u003e expect(err).toEqual(new Error(BUG_REPORTING_INVALID_ROLE))","lastModifiedDate":"2021-03-24"},{"lineNumber":111,"author":{"gitId":"Low Jun Kai, Sean"},"content":"        });","lastModifiedDate":"2021-03-24"},{"lineNumber":112,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":113,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  });","lastModifiedDate":"2021-03-24"},{"lineNumber":114,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":115,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  describe(\u0027.attemptRepoCreation()\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":116,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should not create the repository if repo creation is not needed\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":117,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(null).pipe(repoCreatorService.attemptRepoCreation(PHASE_REPO)).subscribe();","lastModifiedDate":"2021-03-24"},{"lineNumber":118,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":119,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      expect(githubService.createRepository).not.toHaveBeenCalled();","lastModifiedDate":"2021-03-24"},{"lineNumber":120,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":121,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":122,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    it(\u0027should create the repository if permissions, correct phase and correct user role were given\u0027, () \u003d\u003e {","lastModifiedDate":"2021-03-24"},{"lineNumber":123,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      userService.currentUser \u003d USER_JUNWEI;","lastModifiedDate":"2021-03-24"},{"lineNumber":124,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      githubService.createRepository.and.callFake(() \u003d\u003e of(true));","lastModifiedDate":"2021-03-24"},{"lineNumber":125,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      of(true).pipe(repoCreatorService.attemptRepoCreation(PHASE_REPO)).subscribe();","lastModifiedDate":"2021-03-24"},{"lineNumber":126,"author":{"gitId":"Low Jun Kai, Sean"},"content":"","lastModifiedDate":"2021-03-24"},{"lineNumber":127,"author":{"gitId":"Low Jun Kai, Sean"},"content":"      expect(githubService.createRepository).toHaveBeenCalledWith(PHASE_REPO);","lastModifiedDate":"2021-03-24"},{"lineNumber":128,"author":{"gitId":"Low Jun Kai, Sean"},"content":"    });","lastModifiedDate":"2021-03-24"},{"lineNumber":129,"author":{"gitId":"Low Jun Kai, Sean"},"content":"  });","lastModifiedDate":"2021-03-24"},{"lineNumber":130,"author":{"gitId":"-"},"content":"});","lastModifiedDate":"2021-03-08"}],"authorContributionMap":{"Low Jun Kai, Sean":104,"-":26}}]
